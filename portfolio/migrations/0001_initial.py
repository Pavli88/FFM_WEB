# Generated by Django 5.1.2 on 2025-02-27 17:30

import datetime
import django.db.models.deletion
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('instrument', '0018_auto_20240929_2139'),
    ]

    operations = [
        migrations.CreateModel(
            name='Nav',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('portfolio_code', models.CharField(default='', max_length=30)),
                ('pos_val', models.FloatField(default=0.0)),
                ('cash_val', models.FloatField(default=0.0)),
                ('margin', models.FloatField(default=0.0)),
                ('accured_income', models.FloatField(default=0.0)),
                ('short_liab', models.FloatField(default=0.0)),
                ('long_liab', models.FloatField(default=0.0)),
                ('accured_expenses', models.FloatField(default=0.0)),
                ('units', models.FloatField(default=0.0)),
                ('nav_per_share', models.FloatField(default=0.0)),
                ('pnl', models.FloatField(default=0.0)),
                ('unrealized_pnl', models.FloatField(default=0.0)),
                ('ugl_diff', models.FloatField(default=0.0)),
                ('total_pnl', models.FloatField(default=0.0)),
                ('date', models.DateField()),
                ('holding_nav', models.FloatField(default=0.0)),
                ('cost', models.FloatField(default=0.0)),
                ('subscription', models.FloatField(default=0.0)),
                ('redemption', models.FloatField(default=0.0)),
                ('total_cf', models.FloatField(default=0.0)),
                ('trade_return', models.FloatField(default=0.0)),
                ('price_return', models.FloatField(default=0.0)),
            ],
        ),
        migrations.CreateModel(
            name='Portfolio',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('portfolio_name', models.CharField(default='', max_length=30)),
                ('portfolio_code', models.CharField(max_length=30, null=True, unique=True)),
                ('portfolio_type', models.CharField(default='', max_length=30)),
                ('status', models.CharField(default='Not Funded', max_length=30)),
                ('currency', models.CharField(default='', max_length=30)),
                ('creation_date', models.DateField(blank=True, default=datetime.datetime.now)),
                ('inception_date', models.DateField(null=True)),
                ('perf_start_date', models.DateField(null=True)),
                ('termination_date', models.DateField(null=True)),
                ('is_terminated', models.CharField(default=False, max_length=30)),
                ('owner', models.CharField(default='', max_length=30)),
                ('manager', models.CharField(default='', max_length=30)),
                ('public', models.BooleanField(default=False)),
                ('is_automated', models.BooleanField(default=False)),
                ('weekend_valuation', models.BooleanField(default=False)),
                ('valuation_frequency', models.CharField(default='Daily', max_length=30)),
                ('calc_holding', models.BooleanField(default=False)),
                ('description', models.CharField(default='', max_length=2000)),
                ('pricing_tolerance', models.IntegerField(default=30)),
            ],
        ),
        migrations.CreateModel(
            name='Process',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('portfolio_code', models.CharField(default='', max_length=40)),
                ('date', models.DateTimeField(auto_now_add=True)),
                ('process', models.CharField(default='', max_length=40)),
            ],
        ),
        migrations.CreateModel(
            name='SecurityReturn',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('portfolio_code', models.CharField(default='', max_length=40)),
                ('date', models.DateField()),
                ('security', models.IntegerField(default=0)),
                ('weight', models.FloatField(default=0.0)),
                ('trade_return', models.FloatField(default=0.0)),
                ('price_return', models.FloatField(default=0.0)),
                ('income_return', models.FloatField(default=0.0)),
                ('fx_return', models.FloatField(default=0.0)),
                ('contribution', models.FloatField(default=0.0)),
            ],
        ),
        migrations.CreateModel(
            name='TotalReturn',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('portfolio_code', models.CharField(default='', max_length=30)),
                ('total_return', models.FloatField(default=0.0)),
                ('end_date', models.DateField(null=True)),
                ('period', models.CharField(default='', max_length=30)),
            ],
        ),
        migrations.CreateModel(
            name='TradeRoutes',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('portfolio_code', models.CharField(default='', max_length=30)),
                ('inst_id', models.IntegerField()),
                ('ticker_id', models.IntegerField()),
                ('broker_account_id', models.IntegerField()),
                ('is_active', models.BooleanField(default=False)),
                ('quantity', models.IntegerField(default=1)),
            ],
        ),
        migrations.CreateModel(
            name='TransactionPnl',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('transaction_id', models.IntegerField(default=0)),
                ('portfolio_code', models.CharField(default='', max_length=30)),
                ('security', models.IntegerField(default=0)),
                ('pnl', models.FloatField(default=0.0)),
                ('date', models.DateField(null=True)),
            ],
        ),
        migrations.CreateModel(
            name='PortGroup',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('parent_id', models.IntegerField(default=0)),
                ('portfolio', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, to='portfolio.portfolio')),
            ],
        ),
        migrations.CreateModel(
            name='Transaction',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('portfolio_code', models.CharField(default='', max_length=30)),
                ('option', models.CharField(default='', max_length=30)),
                ('quantity', models.FloatField(default=0.0)),
                ('price', models.FloatField(default=0.0)),
                ('mv', models.FloatField(default=0.0)),
                ('local_mv', models.FloatField(default=0.0)),
                ('bv', models.FloatField(default=0.0)),
                ('local_bv', models.FloatField(default=0.0)),
                ('trade_date', models.DateField(null=True)),
                ('settlement_date', models.DateField(null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('created_on', models.DateTimeField(auto_now_add=True)),
                ('currency', models.CharField(default='', max_length=30)),
                ('trading_cost', models.FloatField(default=0.0)),
                ('financing_cost', models.FloatField(default=0.0)),
                ('transaction_type', models.CharField(default='', max_length=30)),
                ('transaction_link_code', models.IntegerField(default=0)),
                ('open_status', models.CharField(default='Open', max_length=50)),
                ('account_id', models.IntegerField(null=True)),
                ('broker_id', models.IntegerField(null=True)),
                ('broker', models.CharField(default='', max_length=30)),
                ('net_cashflow', models.FloatField(default=0.0)),
                ('local_cashflow', models.FloatField(default=0.0)),
                ('margin_balance', models.FloatField(default=0.0)),
                ('margin_rate', models.FloatField(default=0.0)),
                ('fx_rate', models.FloatField(default=1.0)),
                ('security', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='instrument.instruments')),
            ],
        ),
        migrations.CreateModel(
            name='RGL',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('portfolio_code', models.CharField(default='', max_length=30)),
                ('base_mv', models.FloatField(default=0.0)),
                ('local_mv', models.FloatField(default=0.0)),
                ('date', models.DateField(null=True)),
                ('transaction', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, to='portfolio.transaction')),
            ],
        ),
        migrations.CreateModel(
            name='Positions',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('portfolio_code', models.CharField(default='', max_length=30)),
                ('quantity', models.FloatField(default=0.0)),
                ('date', models.DateTimeField(auto_now_add=True)),
                ('security', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='instrument.instruments')),
                ('transaction', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, to='portfolio.transaction')),
            ],
        ),
        migrations.CreateModel(
            name='Margin',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('portfolio_code', models.CharField(default='', max_length=30)),
                ('type', models.CharField(default='', max_length=30)),
                ('base_mv', models.FloatField(default=0.0)),
                ('local_mv', models.FloatField(default=0.0)),
                ('date', models.DateField(null=True)),
                ('transaction', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, to='portfolio.transaction')),
            ],
        ),
        migrations.CreateModel(
            name='Holding',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('portfolio_code', models.CharField(max_length=30)),
                ('date', models.DateField(null=True)),
                ('inv_num', models.IntegerField(default=0)),
                ('trade_type', models.CharField(default='', max_length=30)),
                ('trade_date', models.DateField(null=True)),
                ('quantity', models.FloatField(default=0.0)),
                ('trade_price', models.FloatField(default=0.0)),
                ('market_price', models.FloatField(default=0.0)),
                ('fx_rate', models.FloatField(default=0.0)),
                ('mv', models.FloatField(default=0.0)),
                ('bv', models.FloatField(default=0.0)),
                ('weight', models.FloatField(default=0.0)),
                ('pos_lev', models.FloatField(default=0.0)),
                ('ugl', models.FloatField(default=0.0)),
                ('rgl', models.FloatField(default=0.0)),
                ('margin_rate', models.FloatField(default=0.0)),
                ('instrument', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, to='instrument.instruments')),
                ('trd', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, to='portfolio.transaction')),
            ],
        ),
        migrations.CreateModel(
            name='Cash',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('portfolio_code', models.CharField(default='', max_length=30)),
                ('type', models.CharField(default='', max_length=30)),
                ('base_mv', models.FloatField(default=0.0)),
                ('local_mv', models.FloatField(default=0.0)),
                ('date', models.DateField(null=True)),
                ('transaction', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, to='portfolio.transaction')),
            ],
        ),
        migrations.CreateModel(
            name='UGL',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('portfolio_code', models.CharField(default='', max_length=30)),
                ('base_mv', models.FloatField(default=0.0)),
                ('local_mv', models.FloatField(default=0.0)),
                ('date', models.DateField(null=True)),
                ('transaction', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, to='portfolio.transaction')),
            ],
        ),
    ]
