(this.webpackJsonpffm_web_frontend=this.webpackJsonpffm_web_frontend||[]).push([[0],{105:function(e,t,r){},142:function(e,t,r){},143:function(e,t,r){},166:function(e,t,r){},169:function(e,t,r){},195:function(e,t,r){"use strict";r.r(t);var c=r(1),n=r.n(c),s=r(49),a=r.n(s),i=(r(142),r(3)),l=(r(143),r(25)),o=r(34),j=r(5),d=r(4),b=r(7),h=n.a.createContext({environment:"live"}),x=r(2),O=r(0),u=r(15),p=r(8),f=r.n(p),g=(r(33),function(e){var t=Object(c.useState)(e.robot),r=Object(i.a)(t,2),n=r[0],s=(r[1],Object(c.useState)(e.dailyRisk)),a=Object(i.a)(s,2),l=a[0],o=a[1],j=Object(c.useState)(e.tradeLimit),d=Object(i.a)(j,2),b=d[0],h=d[1],p=Object(c.useState)(e.riskOnTrade),g=Object(i.a)(p,2),m=g[0],y=g[1],v=Object(c.useState)(e.pLevel),S=Object(i.a)(v,2),w=S[0],_=(S[1],Object(c.useState)(e.qType)),C=Object(i.a)(_,2),k=C[0],N=C[1],A=Object(c.useState)(e.quantity),E=Object(i.a)(A,2),T=E[0],I=E[1],L=Object(c.useState)(e.sl),D=Object(i.a)(L,2),M=D[0],F=D[1],B=Object(c.useState)(e.winExp),P=Object(i.a)(B,2),R=P[0],z=P[1];return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:{verticalAlign:"middle"},children:n}),Object(O.jsx)("td",{style:{verticalAlign:"middle"},children:Object(O.jsx)(x.a.Control,{onChange:function(e){o(e.target.value)},type:"number",placeholder:l})}),Object(O.jsx)("td",{style:{verticalAlign:"middle"},children:Object(O.jsx)(x.a.Control,{onChange:function(e){h(e.target.value)},type:"number",placeholder:b})}),Object(O.jsx)("td",{style:{verticalAlign:"middle"},children:Object(O.jsx)(x.a.Control,{onChange:function(e){y(e.target.value)},type:"number",placeholder:m})}),Object(O.jsx)("td",{style:{verticalAlign:"middle"},children:Object(O.jsxs)(x.a.Control,{onChange:function(e){N(e.target.value)},defaultValue:k,as:"select",children:[Object(O.jsx)("option",{value:"Stop Based",children:"Stop Based"}),Object(O.jsx)("option",{value:"Fix",children:"Fix"})]})}),Object(O.jsx)("td",{style:{verticalAlign:"middle"},children:Object(O.jsx)(x.a.Control,{onChange:function(e){I(e.target.value)},type:"number",placeholder:T})}),Object(O.jsx)("td",{style:{verticalAlign:"middle"},children:Object(O.jsx)(x.a.Control,{onChange:function(e){F(e.target.value)},type:"number",placeholder:M})}),Object(O.jsx)("td",{style:{verticalAlign:"middle"},children:Object(O.jsx)(x.a.Control,{onChange:function(e){z(e.target.value)},type:"number",placeholder:R})}),Object(O.jsx)("td",{style:{verticalAlign:"middle"},children:Object(O.jsx)(u.a,{onClick:function(){f.a.post(e.server+"risk/update_robot_risk/",{robot:n,daily_risk:l,nbm_trades:b,risk_per_trade:m,pyramiding_level:w,quantity_type:k,quantity:T,sl:M,win_exp:R}).then((function(e){return alert("Risk is updated for "+n)})).catch((function(e){console.error("Error Message:",e)}))},children:"Update"})})]})}),m=r(26),y=function(e){var t=Object(c.useContext)(h).environment,r=Object(c.useState)([]),n=Object(i.a)(r,2),s=n[0],a=n[1];Object(c.useEffect)((function(){fetch(e.server+"risk/get_robot_risk/"+t).then((function(e){return e.json()})).then((function(e){return a(e)})).catch((function(e){console.error("Error Message:",e)}))}),[e]),console.log(s);var l=s.map((function(t){return Object(O.jsx)(g,{robot:t.robot,dailyRisk:t.daily_risk,tradeLimit:t.daily_trade_limit,riskOnTrade:t.risk_per_trade,pLevel:t.pyramiding_level,qType:t.quantity_type,quantity:t.quantity,sl:t.sl,winExp:t.win_exp,server:e.server},t.id)}));return Object(O.jsxs)(m.a,{children:[Object(O.jsx)("thead",{style:{fontSize:12},children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{style:{verticalAlign:"middle"},children:"Robot"}),Object(O.jsx)("th",{style:{verticalAlign:"middle"},children:"Daily Loss Limit %"}),Object(O.jsx)("th",{style:{verticalAlign:"middle"},children:"Max Number of Trades (Daily)"}),Object(O.jsx)("th",{style:{verticalAlign:"middle"},children:"Risk Exposure %"}),Object(O.jsx)("th",{style:{verticalAlign:"middle"},children:"Quantity Type"}),Object(O.jsx)("th",{style:{verticalAlign:"middle"},children:"Quantity"}),Object(O.jsx)("th",{style:{verticalAlign:"middle"},children:"SL"}),Object(O.jsx)("th",{style:{verticalAlign:"middle"},children:"Win Exp %"}),Object(O.jsx)("th",{})]})}),Object(O.jsx)("tbody",{children:l})]})},v=n.a.createContext(),S=function(){var e=Object(c.useContext)(v).server;return Object(O.jsx)(o.a,{className:"border",style:{background:"#FBFAFA",width:"100%",height:window.innerHeight,padding:"20px"},fluid:!0,children:Object(O.jsx)(j.a,{children:Object(O.jsx)(d.a,{children:Object(O.jsx)(o.a,{children:Object(O.jsxs)(b.a,{className:"card",children:[Object(O.jsx)(b.a.Title,{className:"card-header-first",children:" Robot Risk Parameters"}),Object(O.jsx)(y,{server:e})]})})})})})},w=(r(166),function(e){var t=Object(c.useState)([]),r=Object(i.a)(t,2),n=r[0],s=r[1];Object(c.useEffect)((function(){f.a.get(e.server+"home/load_robot_stats/"+e.env).then((function(e){return e.data})).then((function(e){return s(e)})).catch((function(e){console.error("Error Message:",e)}))}),[e]);var a=n.map((function(e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:{fontSize:14,verticalAlign:"middle"},className:"table-row-robot-name",children:e.robot.name}),Object(O.jsx)("td",{style:{fontSize:14,verticalAlign:"middle",color:e.balance<0?"red":"green"},className:"table-row-other",children:e.balance}),Object(O.jsxs)("td",{style:{fontSize:14,verticalAlign:"middle",color:e.dtd_ret<0?"red":"green"},className:"table-row-other",children:[e.dtd_ret," %"]}),Object(O.jsxs)("td",{style:{fontSize:14,verticalAlign:"middle",color:e.mtd_ret<0?"red":"green"},className:"table-row-other",children:[e.mtd_ret," %"]}),Object(O.jsxs)("td",{style:{fontSize:14,verticalAlign:"middle",color:e.ytd_ret<0?"red":"green"},className:"table-row-other",children:[e.ytd_ret," %"]})]},e.robot.id)}));return Object(O.jsx)(j.a,{style:{height:"450px",width:"100%",margin:"15px"},children:Object(O.jsx)(b.a,{className:"card",style:{margin:"0px"},children:Object(O.jsx)("div",{style:{height:"500px",overflowY:"scroll",overflowX:"hidden"},children:Object(O.jsxs)(m.a,{children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{style:{fontSize:14,verticalAlign:"middle"},className:"table-row-robot-name",children:"Robot"}),Object(O.jsx)("th",{style:{fontSize:14,verticalAlign:"middle"},children:"Balance"}),Object(O.jsx)("th",{style:{fontSize:14,verticalAlign:"middle"},children:"DTD"}),Object(O.jsx)("th",{style:{fontSize:14,verticalAlign:"middle"},children:"MTD"}),Object(O.jsx)("th",{style:{fontSize:14,verticalAlign:"middle"},children:"YTD"})]})}),Object(O.jsx)("tbody",{children:a})]})})})})}),_=r(21),C=r.n(_),k=n.a.createContext(),N=r(14),A=function(e){var t=Object(c.useState)(""),r=Object(i.a)(t,2),n=r[0],s=r[1];return Object(c.useEffect)((function(){f.a.get(e.url,{params:e.params}).then((function(t){return t.data.map((function(t){return Object(O.jsx)("option",{value:t[e.code],children:t[e.value]},t.id)}))})).then((function(e){return s(e)})).catch((function(e){console.error("Error Message:",e)}))}),[e]),n},E=function(e){var t={options:{plotOptions:{bar:{horizontal:e.horizontal}},xaxis:{categories:[],labels:{show:!1}},yaxis:[{labels:{}}],dataLabels:{enabled:!1}},series:[{name:"Aggregated Robot Profit and Loss",data:e.data}]};return Object(O.jsxs)(b.a,{className:"card",style:{margin:"0px"},children:[Object(O.jsx)(b.a.Title,{className:"card-header-first",children:e.title}),Object(O.jsx)(b.a.Body,{style:{padding:"0px"},children:Object(O.jsx)(j.a,{style:{height:"100%"},children:Object(O.jsx)(d.a,{style:{height:"100%"},children:Object(O.jsx)(C.a,{options:t.options,series:t.series,type:"bar",width:"100%",height:"100%"})})})})]})},T=function(e){var t,r=Object(c.useState)([]),n=Object(i.a)(r,2),s=n[0],a=n[1],l=s.map((function(e){return e.y}));return Object(c.useEffect)((function(){f.a.get(e.server+"home/daily_robot_balances").then((function(e){return a(e.data)})).catch((function(e){console.error("Error Message:",e)}))}),[e]),Object(O.jsxs)(j.a,{children:[Object(O.jsx)(j.a,{style:{height:"300px",width:"100%",margin:"0px",padding:"10px"},children:Object(O.jsx)(E,{data:(t=l,t.reduce((function(e,t){var r=e.sum,c=e.res;return r+=t,c.push(r),{sum:r,res:c}}),{sum:0,res:[]}).res),title:"Total Cumulative PnL - YTD",horizontal:!1})}),Object(O.jsx)(j.a,{style:{height:"300px",width:"100%",margin:"0px",padding:"10px"},children:Object(O.jsx)(E,{data:l,title:"Daily Total Robot PnL - YTD",horizontal:!1})})]})},I=function(e){return Object(O.jsxs)(b.a,{className:"card",style:{margin:"0px"},children:[Object(O.jsx)(b.a.Title,{style:{margin:"0px"},className:"card-header-first",children:e.title}),Object(O.jsx)(b.a.Body,{style:{display:"flex",justifyContent:"center",padding:"5px"},children:e.children})]})},L=function(e){var t=(new Date).toISOString().substr(0,10),r=Object(c.useState)(0),n=Object(i.a)(r,2),s=n[0],a=n[1],l=Object(c.useState)(0),o=Object(i.a)(l,2),b=o[0],h=o[1],x=Object(c.useState)(0),u=Object(i.a)(x,2),p=u[0],g=u[1];return Object(c.useEffect)((function(){f.a.get(e.server+"home/total_robot_pnl/",{params:{start_date:t}}).then((function(e){return a(e.data[0].data)})).catch((function(e){console.error("Error Message:",e)}))}),[e]),Object(c.useEffect)((function(){f.a.get(e.server+"home/total_robot_pnl/",{params:{start_date:t.substr(0,7)+"-01"}}).then((function(e){return h(e.data[0].data)})).catch((function(e){console.error("Error Message:",e)}))}),[e]),Object(c.useEffect)((function(){f.a.get(e.server+"home/total_robot_pnl/",{params:{start_date:t.substr(0,4)+"-01-01"}}).then((function(e){return g(e.data[0].data)})).catch((function(e){console.error("Error Message:",e)}))}),[e]),Object(O.jsxs)(j.a,{style:{height:"150px",width:"100%",margin:"0px",padding:"10px"},children:[Object(O.jsx)(d.a,{style:{height:"100%"},children:Object(O.jsx)(I,{title:"DTD",children:Object(O.jsx)("h1",{style:{margin:"auto",verticalAlign:"middle",color:s<0?"red":"green"},children:s})})}),Object(O.jsx)(d.a,{style:{height:"100%"},children:Object(O.jsx)(I,{title:"MTD",children:Object(O.jsx)("h1",{style:{margin:"auto",verticalAlign:"middle",color:b<0?"red":"green"},children:b})})}),Object(O.jsx)(d.a,{style:{height:"100%"},children:Object(O.jsx)(I,{title:"YTD",children:Object(O.jsx)("h1",{style:{margin:"auto",verticalAlign:"middle",color:p<0?"red":"green"},children:p})})})]})},D=function(e){var t={options:{labels:e.labels,dataLabels:{enabled:!0,formatter:function(e){return Math.round(100*e)/100+"%"}}},series:e.data};return Object(O.jsxs)(b.a,{className:"card",style:{margin:"0px"},children:[Object(O.jsx)(b.a.Title,{className:"card-header-first",children:e.title}),Object(O.jsx)(b.a.Body,{style:{padding:"0px"},children:Object(O.jsx)(j.a,{style:{height:"100%"},children:Object(O.jsx)(d.a,{style:{height:"100%"},children:Object(O.jsx)(C.a,{options:t.options,series:t.series,type:"donut",width:"100%",height:"100%"})})})})]})},M=function(e){var t=Object(c.useState)([]),r=Object(i.a)(t,2),n=r[0],s=r[1],a=Object(c.useState)([]),l=Object(i.a)(a,2),o=l[0],b=l[1],h=n.reduce((function(e,t){return e+t}),0);return Object(c.useEffect)((function(){f.a.get(e.server+"home/total_robot_balances_by_date/").then((function(e){s(e.data.map((function(e){return e.y}))),b(e.data.map((function(e){return e.x})))})).catch((function(e){console.error("Error Message:",e)}))}),[e]),Object(O.jsxs)(j.a,{style:{height:"300px",width:"100%",margin:"0px",padding:"0px"},children:[Object(O.jsx)(d.a,{style:{height:"100%"},children:Object(O.jsx)(I,{title:"Total Balance",children:Object(O.jsx)("h1",{style:{margin:"auto",verticalAlign:"middle"},children:Math.round(100*h)/100})})}),Object(O.jsx)(d.a,{style:{height:"100%"},children:Object(O.jsx)(D,{title:"Balance by Robots",data:n,labels:o})})]})},F=function(e){var t=(new Date).toISOString().substr(0,10),r=Object(c.useState)([]),n=Object(i.a)(r,2),s=n[0],a=n[1],l=Object(c.useState)([]),o=Object(i.a)(l,2),b=o[0],h=o[1],x=Object(c.useState)([]),u=Object(i.a)(x,2),p=u[0],g=u[1];return Object(c.useEffect)((function(){f.a.get(e.server+"home/robot_pnl/",{params:{start_date:t}}).then((function(e){return a(e.data)})).catch((function(e){console.error("Error Message:",e)}))}),[e]),Object(c.useEffect)((function(){f.a.get(e.server+"home/robot_pnl/",{params:{start_date:t.substr(0,7)+"-01"}}).then((function(e){return h(e.data)})).catch((function(e){console.error("Error Message:",e)}))}),[e]),Object(c.useEffect)((function(){f.a.get(e.server+"home/robot_pnl/",{params:{start_date:t.substr(0,4)+"-01-01"}}).then((function(e){return g(e.data)})).catch((function(e){console.error("Error Message:",e)}))}),[e]),Object(O.jsxs)(j.a,{style:{height:"300px",width:"100%",margin:"0px",padding:"10px"},children:[Object(O.jsx)(d.a,{style:{height:"100%"},children:Object(O.jsx)(E,{data:s,horizontal:!0})}),Object(O.jsx)(d.a,{style:{height:"100%"},children:Object(O.jsx)(E,{data:b,horizontal:!0})}),Object(O.jsx)(d.a,{style:{height:"100%"},children:Object(O.jsx)(E,{data:p,horizontal:!0})})]})},B=(r(168),r(169),function(e){var t=Object(c.useContext)(h).environment,r=Object(c.useContext)(v).server,n=(new Date).toISOString().substr(0,10),s=Object(c.useState)(n),a=Object(i.a)(s,2);a[0],a[1];return Object(O.jsx)(o.a,{style:{background:"#FBFAFA",width:"100%",height:window.innerHeight},fluid:!0,children:Object(O.jsxs)(j.a,{style:{height:window.innerHeight},children:[Object(O.jsxs)(d.a,{style:{height:"1000px",width:"50%",margin:"15px"},children:[Object(O.jsx)("h4",{style:{textAlign:"left",marginTop:"0px",marginBottom:"15px"},children:"Balance"}),Object(O.jsx)(M,{server:r,env:t}),Object(O.jsx)("h4",{style:{textAlign:"left",marginTop:"15px"},children:"Total Robot Results"}),Object(O.jsx)(T,{server:r})]}),Object(O.jsxs)(d.a,{style:{height:"1000px",width:"50%",margin:"15px"},children:[Object(O.jsx)("h4",{children:"Profit"}),Object(O.jsx)(L,{server:r}),Object(O.jsx)(F,{server:r}),Object(O.jsx)("h4",{children:"Performance"}),Object(O.jsx)(w,{server:r,env:t})]})]})})}),P=r(24),R=function(e){var t=Object(c.useState)(""),r=Object(i.a)(t,2),n=r[0],s=r[1],a=Object(c.useState)(""),l=Object(i.a)(a,2),o=l[0],j=l[1],d=Object(c.useState)("Trade"),b=Object(i.a)(d,2),h=b[0],p=b[1],g=Object(c.useState)("USD"),m=Object(i.a)(g,2),y=m[0],v=m[1],S=function(){e.hide()};console.log(n,h,y);var w=function(t){t.preventDefault(),f.a.post(e.server+"portfolios/new/",{port_name:n,port_type:h,port_currency:y,port_code:o}).then((function(t){"New Portfolio is created!"==t.data?(alert("New portfolio is created!"),e.hide()):alert(t.data)})).catch((function(e){console.error("Error Message:",e)}))};return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(N.a,{show:e.show,onHide:S,children:[Object(O.jsx)(N.a.Header,{closeButton:!0,children:Object(O.jsx)(N.a.Title,{children:"New Portfolio"})}),Object(O.jsx)(N.a.Body,{children:Object(O.jsxs)(x.a,{onSubmit:w,style:{width:"100%"},children:[Object(O.jsxs)(x.a.Group,{children:[Object(O.jsx)(x.a.Label,{children:"Portfolio Name"}),Object(O.jsx)(x.a.Control,{onChange:function(e){s(e.target.value)},type:"text",placeholder:"Portfolio Name",required:!0})]}),Object(O.jsxs)(x.a.Group,{children:[Object(O.jsx)(x.a.Label,{children:"Portfolio Code"}),Object(O.jsx)(x.a.Control,{onChange:function(e){j(e.target.value)},type:"text",placeholder:"Portfolio Code",required:!0})]}),Object(O.jsxs)(x.a.Group,{children:[Object(O.jsx)(x.a.Label,{children:"Portfolio Type"}),Object(O.jsxs)(x.a.Control,{onChange:function(e){p(e.target.value)},as:"select",children:[Object(O.jsx)("option",{value:"Trade",children:"Trade"}),Object(O.jsx)("option",{value:"Savings",children:"Savings"}),Object(O.jsx)("option",{value:"Investment",children:"Investment"})]})]}),Object(O.jsxs)(x.a.Group,{children:[Object(O.jsx)(x.a.Label,{children:"Portfolio Currency"}),Object(O.jsxs)(x.a.Control,{onChange:function(e){v(e.target.value)},as:"select",children:[Object(O.jsx)("option",{value:"USD",children:"USD"}),Object(O.jsx)("option",{value:"HUF",children:"HUF"}),Object(O.jsx)("option",{value:"EUR",children:"EUR"})]})]})]})}),Object(O.jsxs)(N.a.Footer,{children:[Object(O.jsx)(u.a,{variant:"secondary",onClick:S,children:"Close"}),Object(O.jsx)(u.a,{variant:"primary",onClick:w,children:"Save"})]})]})})},z=r(16),G=(r(124),r(218)),H=r(68),U=r.n(H),Y=r(69),q=r.n(Y),V=r(214),W=function(e){var t=new Date,r=new Date(t.getFullYear(),t.getMonth(),1),n=Object(c.useState)(r.toISOString().substr(0,10)),s=Object(i.a)(n,2),a=s[0],l=s[1],o=Object(c.useState)(t.toISOString().substr(0,10)),b=Object(i.a)(o,2),h=b[0],p=b[1],g=Object(c.useState)([]),m=Object(i.a)(g,2),y=m[0],v=m[1],S=Object(c.useState)(e.portfolio),w=Object(i.a)(S,2),_=w[0],C=w[1],k=y.map((function(e,t){return Object(O.jsx)(V.a,{nodeId:t.toString(),label:e.portfolio,children:e.response.map((function(e,r){return Object(O.jsx)(V.a,{nodeId:t.toString()+r.toString(),label:e.date,children:e.msgs.map((function(e){return Object(O.jsx)(V.a,{label:e.msg})}))})}))})})),A=function(t){t.target.checked?C("ALL"):C(e.portfolio)},E=function(t){t.preventDefault(),f.a.post(e.server+"portfolios/positions/",{portfolio:_,start_date:a,end_date:h}).then((function(e){return v(e.data)})).catch((function(e){console.error("Error Message:",e)}))};return Object(O.jsxs)(N.a,{show:e.show,onHide:function(){e.hide()},size:"xl",children:[Object(O.jsx)(N.a.Header,{closeButton:!0,children:Object(O.jsxs)(N.a.Title,{children:["Portfolio Position Calculation - ",_]})}),Object(O.jsx)(N.a.Body,{style:{height:"300px"},children:Object(O.jsxs)(j.a,{style:{height:"100%"},children:[Object(O.jsx)(d.a,{style:{height:"100%"},children:Object(O.jsx)(x.a,{onSubmit:E,style:{width:"100%",height:"100%"},children:Object(O.jsxs)(j.a,{style:{height:"60px",width:"100%",padding:"5px",margin:"5px"},children:[Object(O.jsx)(j.a,{style:{width:"100%",margin:"0px"},children:Object(O.jsxs)(x.a.Group,{style:{width:"100%",margin:"0px"},children:[Object(O.jsx)(x.a.Label,{className:"form-label-first",column:!0,sm:2,children:"From"}),Object(O.jsx)(d.a,{sm:10,children:Object(O.jsx)(x.a.Control,{type:"date",onChange:function(e){l(e.target.value)},defaultValue:r.toISOString().substr(0,10)})})]})}),Object(O.jsx)(j.a,{style:{width:"100%",margin:"0px"},children:Object(O.jsxs)(x.a.Group,{style:{width:"100%"},children:[Object(O.jsx)(x.a.Label,{className:"form-label-first",column:!0,sm:2,children:"To"}),Object(O.jsx)(d.a,{sm:10,children:Object(O.jsx)(x.a.Control,{type:"date",onChange:function(e){p(e.target.value)},defaultValue:t.toISOString().substr(0,10)})})]})})]})})}),Object(O.jsx)(d.a,{style:{height:"100%"},children:Object(O.jsx)(G.a,{"aria-label":"file system navigator",defaultCollapseIcon:Object(O.jsx)(U.a,{}),defaultExpandIcon:Object(O.jsx)(q.a,{}),sx:{height:"100%",flexGrow:1,maxWidth:"100%",overflowY:"auto"},children:k})})]})}),Object(O.jsx)(N.a.Footer,{style:{width:"100%",margin:"0px"},children:Object(O.jsxs)(j.a,{style:{width:"100%",margin:"0px"},children:[Object(O.jsx)(d.a,{children:Object(O.jsxs)(j.a,{children:[Object(O.jsx)(d.a,{children:Object(O.jsx)(x.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:Object(O.jsx)(x.a.Check,{onClick:A,type:"checkbox",label:"All Portfolios"})})}),Object(O.jsx)(d.a,{children:Object(O.jsx)(x.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:Object(O.jsx)(x.a.Check,{onClick:A,type:"checkbox",label:"Since Inception"})})})]})}),Object(O.jsx)(d.a,{children:Object(O.jsx)(x.a.Group,{style:{width:"100%"},children:Object(O.jsx)(d.a,{sm:10,children:Object(O.jsx)(u.a,{variant:"primary",onClick:E,style:{width:"100%"},children:"Calculate"})})})})]})})]})},X=function(e){var t=new Date,r=new Date(t.getFullYear(),t.getMonth(),1),n=Object(c.useState)(r.toISOString().substr(0,10)),s=Object(i.a)(n,2),a=s[0],l=s[1],o=Object(c.useState)(t.toISOString().substr(0,10)),b=Object(i.a)(o,2),h=b[0],p=b[1],g=Object(c.useState)([]),m=Object(i.a)(g,2),y=m[0],v=m[1],S=Object(c.useState)(e.portfolio),w=Object(i.a)(S,2),_=w[0],C=w[1],k=y.map((function(e,t){var r=e.response.map((function(e){return Object(O.jsx)(V.a,{label:e.date+" "+e.msg})}));return Object(O.jsx)(V.a,{nodeId:t.toString(),label:e.portfolio,children:r})})),A=function(t){t.preventDefault(),f.a.post(e.server+"portfolios/cash_holding/",{portfolio:_,start_date:a,end_date:h}).then((function(e){return v(e.data)})).catch((function(e){console.error("Error Message:",e)}))};return Object(O.jsxs)(N.a,{show:e.show,onHide:function(){e.hide()},size:"xl",children:[Object(O.jsx)(N.a.Header,{closeButton:!0,children:Object(O.jsxs)(N.a.Title,{children:["Cash Holding Calculation - ",_]})}),Object(O.jsx)(N.a.Body,{style:{width:"100%",height:"300px"},children:Object(O.jsxs)(j.a,{style:{height:"100%"},children:[Object(O.jsx)(d.a,{style:{height:"100%"},children:Object(O.jsx)(x.a,{onSubmit:A,style:{width:"100%",height:"100%"},children:Object(O.jsxs)(j.a,{style:{height:"60px",width:"100%",padding:"5px",margin:"5px"},children:[Object(O.jsx)(j.a,{style:{width:"100%",margin:"0px"},children:Object(O.jsxs)(x.a.Group,{style:{width:"100%",margin:"0px"},children:[Object(O.jsx)(x.a.Label,{className:"form-label-first",column:!0,sm:2,children:"From"}),Object(O.jsx)(d.a,{sm:10,children:Object(O.jsx)(x.a.Control,{type:"date",onChange:function(e){l(e.target.value)},defaultValue:r.toISOString().substr(0,10)})})]})}),Object(O.jsx)(j.a,{style:{width:"100%",margin:"0px"},children:Object(O.jsxs)(x.a.Group,{style:{width:"100%"},children:[Object(O.jsx)(x.a.Label,{className:"form-label-first",column:!0,sm:2,children:"To"}),Object(O.jsx)(d.a,{sm:10,children:Object(O.jsx)(x.a.Control,{type:"date",onChange:function(e){p(e.target.value)},defaultValue:t.toISOString().substr(0,10)})})]})})]})})}),Object(O.jsx)(d.a,{style:{height:"100%"},children:Object(O.jsx)(G.a,{"aria-label":"file system navigator",defaultCollapseIcon:Object(O.jsx)(U.a,{}),defaultExpandIcon:Object(O.jsx)(q.a,{}),sx:{height:"100%",flexGrow:1,maxWidth:"100%",overflowY:"auto"},children:k})})]})}),Object(O.jsx)(N.a.Footer,{style:{width:"100%",margin:"0px"},children:Object(O.jsxs)(j.a,{style:{width:"100%",margin:"0px"},children:[Object(O.jsx)(d.a,{children:Object(O.jsx)(x.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:Object(O.jsx)(x.a.Check,{onClick:function(t){t.target.checked?C("ALL"):C(e.portfolio),console.log(t.target.checked)},type:"checkbox",label:"All Portfolios"})})}),Object(O.jsx)(d.a,{children:Object(O.jsx)(x.a.Group,{style:{width:"100%"},children:Object(O.jsx)(d.a,{sm:10,children:Object(O.jsx)(u.a,{variant:"primary",onClick:A,style:{width:"100%"},children:"Calculate"})})})})]})})]})},Q=(r(105),function(e){var t=Object(c.useState)(0),r=Object(i.a)(t,2),n=r[0],s=r[1],a=Object(c.useState)(),l=Object(i.a)(a,2),o=l[0],j=l[1];return Object(c.useEffect)((function(){f.a.get(e.server+"robots/get_last_price/",{params:{robot:e.robot}}).then((function(t){s(t.data.price),j(t.data.date),e.getPrice(n)})).catch((function(e){console.error("Error Message:",e)}))}),[e]),Object(O.jsxs)(x.a.Group,{children:[Object(O.jsxs)(x.a.Label,{children:["Price - ",o]}),Object(O.jsx)("h2",{children:Math.round(100*n)/100})]})}),J=function(e){var t=Object(c.useState)(""),r=Object(i.a)(t,2),n=r[0],s=r[1],a=Object(c.useState)(""),l=Object(i.a)(a,2),o=l[0],b=l[1],h=Object(c.useState)(0),p=Object(i.a)(h,2),g=p[0],m=p[1],y=Object(c.useState)(0),v=Object(i.a)(y,2),S=v[0],w=v[1],_=Object(c.useState)(0),C=Object(i.a)(_,2),k=C[0],E=C[1],T={env:e.env},I=function(){e.hide()},L=function(t){t.preventDefault(),0===k?alert("Quantity can not be 0 !"):(f.a.post(e.server+"portfolios/portfolio_trade/",{portfolio:e.portfolio,unit:k,price:S,sec:o,sec_type:"Robot",sec_id:n}).then((function(e){return alert(e.data)})).catch((function(e){console.error("Error Message:",e)})),e.hide())};return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(N.a,{show:e.show,onHide:I,children:[Object(O.jsx)(N.a.Header,{closeButton:!0,children:Object(O.jsx)(N.a.Title,{children:"Buy Robot"})}),Object(O.jsx)(N.a.Body,{children:Object(O.jsxs)(x.a,{onSubmit:L,style:{width:"100%"},children:[Object(O.jsxs)(j.a,{children:[Object(O.jsx)(d.a,{children:Object(O.jsxs)(x.a.Group,{children:[Object(O.jsx)(x.a.Label,{children:"Portfolio"}),Object(O.jsx)(x.a.Control,{type:"text",placeholder:e.portfolio,value:e.portfolio,readOnly:!0})]})}),Object(O.jsx)(d.a,{children:Object(O.jsxs)(x.a.Group,{children:[Object(O.jsx)(x.a.Label,{children:"Available Cash (USD)"}),Object(O.jsx)(x.a.Control,{type:"text",placeholder:"2000",value:"2000",readOnly:!0})]})})]}),Object(O.jsxs)(j.a,{children:[Object(O.jsx)(d.a,{children:Object(O.jsxs)(x.a.Group,{children:[Object(O.jsx)(x.a.Label,{children:"Robot"}),Object(O.jsxs)(x.a.Control,{onChange:function(e){var t=e.nativeEvent.target.selectedIndex;s(e.target.value),b(e.nativeEvent.target[t].text),document.getElementById("unitInput").value=0,E(0),m(0)},as:"select",children:[Object(O.jsx)("option",{}),Object(O.jsx)(A,{url:e.server+"robots/get_robots_with_instrument/",params:T,code:1,value:2})]})]})}),Object(O.jsx)(d.a,{children:Object(O.jsx)(Q,{server:e.server,robot:o,getPrice:function(e){w(e),E(g/S)}})})]}),Object(O.jsxs)(j.a,{children:[Object(O.jsx)(d.a,{children:Object(O.jsxs)(x.a.Group,{children:[Object(O.jsx)(x.a.Label,{children:"Unit to invest"}),Object(O.jsx)(x.a.Control,{onChange:function(e){E(g/S),m(e.target.value)},type:"number",min:0,defaultValue:0,id:"unitInput"})]})}),Object(O.jsxs)(d.a,{children:[Object(O.jsx)(x.a.Label,{children:"Portfolio Quantity"}),Object(O.jsx)("h2",{children:Math.round(100*k)/100})]})]})]})}),Object(O.jsxs)(N.a.Footer,{children:[Object(O.jsx)(u.a,{variant:"secondary",onClick:I,children:"Close"}),Object(O.jsx)(u.a,{variant:"primary",onClick:L,children:"Save"})]})]})})},K=function(e){var t=function(){e.hide()},r=Object(c.useState)(0),n=Object(i.a)(r,2),s=n[0],a=n[1],l=Object(c.useState)("INFLOW"),o=Object(i.a)(l,2),j=o[0],d=o[1],b=Object(c.useState)("USD"),h=Object(i.a)(b,2),p=h[0],g=h[1],m=function(t){t.preventDefault(),console.log("form submited"),f.a.post(e.server+"portfolios/new_cash_flow/",{port_name:e.portfolio,amount:s,type:j,currency:p}).then((function(e){return alert(e.data)})).catch((function(e){console.error("Error Message:",e)})),g("USD")};return Object(O.jsxs)(N.a,{show:e.show,onHide:t,children:[Object(O.jsx)(N.a.Header,{closeButton:!0,children:Object(O.jsx)(N.a.Title,{children:"Funding"})}),Object(O.jsx)(N.a.Body,{children:Object(O.jsxs)(x.a,{onSubmit:m,style:{width:"100%"},children:[Object(O.jsxs)(x.a.Group,{children:[Object(O.jsx)(x.a.Label,{children:"Portfolio"}),Object(O.jsx)(x.a.Control,{type:"text",placeholder:e.portfolio,value:e.portfolio,readOnly:!0})]}),Object(O.jsxs)(x.a.Group,{children:[Object(O.jsx)(x.a.Label,{children:"Cash Flow"}),Object(O.jsx)(x.a.Control,{onChange:function(e){a(e.target.value)},type:"number",placeholder:"Value"})]}),Object(O.jsxs)(x.a.Group,{children:[Object(O.jsx)(x.a.Label,{children:"Currency"}),Object(O.jsxs)(x.a.Control,{onChange:function(e){g(e.target.value)},as:"select",children:[Object(O.jsx)("option",{value:"USD",children:"USD"}),Object(O.jsx)("option",{value:"EUR",children:"EUR"})]})]}),Object(O.jsxs)(x.a.Group,{children:[Object(O.jsx)(x.a.Label,{children:"Type"}),Object(O.jsx)(x.a.Control,{onChange:function(e){d(e.target.value)},as:"select",children:Object(O.jsx)("option",{value:"INFLOW",children:"Inflow"})})]})]})}),Object(O.jsxs)(N.a.Footer,{children:[Object(O.jsx)(u.a,{variant:"secondary",onClick:t,children:"Close"}),Object(O.jsx)(u.a,{variant:"primary",onClick:m,children:"Save"})]})]})},Z=function(e){var t=Object(c.useState)(""),r=Object(i.a)(t,2),n=r[0],s=r[1],a=Object(c.useState)(""),l=Object(i.a)(a,2),o=l[0],j=l[1],d=Object(c.useState)(""),b=Object(i.a)(d,2),h=b[0],p=b[1],g=Object(c.useState)("live"),m=Object(i.a)(g,2),y=m[0],v=m[1],S=Object(c.useState)("USD"),w=Object(i.a)(S,2),_=w[0],C=w[1],k=function(){e.hide()};return Object(O.jsxs)(N.a,{show:e.show,onHide:k,animation:!1,children:[Object(O.jsx)(N.a.Header,{closeButton:!0,children:Object(O.jsx)(N.a.Title,{children:"New Account"})}),Object(O.jsxs)(N.a.Body,{children:[Object(O.jsx)(x.a.Group,{children:Object(O.jsx)(x.a.Control,{onChange:function(e){s(e.target.value)},type:"text",placeholder:"Broker Name"})}),Object(O.jsx)(x.a.Group,{children:Object(O.jsx)(x.a.Control,{onChange:function(e){j(e.target.value)},type:"text",placeholder:"Account Number"})}),Object(O.jsx)(x.a.Group,{children:Object(O.jsx)(x.a.Control,{onChange:function(e){p(e.target.value)},type:"text",placeholder:"Token"})}),Object(O.jsxs)(x.a.Group,{children:[Object(O.jsx)(x.a.Label,{children:"Environment"}),Object(O.jsxs)(x.a.Control,{onChange:function(e){v(e.target.value)},as:"select",children:[Object(O.jsx)("option",{value:"live",children:"Live"}),Object(O.jsx)("option",{value:"demo",children:"Demo"})]})]}),Object(O.jsxs)(x.a.Group,{children:[Object(O.jsx)(x.a.Label,{children:"Currency"}),Object(O.jsxs)(x.a.Control,{onChange:function(e){C(e.target.value)},as:"select",children:[Object(O.jsx)("option",{value:"USD",children:"USD"}),Object(O.jsx)("option",{value:"EUR",children:"EUR"})]})]})]}),Object(O.jsxs)(N.a.Footer,{children:[Object(O.jsx)(u.a,{variant:"secondary",onClick:k,children:"Close"}),Object(O.jsx)(u.a,{variant:"primary",onClick:function(){f.a.post(e.server+"accounts/new_account/",{broker_name:n,account_number:o,env:y,token:h,currency:_}).then((function(e){return alert(e.data)})).catch((function(e){console.error("Error Message:",e)})),s(""),j(""),p(""),v("live"),C("USD"),e.hide()},children:"Save"})]})]})},$=n.a.createContext(),ee=function(e){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("h2",{children:"Portfolio Risk"})})},te=function(){var e=new Date,t=Object(c.useState)(e.toISOString().substr(0,10)),r=Object(i.a)(t,2),n=(r[0],r[1]);return Object(O.jsxs)(b.a,{className:"card",children:[Object(O.jsxs)(j.a,{children:[Object(O.jsx)(d.a,{children:Object(O.jsx)(b.a.Title,{className:"card-header-first",children:"Holdings"})}),Object(O.jsx)(d.a,{children:Object(O.jsxs)(x.a.Group,{as:j.a,style:{margin:"0px",padding:"5px"},children:[Object(O.jsx)(x.a.Label,{className:"form-label-first",column:!0,sm:2,children:"Date"}),Object(O.jsx)(d.a,{sm:10,children:Object(O.jsx)(x.a.Control,{type:"date",onChange:function(e){n(e.target.value)},defaultValue:e.toISOString().substr(0,10)})})]})})]}),Object(O.jsx)("div",{style:{height:"100%",overflowY:"scroll",overflowX:"hidden"},children:Object(O.jsxs)(m.a,{children:[Object(O.jsx)("thead",{className:"table-header-first",children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"table-header-row",children:"Starting Quantity"}),Object(O.jsx)("td",{className:"table-header-row",children:"Price"}),Object(O.jsx)("td",{className:"table-header-row",children:"Market Value"}),Object(O.jsx)("td",{className:"table-header-row",children:"Trade Date"}),Object(O.jsx)("td",{className:"table-header-row",children:"Instrument"}),Object(O.jsx)("td",{className:"table-header-row",children:"Instrument Type"}),Object(O.jsx)("td",{className:"table-header-row",children:"Source"})]})}),Object(O.jsx)("tbody",{})]})})]})},re=function(e){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(te,{})})},ce=function(e){var t=Object(c.useState)([e.default]),r=Object(i.a)(t,2),n=r[0],s=r[1];return Object(c.useEffect)((function(){f.a.get(e.server+"portfolios/get_portfolio_data/"+e.portfolio).then((function(e){return e.data.map((function(e){return e}))})).then((function(e){return s(e)})).catch((function(e){console.error("Error Message:",e)}))}),[e]),Object(O.jsxs)(b.a,{className:"card",style:{margin:"0px"},children:[Object(O.jsx)(b.a.Title,{className:"card-header-first",children:"Portfolio Details"}),Object(O.jsx)(b.a.Body,{children:Object(O.jsx)(j.a,{children:Object(O.jsxs)(d.a,{children:[Object(O.jsxs)("div",{style:{display:"flex",width:"100%"},children:[Object(O.jsx)("p",{children:"Portfolio Code"}),Object(O.jsx)("p",{style:{position:"absolute",right:"20px"},children:n[0].portfolio_code})]}),Object(O.jsxs)("div",{style:{display:"flex",width:"100%"},children:[Object(O.jsx)("p",{children:"Type"}),Object(O.jsx)("p",{style:{position:"absolute",right:"20px"},children:n[0].portfolio_type})]}),Object(O.jsxs)("div",{style:{display:"flex",width:"100%"},children:[Object(O.jsx)("p",{children:"Base Currency"}),Object(O.jsx)("p",{style:{position:"absolute",right:"20px"},children:n[0].currency})]}),Object(O.jsxs)("div",{style:{display:"flex",width:"100%"},children:[Object(O.jsx)("p",{children:"Inception Date"}),Object(O.jsx)("p",{style:{position:"absolute",right:"20px"},children:n[0].inception_date})]}),Object(O.jsxs)("div",{style:{display:"flex",width:"100%"},children:[Object(O.jsx)("p",{children:"Status"}),Object(O.jsx)("p",{style:{position:"absolute",right:"20px"},children:n[0].status})]})]})})})]})},ne=function(){return Object(O.jsxs)(b.a,{className:"card",style:{margin:"0px"},children:[Object(O.jsxs)(j.a,{children:[Object(O.jsx)(d.a,{children:Object(O.jsx)(b.a.Title,{className:"card-header-first",children:"Description"})}),Object(O.jsx)(d.a,{children:Object(O.jsx)(u.a,{children:"Edit"})})]}),Object(O.jsx)(b.a.Body,{children:Object(O.jsx)(j.a,{children:Object(O.jsx)(d.a,{})})})]})},se=function(e){var t=new Date,r=Object(c.useState)([{amount:0,currency:"USD"}]),n=Object(i.a)(r,2),s=n[0],a=n[1];return console.log(s),Object(c.useEffect)((function(){f.a.get(e.server+"portfolios/get_cash_holdings/",{params:{portfolio:e.portfolio,date:t.toISOString().substr(0,10)}}).then((function(e){return e.data.map((function(e){return e}))})).then((function(e){return a(e)})).catch((function(e){console.error("Error Message:",e)}))}),[e]),Object(O.jsxs)(b.a,{className:"card",style:{margin:"0px"},children:[Object(O.jsx)(b.a.Title,{className:"card-header-first",children:"Cash Holdings"}),Object(O.jsxs)(b.a.Subtitle,{className:"text-muted",children:["on ",t.toISOString().substr(0,10)]}),Object(O.jsx)(b.a.Body,{style:{padding:"0px"},children:Object(O.jsx)(j.a,{style:{margin:"0px",padding:"15px",display:"block"},children:Object(O.jsx)("h2",{children:s[0].amount})})})]})},ae=function(e){return Object(O.jsxs)(j.a,{style:{width:"100%",height:"100%",margin:"0px"},children:[Object(O.jsxs)(j.a,{style:{width:"50%",height:"400px",background:"red",margin:"0px"},children:[Object(O.jsx)(d.a,{children:Object(O.jsx)(ce,{portfolio:e.portfolio,server:e.server,default:e.default})}),Object(O.jsx)(d.a,{children:Object(O.jsx)(ne,{})})]}),Object(O.jsxs)(j.a,{style:{width:"50%",height:"150px",background:"blue",margin:"0px"},children:[Object(O.jsx)(d.a,{children:Object(O.jsx)(se,{portfolio:e.portfolio,server:e.server})}),Object(O.jsx)(d.a,{})]}),Object(O.jsx)(j.a,{style:{width:"100%",height:"400px",background:"blue",margin:"0px"}})]})},ie=function(e){return Object(O.jsx)(O.Fragment,{children:"portfolio settings"})},le=function(e){var t=new Date,r=new Date(t.getFullYear(),t.getMonth(),1),n=Object(c.useState)(r.toISOString().substr(0,10)),s=Object(i.a)(n,2),a=(s[0],s[1]),l=Object(c.useState)(t.toISOString().substr(0,10)),o=Object(i.a)(l,2),h=(o[0],o[1]),u=Object(c.useState)([]),p=Object(i.a)(u,2),g=p[0],y=p[1];return Object(c.useEffect)((function(){f.a.get(e.server+"portfolios/get_portfolio_transactions/"+e.portfolio).then((function(e){return e.data.map((function(e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:e[1]}),Object(O.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:e[2]}),Object(O.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:e[3]}),Object(O.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:e[4]}),Object(O.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:e[5]}),Object(O.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:e[6]}),Object(O.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:e[7]}),Object(O.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:e[8]})]},e[0])}))})).then((function(e){return y(e)})).catch((function(e){console.error("Error Message:",e)}))}),[e]),Object(O.jsxs)(b.a,{className:"card",children:[Object(O.jsxs)(j.a,{style:{width:"100%",margin:"0px"},children:[Object(O.jsx)(d.a,{sm:2,children:Object(O.jsx)(b.a.Title,{className:"card-header-first",children:"Transactions"})}),Object(O.jsxs)(d.a,{sm:10,style:{display:"flex"},children:[Object(O.jsx)(d.a,{children:Object(O.jsxs)(x.a.Group,{as:j.a,style:{margin:"0px",padding:"5px"},children:[Object(O.jsx)(x.a.Label,{className:"form-label-first",column:!0,sm:2,children:"From"}),Object(O.jsx)(d.a,{sm:10,children:Object(O.jsx)(x.a.Control,{type:"date",onChange:function(e){a(e.target.value)},defaultValue:r.toISOString().substr(0,10)})})]})}),Object(O.jsx)(d.a,{children:Object(O.jsxs)(x.a.Group,{as:j.a,style:{margin:"0px",padding:"5px"},children:[Object(O.jsx)(x.a.Label,{className:"form-label-first",column:!0,sm:2,children:"To"}),Object(O.jsx)(d.a,{sm:10,children:Object(O.jsx)(x.a.Control,{type:"date",onChange:function(e){h(e.target.value)},defaultValue:t.toISOString().substr(0,10)})})]})})]})]}),Object(O.jsx)("div",{style:{height:"100%",overflowY:"scroll",overflowX:"hidden"},children:Object(O.jsxs)(m.a,{children:[Object(O.jsx)("thead",{className:"table-header-first",children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"table-header-row",children:"Portfolio"}),Object(O.jsx)("td",{className:"table-header-row",children:"Quantity"}),Object(O.jsx)("td",{className:"table-header-row",children:"Price"}),Object(O.jsx)("td",{className:"table-header-row",children:"Market Value"}),Object(O.jsx)("td",{className:"table-header-row",children:"Trade Date"}),Object(O.jsx)("td",{className:"table-header-row",children:"Instrument"}),Object(O.jsx)("td",{className:"table-header-row",children:"Instrument Type"}),Object(O.jsx)("td",{className:"table-header-row",children:"Source"})]})}),Object(O.jsx)("tbody",{children:g})]})})]})},oe=function(e){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(le,{portfolio:e.portfolio,server:e.server})})},je=function(e){var t=new Date,r=new Date(t.getFullYear(),t.getMonth(),1),n=(Object(c.useContext)(k).robots,Object(c.useContext)(v).server),s=Object(c.useContext)(h).environment,a=Object(c.useContext)($).portfolioData,b=Object(c.useState)(a[0].portfolio_code),u=Object(i.a)(b,2),p=u[0],f=u[1],g=Object(c.useState)(r.toISOString().substr(0,10)),m=Object(i.a)(g,2),y=(m[0],m[1],Object(c.useState)(t.toISOString().substr(0,10))),S=Object(i.a)(y,2),w=(S[0],S[1],a.map((function(e){return Object(O.jsx)("option",{value:e.portfolio_code,children:e.portfolio_name},e.id)}))),_=Object(c.useState)(!1),C=Object(i.a)(_,2),N=C[0],A=C[1],E=Object(c.useState)(!1),T=Object(i.a)(E,2),I=T[0],L=T[1],D=Object(c.useState)(!1),M=Object(i.a)(D,2),F=M[0],B=M[1],G=Object(c.useState)(!1),H=Object(i.a)(G,2),U=H[0],Y=H[1],q=Object(c.useState)(!1),V=Object(i.a)(q,2),Q=V[0],Z=V[1];return Object(O.jsxs)(o.a,{style:{background:"#FBFAFA",width:"100%",height:window.innerHeight,padding:"0px"},fluid:!0,children:[Object(O.jsxs)(j.a,{style:{height:"100%",margin:"0px"},children:[Object(O.jsxs)(z.c,{children:[Object(O.jsx)(z.b,{style:{padding:"5px"},children:Object(O.jsx)(x.a.Control,{onChange:function(e){f(e.target.value)},as:"select",children:w})}),Object(O.jsxs)(z.a,{iconShape:"square",children:[Object(O.jsx)(z.b,{onClick:function(){A(!0)},children:"New Portfolio"}),Object(O.jsxs)(z.b,{children:["Dashboard",Object(O.jsx)(P.b,{to:"/portfolio/dashboard"})]}),Object(O.jsxs)(z.d,{title:"Cash Operations",children:[Object(O.jsx)(z.b,{onClick:function(){B(!0)},children:"Funding"}),Object(O.jsx)(z.b,{children:"Withdraw"})]}),Object(O.jsxs)(z.d,{title:"Trade",children:[Object(O.jsx)(z.b,{onClick:function(){L(!0)},children:"Robot"}),Object(O.jsx)(z.b,{children:"Security"})]}),Object(O.jsxs)(z.d,{title:"Calculations",children:[Object(O.jsx)(z.b,{onClick:function(){Z(!0)},children:"Cash Holdings"}),Object(O.jsx)(z.b,{onClick:function(){Y(!0)},children:"Positions"}),Object(O.jsx)(z.b,{children:"Holdings"}),Object(O.jsx)(z.b,{children:"Return"})]}),Object(O.jsxs)(z.b,{children:["Holdings",Object(O.jsx)(P.b,{to:"/portfolio/holdings"})]}),Object(O.jsxs)(z.b,{children:["Transactions",Object(O.jsx)(P.b,{to:"/portfolio/transactions"})]}),Object(O.jsxs)(z.b,{children:["Risk",Object(O.jsx)(P.b,{to:"/portfolio/risk"})]}),Object(O.jsxs)(z.b,{children:["Return",Object(O.jsx)(P.b,{to:"/portfolio/return"})]}),Object(O.jsxs)(z.b,{children:["Settings",Object(O.jsx)(P.b,{to:"/portfolio/settings"})]})]})]}),";",Object(O.jsx)(d.a,{style:{width:"50%"},children:Object(O.jsx)(j.a,{style:{padding:"15px",height:window.innerHeight,width:"100%",background:"green",margin:"0px"},children:Object(O.jsxs)(l.c,{children:[Object(O.jsx)(l.a,{path:"/portfolio/dashboard",children:Object(O.jsx)(ae,{portfolio:p,server:n,default:a[0]})}),Object(O.jsx)(l.a,{path:"/portfolio/holdings",children:Object(O.jsx)(re,{portfolio:p,server:n})}),Object(O.jsx)(l.a,{path:"/portfolio/transactions",children:Object(O.jsx)(oe,{portfolio:p,server:n})}),Object(O.jsx)(l.a,{path:"/portfolio/risk",children:Object(O.jsx)(ee,{portfolio:p,server:n})}),Object(O.jsx)(l.a,{path:"/portfolio/return"}),Object(O.jsx)(l.a,{path:"/portfolio/settings",children:Object(O.jsx)(ie,{})})]})})})]}),"// Modals",Object(O.jsx)(R,{show:N,hide:function(){A(!1)},server:n}),Object(O.jsx)(J,{show:I,hide:function(){L(!1)},portfolio:p,server:n,env:s}),Object(O.jsx)(K,{show:F,hide:function(){B(!1)},portfolio:p,server:n}),Object(O.jsx)(W,{show:U,hide:function(){Y(!1)},server:n,portfolio:p}),Object(O.jsx)(X,{show:Q,hide:function(){Z(!1)},server:n,portfolio:p})]})},de=function(e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:e.id}),Object(O.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:e.broker_id}),Object(O.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:e.security}),Object(O.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:e.robot}),Object(O.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:e.quantity}),Object(O.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:e.price}),Object(O.jsx)("td",{children:Object(O.jsx)(u.a,{onClick:function(){f.a.post(e.server+"trade_page/close_trade/",{broker_id:e.broker_id,robot:e.robot,trd_id:e.id}).then((function(e){return alert(e.data)})).catch((function(e){console.error("Error Message:",e)}))},children:"Close"})})]})},be=function(e){var t=Object(c.useState)([]),r=Object(i.a)(t,2),n=r[0],s=r[1];Object(c.useEffect)((function(){fetch(e.server+"trade_page/get_open_trades/"+e.env).then((function(e){return e.json()})).then((function(e){return s(e)})).catch((function(e){console.error("Error Message:",e)}))}),[e]);var a=n.map((function(t){return Object(O.jsx)(de,{server:e.server,id:t.id,broker_id:t.broker_id,security:t.security,robot:t.robot,quantity:t.quantity,price:t.open_price},t.id)}));return Object(O.jsx)(b.a,{style:{width:"100%"},children:Object(O.jsxs)(m.a,{children:[Object(O.jsx)("thead",{style:{fontSize:12},children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{style:{verticalAlign:"middle"},children:"Platform ID"}),Object(O.jsx)("th",{style:{verticalAlign:"middle"},children:"Broker ID"}),Object(O.jsx)("th",{style:{verticalAlign:"middle"},children:"Security"}),Object(O.jsx)("th",{style:{verticalAlign:"middle"},children:"Robot"}),Object(O.jsx)("th",{style:{verticalAlign:"middle"},children:"Quantity"}),Object(O.jsx)("th",{style:{verticalAlign:"middle"},children:"Price"}),Object(O.jsx)("th",{style:{verticalAlign:"middle"}})]})}),Object(O.jsx)("tbody",{style:{height:"100%",overflow:"scroll"},children:a})]})})},he=function(e){var t=Object(c.useState)(""),r=Object(i.a)(t,2),n=(r[0],r[1],Object(c.useState)()),s=Object(i.a)(n,2);s[0],s[1];return Object(O.jsxs)(b.a,{style:{},className:"card",children:[Object(O.jsx)(b.a.Title,{className:"card-header-first",children:"Robot Trade Execution"}),Object(O.jsx)("div",{style:{height:"200px",width:"200px"}})]})},xe=function(){var e=Object(c.useContext)(v).server,t=Object(c.useContext)(h).environment;return Object(O.jsxs)(o.a,{className:"border",style:{background:"#FBFAFA",width:"100%",height:window.innerHeight,padding:"20px"},fluid:!0,children:[Object(O.jsxs)(j.a,{style:{height:"400px"},children:[Object(O.jsx)(d.a,{style:{height:"100%"},children:Object(O.jsxs)(b.a,{style:{height:"100%"},className:"card",children:[Object(O.jsx)(b.a.Title,{className:"card-header-first",children:"Portfolio Trade"}),Object(O.jsx)("div",{style:{height:"500px",overflowY:"scroll",overflowX:"hidden"}})]})}),Object(O.jsx)(d.a,{style:{height:"100%"},children:Object(O.jsxs)(b.a,{style:{height:"100%"},className:"card",children:[Object(O.jsx)(b.a.Title,{className:"card-header-first",children:"Robot Trade"}),Object(O.jsx)("div",{style:{height:"500px",overflowY:"scroll",overflowX:"hidden"},children:Object(O.jsx)(he,{})})]})})]}),Object(O.jsx)("br",{}),Object(O.jsx)(j.a,{style:{height:"500px"},children:Object(O.jsx)(be,{env:t,server:e})})]})},Oe=r(215),ue=r(216),pe=(r(176),r(87)),fe=r(37),ge=r(82),me=r(70),ye=r.n(me),ve=function(e){var t=(new Date).toISOString().substr(0,10),r=Object(c.useState)(t),n=Object(i.a)(r,2),s=n[0],a=(n[1],Object(c.useState)([])),l=Object(i.a)(a,2),o=l[0],j=l[1],d=[],b=[];o.forEach((function(e){"Process"===e.msg_type&&b.push(e),"Trade"===e.msg_type&&d.push(e)})),Object(c.useEffect)((function(){var t=setInterval((function(){f.a.get(e.server+"home/system_messages/not_verified",{params:{date:s}}).then((function(e){return j(e.data)})).catch((function(e){console.error("Error Message:",e)}))}),9e5);return function(){return clearInterval(t)}}),[]);var h=function(t){f.a.get(e.server+"home/verify_sys_msg/"+t).then((function(e){return console.log(e.data)})).catch((function(e){console.error("Error Message:",e)}))};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(x.a,{style:{margin:"5px"},children:Object(O.jsx)(u.a,{id:"notError",children:"Error Notifications"})}),Object(O.jsx)(x.a,{style:{margin:"5px"},children:Object(O.jsx)(u.a,{id:"notRisk",children:"Risk Notifications"})}),Object(O.jsx)(x.a,{onClick:function(){b.forEach((function(e){me.store.addNotification({title:e.msg_type+" - "+e.msg_sub_type,message:e.msg,type:"success",insert:"top",container:"top-right",animationIn:["animate__animated","animate__fadeIn"],animationOut:["animate__animated","animate__fadeOut"],onRemoval:function(){h(e.id)}})}))},style:{margin:"5px"},children:Object(O.jsx)(u.a,{id:"notProcess",children:"Process Notifications"})}),Object(O.jsx)(x.a,{style:{margin:"5px"},children:Object(O.jsx)(u.a,{onClick:function(){d.forEach((function(e){me.store.addNotification({title:e.msg_type+" - "+e.msg_sub_type,message:e.msg,type:"success",insert:"top",container:"top-right",animationIn:["animate__animated","animate__fadeIn"],animationOut:["animate__animated","animate__fadeOut"],onRemoval:function(){h(e.id)}})}))},id:"notTrades",children:"Trade Notifications"})})]})},Se=function(e){var t=Object(c.useContext)(v).server,r=Object(c.useState)(!1),n=Object(i.a)(r,2),s=n[0],a=n[1];return Object(O.jsxs)(Oe.a,{bg:"dark",variant:"dark",children:[Object(O.jsx)(Oe.a.Brand,{href:"#home",children:"FFM SYSTEM"}),Object(O.jsxs)(ue.a,{className:"mr-auto",children:[Object(O.jsx)(ue.a.Link,{as:P.b,to:"/home",children:"Home"}),Object(O.jsx)(ue.a.Link,{as:P.b,to:"/portfolio",children:"Portfolio"}),Object(O.jsx)(ue.a.Link,{as:P.b,to:"/robot",children:"Robot"}),Object(O.jsx)(ue.a.Link,{as:P.b,to:"/risk",children:"Risk"}),Object(O.jsx)(ue.a.Link,{as:P.b,to:"/instruments",children:"Instrument"}),Object(O.jsx)(ue.a.Link,{as:P.b,to:"/trade",children:"Trade"}),Object(O.jsxs)(ge.a,{title:"Broker Accounts",children:[Object(O.jsx)(ge.a.Item,{onSelect:function(){a(!0)},children:"New"}),Object(O.jsx)(ge.a.Item,{children:"Update"}),Object(O.jsx)(ge.a.Item,{children:"Delete"})]})]}),Object(O.jsx)(ve,{server:t}),Object(O.jsxs)(x.a,{inline:!0,style:{margin:"5px"},children:[Object(O.jsx)(pe.a,{type:"text",placeholder:"Search",className:"mr-sm-2"}),Object(O.jsx)(u.a,{variant:"outline-info",children:"Search"})]}),Object(O.jsxs)(fe.a,{onSelect:function(t){e.onEnvChange(t)},style:{margin:"5px"},children:[Object(O.jsx)(fe.a.Toggle,{variant:"success",id:"dropdown-basic",children:e.env}),Object(O.jsxs)(fe.a.Menu,{children:[Object(O.jsx)(fe.a.Item,{eventKey:"live",children:"Live"}),Object(O.jsx)(fe.a.Item,{eventKey:"demo",children:"Demo"})]})]}),Object(O.jsx)(Z,{show:s,hide:function(){a(!1)},server:t})]})},we=function(e){var t=Object(c.useState)(""),r=Object(i.a)(t,2),n=r[0],s=r[1],a=Object(c.useState)(""),l=Object(i.a)(a,2),o=l[0],j=l[1],d=Object(c.useState)("oanda"),b=Object(i.a)(d,2),h=b[0],p=b[1],g=Object(c.useState)("live"),m=Object(i.a)(g,2),y=m[0],v=m[1],S=Object(c.useState)(""),w=Object(i.a)(S,2),_=w[0],C=w[1],k=Object(c.useState)(""),E=Object(i.a)(k,2),T=E[0],I=E[1];console.log(_),console.log(T);var L=function(){e.hide()},D={broker:h,env:y},M={broker:h},F=function(t){t.preventDefault(),f.a.post(e.server+"robots/new_robot/",{robot_name:n,strategy:o,security:T,broker:h,env:y,account:_}).then((function(e){return console.log(e)})).catch((function(e){console.error("Error Message:",e)})),e.hide()};return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(N.a,{show:e.show,onHide:L,animation:!1,children:[Object(O.jsx)(N.a.Header,{closeButton:!0,children:Object(O.jsx)(N.a.Title,{children:"New Robot"})}),Object(O.jsx)(N.a.Body,{children:Object(O.jsxs)(x.a,{onSubmit:F,style:{width:"100%"},children:[Object(O.jsxs)(x.a.Group,{children:[Object(O.jsx)(x.a.Label,{children:"Robot Name"}),Object(O.jsx)(x.a.Control,{onChange:function(e){s(e.target.value)},type:"text",placeholder:"Robot Name",maxLength:20})]}),Object(O.jsxs)(x.a.Group,{children:[Object(O.jsx)(x.a.Label,{children:"Strategy"}),Object(O.jsxs)(x.a.Control,{onChange:function(e){j(e.target.value)},as:"select",children:[Object(O.jsx)("option",{value:"Initiative",children:"Initiative"}),Object(O.jsx)("option",{value:"Responsive",children:"Responsive"}),Object(O.jsx)("option",{value:"Correction",children:"Correction"})]})]}),Object(O.jsxs)(x.a.Group,{children:[Object(O.jsx)(x.a.Label,{children:"Broker"}),Object(O.jsxs)(x.a.Control,{onChange:function(e){p(e.target.value)},as:"select",children:[Object(O.jsx)("option",{children:"oanda"}),Object(O.jsx)("option",{children:"Fix"})]})]}),Object(O.jsxs)(x.a.Group,{children:[Object(O.jsx)(x.a.Label,{children:"Environment"}),Object(O.jsxs)(x.a.Control,{onChange:function(e){v(e.target.value)},as:"select",children:[Object(O.jsx)("option",{value:"live",children:"Live"}),Object(O.jsx)("option",{value:"demo",children:"Demo"})]})]}),Object(O.jsxs)(x.a.Group,{children:[Object(O.jsx)(x.a.Label,{children:"Instruments"}),Object(O.jsx)(x.a.Control,{onChange:function(e){I(e.target.value)},as:"select",children:Object(O.jsx)(A,{url:e.server+"instruments/get_instruments/",params:M,code:"instrument_name",value:"instrument_name"})})]}),Object(O.jsxs)(x.a.Group,{children:[Object(O.jsx)(x.a.Label,{children:"Account Number"}),Object(O.jsx)(x.a.Control,{onChange:function(e){C(e.target.value)},as:"select",children:Object(O.jsx)(A,{url:e.server+"accounts/get_accounts_data/",params:D,code:"account_number",value:"account_number"})})]})]})}),Object(O.jsxs)(N.a.Footer,{children:[Object(O.jsx)(u.a,{variant:"secondary",onClick:L,children:"Close"}),Object(O.jsx)(u.a,{variant:"primary",onClick:F,children:"Save"})]})]})})},_e=function(e){var t=Object(c.useState)(!1),r=Object(i.a)(t,2),n=(r[0],r[1]),s=function(t){t.preventDefault(),n(!0),f.a.post(e.server+"robots/calculate_robot_balance/",{process:"Balance",robot:e.robot,start_date:e.start_date,end_date:e.end_date}).then((function(e){return n(!1)})).catch((function(e){console.error("Error Message:",e)}))};return Object(O.jsxs)(N.a,{show:e.show,onHide:function(){e.hide()},animation:!1,children:[Object(O.jsx)(N.a.Header,{closeButton:!0,children:Object(O.jsxs)(N.a.Title,{children:["Balance - ",e.robot]})}),Object(O.jsxs)(N.a.Body,{style:{width:"200px",height:"300px"},children:[Object(O.jsx)(x.a,{onSubmit:s,style:{width:"100%"},children:Object(O.jsx)(x.a.Group,{children:Object(O.jsx)(u.a,{variant:"primary",onClick:s,children:"Balance"})})}),Object(O.jsx)("h2",{children:"Calculating ..."})]})]})},Ce=function(e){var t=Object(c.useState)(e.robots),r=Object(i.a)(t,2),n=r[0],s=r[1];Object(c.useEffect)((function(){f.a.get(e.server+"robots/get_robots/"+e.env).then((function(e){return s(e.data)})).catch((function(e){console.error("Error Message:",e)}))}),[e]);var a=n.map((function(e){return Object(O.jsx)("option",{value:e.name,children:e.name},e.id)}));return Object(O.jsx)(x.a.Group,{as:j.a,style:{alignItems:"center"},children:Object(O.jsx)(d.a,{sm:10,children:Object(O.jsx)(x.a.Control,{onChange:function(t){e.robotChange(t.target.value)},as:"select",style:{margin:"0px"},children:a})})})},ke=function(e){var t=new Date,r=new Date(t.getFullYear(),t.getMonth(),1),n=Object(c.useState)(r.toISOString().substr(0,10)),s=Object(i.a)(n,2),a=s[0],l=s[1],o=Object(c.useState)(t.toISOString().substr(0,10)),b=Object(i.a)(o,2),h=b[0],p=b[1],g=Object(c.useState)(e.robot),m=Object(i.a)(g,2),y=m[0],v=m[1],S=Object(c.useState)([]),w=Object(i.a)(S,2),_=w[0],C=w[1],k=_.map((function(e,t){var r=e.response.map((function(e){return Object(O.jsx)(V.a,{label:e.date+" "+e.msg})}));return Object(O.jsx)(V.a,{nodeId:t.toString(),label:e.robot,children:r})})),A=function(t){t.preventDefault(),f.a.post(e.server+"robots/pricing/",{robot:y,start_date:a,end_date:h}).then((function(e){return C(e.data)})).catch((function(e){console.error("Error Message:",e)}))};return Object(O.jsxs)(N.a,{show:e.show,onHide:function(){e.hide(),v(e.robot)},animation:!1,size:"xl",children:[Object(O.jsx)(N.a.Header,{closeButton:!0,children:Object(O.jsxs)(N.a.Title,{children:["Pricing - ",y]})}),Object(O.jsx)(N.a.Body,{children:Object(O.jsxs)(j.a,{style:{height:"100%"},children:[Object(O.jsx)(d.a,{style:{height:"100%"},children:Object(O.jsx)(x.a,{onSubmit:A,style:{width:"100%",height:"100%"},children:Object(O.jsxs)(j.a,{style:{height:"60px",width:"100%",padding:"5px",margin:"5px"},children:[Object(O.jsx)(j.a,{style:{width:"100%",margin:"0px"},children:Object(O.jsxs)(x.a.Group,{style:{width:"100%",margin:"0px"},children:[Object(O.jsx)(x.a.Label,{className:"form-label-first",column:!0,sm:2,children:"From"}),Object(O.jsx)(d.a,{sm:10,children:Object(O.jsx)(x.a.Control,{type:"date",onChange:function(e){l(e.target.value)},defaultValue:r.toISOString().substr(0,10)})})]})}),Object(O.jsx)(j.a,{style:{width:"100%",margin:"0px"},children:Object(O.jsxs)(x.a.Group,{style:{width:"100%"},children:[Object(O.jsx)(x.a.Label,{className:"form-label-first",column:!0,sm:2,children:"To"}),Object(O.jsx)(d.a,{sm:10,children:Object(O.jsx)(x.a.Control,{type:"date",onChange:function(e){p(e.target.value)},defaultValue:t.toISOString().substr(0,10)})})]})})]})})}),Object(O.jsx)(d.a,{style:{height:"100%"},children:Object(O.jsx)(G.a,{"aria-label":"file system navigator",defaultCollapseIcon:Object(O.jsx)(U.a,{}),defaultExpandIcon:Object(O.jsx)(q.a,{}),sx:{height:200,flexGrow:1,maxWidth:"100%",overflowY:"auto"},children:k})})]})}),Object(O.jsx)(N.a.Footer,{children:Object(O.jsxs)(j.a,{style:{width:"100%",margin:"0px"},children:[Object(O.jsx)(d.a,{children:Object(O.jsx)(x.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:Object(O.jsx)(x.a.Check,{onClick:function(t){t.target.checked?v("ALL"):v(e.robot),console.log(t.target.checked)},type:"checkbox",label:"All Robots"})})}),Object(O.jsx)(d.a,{children:Object(O.jsx)(x.a.Group,{style:{width:"100%"},children:Object(O.jsx)(d.a,{sm:10,children:Object(O.jsx)(u.a,{variant:"primary",onClick:A,style:{width:"100%"},children:"Calculate"})})})})]})})]})},Ne=function(e){var t=Object(c.useState)([e.default]),r=Object(i.a)(t,2),n=r[0],s=r[1],a=Object(c.useState)([]),l=Object(i.a)(a,2),o=l[0],h=l[1];return console.log(o),Object(c.useEffect)((function(){f.a.get(e.server+"robots/get_robot/"+e.robot).then((function(e){return e.data.map((function(e){return e}))})).then((function(e){return s(e)})).catch((function(e){console.error("Error Message:",e)}))}),[e]),Object(c.useEffect)((function(){f.a.get(e.server+"robots/get_last_price/",{params:{robot:e.robot,start_date:e.start_date,end_date:e.end_date}}).then((function(e){var t=e.data;h(t)})).catch((function(e){console.error("Error Message:",e)}))}),[e]),Object(O.jsx)(b.a,{className:"card",style:{margin:"0px"},children:Object(O.jsx)(b.a.Body,{style:{padding:"5px"},children:Object(O.jsxs)(j.a,{style:{height:"100%",width:"100%",margin:"0px"},children:[Object(O.jsxs)(d.a,{style:{height:"100%"},children:[Object(O.jsxs)(d.a,{style:{display:"flex",width:"100%"},children:[Object(O.jsx)("p",{children:"Strategy"}),Object(O.jsx)("p",{style:{position:"absolute",right:"0px"},children:n[0].strategy})]}),Object(O.jsxs)(d.a,{style:{display:"flex",width:"100%"},children:[Object(O.jsx)("p",{children:"Security"}),Object(O.jsx)("p",{style:{position:"absolute",right:"0px"},children:n[0].security})]})]}),Object(O.jsxs)(d.a,{style:{height:"100%"},children:[Object(O.jsxs)(d.a,{style:{display:"flex",width:"100%"},children:[Object(O.jsx)("p",{children:"Inception Date"}),Object(O.jsx)("p",{style:{position:"absolute",right:"0px"},children:n[0].inception_date})]}),Object(O.jsxs)(d.a,{style:{display:"flex",width:"100%"},children:[Object(O.jsx)("p",{children:"Broker"}),Object(O.jsx)("p",{style:{position:"absolute",right:"0px"},children:n[0].broker})]})]}),Object(O.jsxs)(d.a,{style:{height:"100%"},children:[Object(O.jsxs)(d.a,{style:{display:"flex",width:"100%"},children:[Object(O.jsx)("p",{children:"Account Number"}),Object(O.jsx)("p",{style:{position:"absolute",right:"0px"},children:n[0].account_number})]}),Object(O.jsxs)(d.a,{style:{display:"flex",width:"100%"},children:[Object(O.jsxs)("p",{children:["Last Price on ",o.date]}),Object(O.jsx)("p",{style:{position:"absolute",right:"0px"},children:Math.round(100*o.price)/100})]})]})]})})})},Ae=function(e){return Object(O.jsx)(j.a,{style:{width:"100%",height:"100%",margin:"0px"},children:Object(O.jsx)(j.a,{style:{width:"100%",height:"100px",margin:"0px"},children:Object(O.jsx)(Ne,{server:e.server,robot:e.robot,default:e.default})})})},Ee=r(134),Te=function(e){var t,r=0,c=0,n=[],s=[],a=0,i=0,l=Object(Ee.a)(e.data);try{for(l.s();!(t=l.n()).done;){var o=t.value;o<0?(r=+r+1,n.push(o)):o>0&&(c=+c+1,s.push(o))}}catch(y){l.e(y)}finally{l.f()}for(var h=0;h<n.length;h++)i+=n[h];for(var x=0;x<s.length;x++)a+=s[x];var u=Math.round(c/(r+c)*100)/100,p=Math.round(r/(r+c)*100)/100,f=Math.round(a/s.length*100)/100,g=Math.round(i/n.length*100)/100,m={options:{chart:{toolbar:!1,id:"basic-bar"},xaxis:{categories:[],labels:{show:!1}},yaxis:[{labels:{formatter:function(e){return e.toFixed(0)}},title:{text:"Profit"}}],dataLabels:{enabled:!1}},series:[{name:"series-1",data:e.data}]};return Object(O.jsxs)(b.a,{className:"card",style:{margin:"0px"},children:[Object(O.jsx)(b.a.Title,{className:"card-header-first",children:"Trades"}),Object(O.jsx)(b.a.Body,{style:{padding:"0px"},children:Object(O.jsxs)(j.a,{style:{height:"100%",width:"100%",margin:"0px"},children:[Object(O.jsx)(d.a,{style:{height:"100%"},sm:8,children:Object(O.jsx)("div",{style:{padding:"0px",height:"100%"},children:Object(O.jsx)(C.a,{options:m.options,series:m.series,type:"bar",width:"100%",height:"100%"})})}),Object(O.jsxs)(d.a,{sm:4,style:{height:"100%"},children:[Object(O.jsx)(j.a,{children:Object(O.jsx)("h2",{children:"Statistics"})}),Object(O.jsxs)(j.a,{style:{padding:"5px",marginRight:"25px",position:"centered"},children:[Object(O.jsxs)(d.a,{children:[Object(O.jsxs)("div",{style:{display:"flex",width:"100%"},children:[Object(O.jsx)("p",{children:"Total Trades"}),Object(O.jsx)("p",{style:{position:"absolute",right:"0px"},children:r+c})]}),Object(O.jsxs)("div",{style:{display:"flex",width:"100%"},children:[Object(O.jsx)("p",{children:"Winning Trades"}),Object(O.jsx)("p",{style:{position:"absolute",right:"0px"},children:c})]}),Object(O.jsxs)("div",{style:{display:"flex",width:"100%"},children:[Object(O.jsx)("p",{children:"Loosing Trades"}),Object(O.jsx)("p",{style:{position:"absolute",right:"0px"},children:r})]}),Object(O.jsxs)("div",{style:{display:"flex",width:"100%"},children:[Object(O.jsx)("p",{children:"Winning %"}),Object(O.jsx)("p",{style:{position:"absolute",right:"0px"},children:u})]}),Object(O.jsxs)("div",{style:{display:"flex",width:"100%"},children:[Object(O.jsx)("p",{children:"Loosing %"}),Object(O.jsx)("p",{style:{position:"absolute",right:"0px"},children:p})]})]}),Object(O.jsxs)(d.a,{children:[Object(O.jsxs)("div",{style:{display:"flex",width:"100%"},children:[Object(O.jsx)("p",{children:"Total Winning P&L"}),Object(O.jsx)("p",{style:{position:"absolute",right:"0px"},children:Math.round(100*a)/100})]}),Object(O.jsxs)("div",{style:{display:"flex",width:"100%"},children:[Object(O.jsx)("p",{children:"Total Losing P&L"}),Object(O.jsx)("p",{style:{position:"absolute",right:"0px"},children:Math.round(100*i)/100})]}),Object(O.jsxs)("div",{style:{display:"flex",width:"100%"},children:[Object(O.jsx)("p",{children:"Avg Winning Trade"}),Object(O.jsx)("p",{style:{position:"absolute",right:"0px"},children:f})]}),Object(O.jsxs)("div",{style:{display:"flex",width:"100%"},children:[Object(O.jsx)("p",{children:"Avg Losing Trade"}),Object(O.jsx)("p",{style:{position:"absolute",right:"0px"},children:g})]}),Object(O.jsxs)("div",{style:{display:"flex",width:"100%"},children:[Object(O.jsx)("p",{children:"Payoff Ratio"}),Object(O.jsx)("p",{style:{position:"absolute",right:"0px"},children:Math.round(100*Math.abs(f/g))/100})]})]})]}),Object(O.jsxs)(j.a,{style:{width:"100%",padding:"5px",position:"absolute",bottom:"0px"},children:[Object(O.jsxs)(d.a,{style:{display:"flex",width:"100%"},children:[Object(O.jsx)("p",{style:{fontWeight:"bold"},children:"Profit Factor"}),Object(O.jsx)("p",{style:{position:"absolute",right:"15px",fontWeight:"bold"},children:Math.round(u*f/(p/g)*-100)/100})]}),Object(O.jsxs)(d.a,{children:[Object(O.jsx)("p",{style:{fontWeight:"bold",position:"absolute",left:"0px"},children:"Total Profit"}),Object(O.jsx)("p",{style:{position:"absolute",right:"45px",fontWeight:"bold"},children:Math.round(100*(a+i))/100})]})]})]})]})})]})},Ie=function(e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:e.quantity}),Object(O.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:e.status}),Object(O.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:e.pnl}),Object(O.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:e.open_price}),Object(O.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:e.close_price}),Object(O.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:e.open_time}),Object(O.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:e.close_time}),Object(O.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:e.side}),Object(O.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:e.broker_id}),Object(O.jsx)("td",{children:Object(O.jsx)(u.a,{children:"Update"})})]})},Le=function(e){var t=e.data.map((function(e){return Object(O.jsx)(Ie,{quantity:e.quantity,status:e.status,pnl:e.pnl,open_price:e.open_price,close_price:e.close_price,open_time:e.open_time,close_time:e.close_time,side:e.side,broker_id:e.broker_id})}));return Object(O.jsx)(b.a,{style:{width:"100%"},children:Object(O.jsx)("div",{style:{height:"500px",overflowY:"scroll",overflowX:"hidden"},children:Object(O.jsxs)(m.a,{children:[Object(O.jsx)("thead",{style:{fontSize:12},children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{style:{verticalAlign:"middle"},children:"Quantity"}),Object(O.jsx)("th",{style:{verticalAlign:"middle"},children:"Status"}),Object(O.jsx)("th",{style:{verticalAlign:"middle"},children:"P&L"}),Object(O.jsx)("th",{style:{verticalAlign:"middle"},children:"Open Price"}),Object(O.jsx)("th",{style:{verticalAlign:"middle"},children:"Close Price"}),Object(O.jsx)("th",{style:{verticalAlign:"middle"},children:"Open Time"}),Object(O.jsx)("th",{style:{verticalAlign:"middle"},children:"Close Time"}),Object(O.jsx)("th",{style:{verticalAlign:"middle"},children:"Side"}),Object(O.jsx)("th",{style:{verticalAlign:"middle"},children:"Broker ID"}),Object(O.jsx)("th",{style:{verticalAlign:"middle"}})]})}),Object(O.jsx)("tbody",{style:{height:"100%",overflow:"scroll"},children:t})]})})})},De=function(e){var t=Object(c.useState)([]),r=Object(i.a)(t,2),n=r[0],s=r[1],a=n.map((function(e){return e.pnl}));return Object(c.useEffect)((function(){f.a.get(e.server+"robots/trades/",{params:{robot:e.robot,start_date:e.start_date,end_date:e.end_date}}).then((function(e){return s(e.data)})).catch((function(e){console.error("Error Message:",e)}))}),[e]),Object(O.jsxs)(j.a,{style:{width:"100%",height:"100%",margin:"0px"},children:[Object(O.jsx)(j.a,{style:{width:"100%",height:"400px",margin:"0px"},children:Object(O.jsx)(Te,{data:a})}),Object(O.jsx)(j.a,{style:{width:"100%",height:"400px",margin:"0px"},children:Object(O.jsx)(Le,{data:n})})]})},Me=function(e){var t=Object(c.useState)([]),r=Object(i.a)(t,2),n=r[0],s=r[1];Object(c.useEffect)((function(){f.a.get(e.server+"robots/drawdown/",{params:{robot:e.robot,start_date:e.start_date,end_date:e.end_date}}).then((function(e){return e.data.map((function(e){return e}))})).then((function(e){return s(e)})).catch((function(e){console.error("Error Message:",e)}))}),[e]);var a={options:{chart:{toolbar:!1,id:"basic-bar"},xaxis:{categories:[],labels:{show:!1}},yaxis:[{labels:{formatter:function(e){return e.toFixed(0)}}}],dataLabels:{enabled:!1}},series:[{name:"Drawdown",data:n}]};return Object(O.jsxs)(b.a,{className:"card",style:{margin:"0px"},children:[Object(O.jsx)(b.a.Title,{className:"card-header-first",children:"Drawdown"}),Object(O.jsx)(b.a.Body,{style:{padding:"0px"},children:Object(O.jsx)(j.a,{style:{height:"100%"},children:Object(O.jsx)(d.a,{style:{height:"100%"},children:Object(O.jsx)(C.a,{options:a.options,series:a.series,type:"bar",width:"100%",height:"100%"})})})})]})},Fe=function(e){return Object(O.jsx)(j.a,{style:{width:"100%",height:"100%",margin:"0px"},children:Object(O.jsx)(j.a,{style:{width:"100%",height:"400px",margin:"0px"},children:Object(O.jsx)(Me,{robot:e.robot,start_date:e.start_date,end_date:e.end_date,server:e.server})})})},Be=function(e){var t={options:{chart:{toolbar:!1,id:"basic-bar"},xaxis:{categories:[],labels:{show:!1},axisBorder:{show:!1,color:"#78909C",height:1,width:"100%",offsetX:0,offsetY:0},axisTicks:{show:!1,borderType:"solid",color:"#78909C",height:6,offsetX:0,offsetY:0}},yaxis:[{labels:{formatter:function(e){return e.toFixed(0)}}}],dataLabels:{enabled:!1}},title:{text:"Cumulative Return",align:"left",margin:10,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:"bold",color:"#263238"}},series:[{name:"series-1",data:e.data}]};return Object(O.jsxs)(b.a,{className:"card",style:{margin:"0px"},children:[Object(O.jsx)(b.a.Title,{className:"card-header-first",children:"Cumulative Return"}),Object(O.jsx)(b.a.Body,{style:{padding:"0px"},children:Object(O.jsx)(j.a,{style:{height:"100%",width:"100%",margin:"0px"},children:Object(O.jsx)(d.a,{style:{height:"100%"},children:Object(O.jsx)("div",{style:{padding:"0px",height:"100%"},children:Object(O.jsx)(C.a,{options:t.options,series:t.series,type:"line",width:"100%",height:"100%"})})})})})]})},Pe=function(e){var t=Object(c.useState)([]),r=Object(i.a)(t,2),n=r[0],s=r[1];return Object(c.useEffect)((function(){f.a.get(e.server+"robots/cumulative_ret/",{params:{robot:e.robot,start_date:e.start_date,end_date:e.end_date}}).then((function(e){return e.data.map((function(e){return e}))})).then((function(e){return s(e)})).catch((function(e){console.error("Error Message:",e)}))}),[e]),Object(O.jsx)(Be,{data:n})},Re=function(e){var t=Object(c.useState)([]),r=Object(i.a)(t,2),n=r[0],s=r[1];console.log(n);var a=n.map((function(e){return e.ret}));Object(c.useEffect)((function(){f.a.get(e.server+"robots/get_balance/",{params:{robot:e.robot,start_date:e.start_date,end_date:e.end_date}}).then((function(e){return e.data.map((function(e){return e}))})).then((function(e){return s(e)})).catch((function(e){console.error("Error Message:",e)}))}),[e]);var l={options:{chart:{toolbar:!1,id:"basic-bar"},xaxis:{categories:[],labels:{show:!1}},yaxis:[{labels:{formatter:function(e){return e.toFixed(0)}}}],dataLabels:{enabled:!1}},series:[{name:"series-1",data:a}]};return Object(O.jsxs)(b.a,{className:"card",style:{margin:"0px"},children:[Object(O.jsx)(b.a.Title,{className:"card-header-first",children:"Daily Return"}),Object(O.jsx)(b.a.Body,{style:{padding:"0px"},children:Object(O.jsx)(j.a,{style:{height:"100%",width:"100%",margin:"0px"},children:Object(O.jsx)(d.a,{style:{height:"100%"},children:Object(O.jsx)(C.a,{options:l.options,series:l.series,type:"bar",width:"100%",height:"100%"})})})})]})},ze=function(e){return Object(O.jsxs)(j.a,{style:{width:"100%",height:"100%",margin:"0px"},children:[Object(O.jsx)(j.a,{style:{width:"50%",height:"300px",margin:"0px"},children:Object(O.jsx)(Pe,{robot:e.robot,start_date:e.start_date,end_date:e.end_date,server:e.server})}),Object(O.jsx)(j.a,{style:{width:"50%",height:"300px",margin:"0px"},children:Object(O.jsx)(Re,{robot:e.robot,start_date:e.start_date,end_date:e.end_date,server:e.server})})]})},Ge=function(e){var t=new Date,r=new Date(t.getFullYear(),t.getMonth(),1),n=Object(c.useContext)(v).server,s=Object(c.useContext)(h).environment,a=Object(c.useContext)(k).robots,b=Object(c.useState)(a[0].name),u=Object(i.a)(b,2),p=u[0],f=u[1],g=Object(c.useState)(r.toISOString().substr(0,10)),m=Object(i.a)(g,2),y=m[0],S=m[1],w=Object(c.useState)(t.toISOString().substr(0,10)),_=Object(i.a)(w,2),C=_[0],N=_[1];console.log(p);var A=Object(c.useState)(!1),E=Object(i.a)(A,2),T=E[0],I=E[1],L=Object(c.useState)(!1),D=Object(i.a)(L,2),M=D[0],F=D[1],B=Object(c.useState)(!1),R=Object(i.a)(B,2),G=R[0],H=R[1];return Object(O.jsxs)(o.a,{style:{background:"#FBFAFA",width:"100%",height:window.innerHeight,padding:"0px"},fluid:!0,children:[Object(O.jsxs)(j.a,{style:{height:"100%",margin:"0px"},children:[Object(O.jsxs)(z.c,{children:[Object(O.jsx)(z.b,{style:{padding:"5px"},children:Object(O.jsx)(Ce,{robots:a,server:n,env:s,robotChange:function(e){f(e)}})}),Object(O.jsxs)(z.a,{iconShape:"square",children:[Object(O.jsx)(z.b,{onClick:function(){I(!0)},children:"New Robot"}),Object(O.jsxs)(z.b,{children:["Dashboard",Object(O.jsx)(P.b,{to:"/robot/dashboard"})]}),Object(O.jsx)(z.d,{title:"Trade",children:Object(O.jsx)(z.b,{children:"Robot"})}),Object(O.jsxs)(z.d,{title:"Calculations",children:[Object(O.jsx)(z.b,{onClick:function(){F(!0)},children:"Balance"}),Object(O.jsx)(z.b,{onClick:function(){H(!0)},children:"Pricing"})]}),Object(O.jsxs)(z.b,{children:["Transactions",Object(O.jsx)(P.b,{to:"/robot/transactions"})]}),Object(O.jsxs)(z.b,{children:["Risk",Object(O.jsx)(P.b,{to:"/robot/risk"})]}),Object(O.jsxs)(z.b,{children:["Return",Object(O.jsx)(P.b,{to:"/robot/return"})]}),Object(O.jsxs)(z.b,{children:["Settings",Object(O.jsx)(P.b,{to:"/robot/settings"})]})]})]}),Object(O.jsxs)(d.a,{style:{width:"50%"},children:[Object(O.jsxs)(j.a,{style:{height:"60px",width:"50%",padding:"5px",margin:"5px"},children:[Object(O.jsx)(d.a,{style:{height:"100%"},children:Object(O.jsxs)(x.a.Group,{as:j.a,children:[Object(O.jsx)(x.a.Label,{className:"form-label-first",column:!0,sm:2,children:"From"}),Object(O.jsx)(d.a,{sm:10,children:Object(O.jsx)(x.a.Control,{type:"date",onChange:function(e){S(e.target.value)},defaultValue:y})})]})}),Object(O.jsx)(d.a,{style:{height:"100%"},children:Object(O.jsxs)(x.a.Group,{as:j.a,children:[Object(O.jsx)(x.a.Label,{className:"form-label-first",column:!0,sm:2,children:"To"}),Object(O.jsx)(d.a,{sm:10,children:Object(O.jsx)(x.a.Control,{type:"date",onChange:function(e){e.target.value<y?alert("End date can not be less then start date!"):N(e.target.value)},defaultValue:C})})]})})]}),Object(O.jsx)(j.a,{style:{padding:"15px",height:window.innerHeight,width:"100%",background:"green",margin:"0px"},children:Object(O.jsxs)(l.c,{children:[Object(O.jsx)(l.a,{path:"/robot/dashboard",children:Object(O.jsx)(Ae,{server:n,robot:p,default:a[0]})}),Object(O.jsx)(l.a,{path:"/robot/transactions",children:Object(O.jsx)(De,{robot:p,start_date:y,end_date:C,server:n})}),Object(O.jsx)(l.a,{path:"/robot/risk",children:Object(O.jsx)(Fe,{robot:p,start_date:y,end_date:C,server:n})}),Object(O.jsx)(l.a,{path:"/robot/return",children:Object(O.jsx)(ze,{robot:p,start_date:y,end_date:C,server:n})})]})})]})]}),Object(O.jsx)(we,{show:T,hide:function(){I(!1)},server:n,style:{height:"400px"}}),Object(O.jsx)(_e,{show:M,hide:function(){F(!1)},server:n,robot:p,start_date:y,end_date:C}),Object(O.jsx)(ke,{show:G,hide:function(){H(!1)},server:n,robot:p})]})},He=function(){return Object(O.jsx)("div",{children:Object(O.jsx)("h2",{children:"Instrument Page"})})};r(194);var Ue=function(){var e=Object(c.useState)("live"),t=Object(i.a)(e,2),r=t[0],n=t[1],s=Object(c.useState)([]),a=Object(i.a)(s,2),o=a[0],j=a[1],d=Object(c.useState)([]),b=Object(i.a)(d,2),x=b[0],u=b[1],p="https://pavliati.pythonanywhere.com/";return Object(c.useEffect)((function(){f.a.get(p+"portfolios/get_portfolio_data/all").then((function(e){return j(e.data)})).catch((function(e){console.error("Error Message:",e)}))}),[]),Object(c.useEffect)((function(){f.a.get(p+"robots/get_robots/"+r).then((function(e){return u(e.data)})).catch((function(e){console.error("Error Message:",e)}))}),[]),Object(O.jsx)(v.Provider,{value:{server:p},children:Object(O.jsx)(h.Provider,{value:{environment:r},children:Object(O.jsx)(k.Provider,{value:{robots:x},children:Object(O.jsxs)($.Provider,{value:{portfolioData:o},children:[Object(O.jsx)(ye.a,{}),Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)(Se,{onEnvChange:function(e){n(e)},env:r}),Object(O.jsxs)(l.c,{children:[Object(O.jsx)(l.a,{path:"/risk",children:Object(O.jsx)(S,{})}),Object(O.jsx)(l.a,{path:"/home",children:Object(O.jsx)(B,{})}),Object(O.jsx)(l.a,{path:"/trade",children:Object(O.jsx)(xe,{})}),Object(O.jsx)(l.a,{path:"/portfolio",children:Object(O.jsx)(je,{})}),Object(O.jsx)(l.a,{path:"/instruments",children:Object(O.jsx)(He,{})}),Object(O.jsx)(l.a,{path:"/robot",children:Object(O.jsx)(Ge,{})})]})]})]})})})})},Ye=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,219)).then((function(t){var r=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,a=t.getTTFB;r(e),c(e),n(e),s(e),a(e)}))};a.a.render(Object(O.jsx)(n.a.StrictMode,{children:Object(O.jsx)(P.a,{children:Object(O.jsx)(Ue,{})})}),document.getElementById("root")),Ye()},33:function(e,t,r){}},[[195,1,2]]]);
//# sourceMappingURL=main.fc809217.chunk.js.map