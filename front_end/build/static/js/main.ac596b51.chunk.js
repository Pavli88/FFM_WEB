(this.webpackJsonpffm_web_frontend=this.webpackJsonpffm_web_frontend||[]).push([[0],{109:function(e,t,n){},112:function(e,t,n){},121:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),i=n(35),a=n.n(i),s=(n(85),n(7)),l=(n(86),n(18)),o=n(20),j=r.a.createContext({environment:"live"}),d=n(2),b=n(15),h=n(16),O=n(1),u=function(e){var t=Object(c.useState)(e.defaultValue),n=Object(s.a)(t,2),r=n[0],i=n[1];return Object(O.jsx)(d.a,{children:Object(O.jsx)(d.a.Group,{style:{margin:"0px"},children:Object(O.jsxs)(b.a,{children:[Object(O.jsx)(h.a,{children:Object(O.jsx)(d.a.Label,{style:{verticalAlign:"middle"},children:r})}),Object(O.jsx)(h.a,{children:Object(O.jsx)(d.a.Control,{onChange:function(e){i(e.target.value)},type:"range",min:e.min,max:e.max,step:e.step,value:r})})]})})})},x=n(9),f=n(11),v=n.n(f),p=function(e){var t=Object(c.useState)(e.robot),n=Object(s.a)(t,2),r=n[0],i=(n[1],Object(c.useState)(e.dailyRisk)),a=Object(s.a)(i,2),l=a[0],o=a[1],j=Object(c.useState)(e.tradeLimit),d=Object(s.a)(j,2),b=d[0],h=d[1],f=Object(c.useState)(e.riskOnTrade),p=Object(s.a)(f,2),g=p[0],m=p[1],y=Object(c.useState)(e.pLevel),S=Object(s.a)(y,2),C=S[0],w=(S[1],Object(c.useState)(e.qType)),_=Object(s.a)(w,2),A=_[0],k=(_[1],Object(c.useState)(e.quantity)),L=Object(s.a)(k,2),E=L[0];L[1];return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:r}),Object(O.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},onChange:function(e){o(e.target.value)},children:Object(O.jsx)(u,{defaultValue:l,min:0,max:.2,step:.005})}),Object(O.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},onChange:function(e){h(e.target.value)},children:Object(O.jsx)(u,{defaultValue:b,min:0,max:20,step:1})}),Object(O.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},onChange:function(e){m(e.target.value)},children:Object(O.jsx)(u,{defaultValue:g,min:0,max:.1,step:.0025})}),Object(O.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:C}),Object(O.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:A}),Object(O.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:E}),Object(O.jsx)("td",{children:Object(O.jsx)(x.a,{onClick:function(){v.a.post(e.server+"risk/update_robot_risk/",{robot:r,daily_risk:l,nbm_trades:b,risk_per_trade:g,pyramiding_level:C,quantity_type:A,quantity:E}).then((function(e){return console.log(e)})).catch((function(e){console.error("Error Message:",e)})),console.log(r),console.log(b),console.log(g)},children:"Update"})})]})},g=n(30),m=function(e){var t=Object(c.useContext)(j).environment,n=Object(c.useState)([]),r=Object(s.a)(n,2),i=r[0],a=r[1];Object(c.useEffect)((function(){fetch(e.server+"risk/get_robot_risk/"+t).then((function(e){return e.json()})).then((function(e){return a(e)})).catch((function(e){console.error("Error Message:",e)}))}),[e]);var l=i.map((function(t){return Object(O.jsx)(p,{robot:t.robot,dailyRisk:t.daily_risk,tradeLimit:t.daily_trade_limit,riskOnTrade:t.risk_per_trade,pLevel:t.pyramiding_level,qType:t.quantity_type,quantity:t.quantity,server:e.server},t.id)}));return Object(O.jsxs)(g.a,{children:[Object(O.jsx)("thead",{style:{fontSize:12},children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{style:{verticalAlign:"middle"},children:"Robot"}),Object(O.jsx)("th",{style:{verticalAlign:"middle"},children:"Daily Loss Limit %"}),Object(O.jsx)("th",{style:{verticalAlign:"middle"},children:"Max Number of Trades (Daily)"}),Object(O.jsx)("th",{style:{verticalAlign:"middle"},children:"Risk per Trade %"}),Object(O.jsx)("th",{style:{verticalAlign:"middle"},children:"Pyramiding Level"}),Object(O.jsx)("th",{style:{verticalAlign:"middle"},children:"Quantity Type"}),Object(O.jsx)("th",{style:{verticalAlign:"middle"},children:"Quantity"}),Object(O.jsx)("th",{style:{verticalAlign:"middle"}})]})}),Object(O.jsx)("tbody",{children:l})]})},y=r.a.createContext(),S=function(){var e=Object(c.useContext)(y).server;return Object(O.jsx)(o.a,{className:"border",children:Object(O.jsx)(m,{server:e})})},C=n(14),w=(n(109),function(e){var t=Object(c.useState)([]),n=Object(s.a)(t,2),r=n[0],i=n[1];Object(c.useEffect)((function(){v.a.get(e.server+"home/load_robot_stats/"+e.env).then((function(e){return e.data})).then((function(e){return i(e)})).catch((function(e){console.error("Error Message:",e)}))}),[e]);var a=r.map((function(e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},className:"table-row-robot-name",children:e.robot.name}),Object(O.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},className:"table-row-other",children:e.balance}),Object(O.jsxs)("td",{style:{fontSize:12,verticalAlign:"middle"},className:"table-row-other",children:[e.dtd_ret," %"]}),Object(O.jsxs)("td",{style:{fontSize:12,verticalAlign:"middle"},className:"table-row-other",children:[e.mtd_ret," %"]}),Object(O.jsxs)("td",{style:{fontSize:12,verticalAlign:"middle"},className:"table-row-other",children:[e.ytd_ret," %"]})]},e.robot.id)}));return Object(O.jsx)(C.a,{className:"shadow-sm",style:{borderRadius:"0px"},children:Object(O.jsx)(C.a.Body,{style:{padding:"0px"},children:Object(O.jsxs)(g.a,{size:"sm",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{className:"table-row-robot-name",children:"Robot"}),Object(O.jsx)("th",{children:"Balance"}),Object(O.jsx)("th",{children:"DTD"}),Object(O.jsx)("th",{children:"MTD"}),Object(O.jsx)("th",{children:"YTD"})]})}),Object(O.jsx)("tbody",{children:a})]})})})}),_=n(79),A=n.n(_),k=function(e){var t={options:{chart:{toolbar:!1,id:"basic-bar"},xaxis:{categories:e.xdata,labels:{show:!1}},yaxis:[{labels:{formatter:function(e){return e.toFixed(0)}}}],dataLabels:{enabled:!1}},series:[{name:"series-1",data:e.ydata}]};return Object(O.jsx)(A.a,{options:t.options,series:t.series,type:e.chartType,width:"100%",height:"100%"})},L=function(e){var t={env:e.env,start_date:21,end_date:34},n=Object(c.useState)([]),r=Object(s.a)(n,2),i=r[0],a=r[1];Object(c.useEffect)((function(){v.a.get(e.server+"robots/get_robot_balance/"+e.env,{params:t}).then((function(e){return e.data})).then((function(e){return a(e)})).catch((function(e){console.error("Error Message:",e)}))}),[e]);var l=Object(c.useState)([]),j=Object(s.a)(l,2),d=j[0],u=j[1];Object(c.useEffect)((function(){v.a.get(e.server+"risk/get_robot_risk/"+e.env).then((function(e){return e.data})).then((function(e){return u(e)})).catch((function(e){console.error("Error Message:",e)}))}),[e]);var x={balance:i,risk:d};console.log(x);var f=i.map((function(e,t){return Object(O.jsxs)(C.a,{className:"shadow-sm",style:{marginTop:"5px",marginBottom:"5px",marginRight:"5px",height:"300px"},children:[Object(O.jsx)(C.a.Header,{as:"h6",children:e.robot}),Object(O.jsx)(C.a.Body,{style:{padding:"0px"},children:Object(O.jsx)(b.a,{style:{height:"100%",width:"100%",margin:"0px"},children:Object(O.jsx)(h.a,{style:{padding:"0px"},children:Object(O.jsx)(k,{chartType:"line",xdata:e.date,ydata:e.balance})})})})]},e.robot)}));return Object(O.jsx)(o.a,{className:"border",style:{padding:"0px",overflow:"scroll",height:"800px"},children:f})},E=(n(111),n(112),function(e){var t=Object(c.useContext)(j).environment,n=Object(c.useContext)(y).server;return Object(O.jsx)(o.a,{style:{background:"#FBFAFA",width:"100%",height:window.innerHeight},fluid:!0,children:Object(O.jsxs)(b.a,{style:{height:window.innerHeight},children:[Object(O.jsx)(h.a,{style:{height:"100%"},children:Object(O.jsxs)(o.a,{children:[Object(O.jsx)(b.a,{style:{margin:"5px"},children:Object(O.jsx)("h5",{style:{textAlign:"center",width:"100%",margin:"0px"},children:"Robots"})}),Object(O.jsx)(L,{env:t,server:n})]})}),Object(O.jsxs)(h.a,{style:{height:"100%"},children:[Object(O.jsxs)(o.a,{children:[Object(O.jsx)(b.a,{style:{margin:"5px"},children:Object(O.jsx)("h5",{style:{textAlign:"center",width:"100%",margin:"0px"},children:"Performance"})}),Object(O.jsx)(w,{server:n,env:t})]}),Object(O.jsxs)(o.a,{children:[Object(O.jsx)(b.a,{style:{margin:"5px"},children:Object(O.jsx)("h5",{style:{textAlign:"center",width:"100%",margin:"0px"},children:"Accounts"})}),Object(O.jsx)(b.a,{style:{height:"400px",paddingTop:"5px",paddingBottom:"5px"},children:Object(O.jsx)(h.a,{style:{paddingLeft:"5px",paddingRight:"5px"},children:Object(O.jsx)(C.a,{style:{height:"100%",width:"100%",margin:"0px"}})})})]})]})]})})}),z=r.a.createContext(),D=n(10),T=function(e){var t=Object(c.useState)(""),n=Object(s.a)(t,2),r=n[0],i=n[1],a=Object(c.useState)(""),l=Object(s.a)(a,2),o=l[0],j=l[1],b=Object(c.useState)("Trade"),h=Object(s.a)(b,2),u=h[0],f=h[1],p=Object(c.useState)("USD"),g=Object(s.a)(p,2),m=g[0],y=g[1],S=Object(c.useState)(!1),C=Object(s.a)(S,2),w=C[0],_=C[1],A=function(){return _(!1)};console.log(r,u,m);var k=function(t){t.preventDefault(),v.a.post(e.server+"portfolios/new/",{port_name:r,port_type:u,port_currency:m,port_code:o}).then((function(e){"New Portfolio was created!"==e.data?window.location.reload():alert(e.data)})).catch((function(e){console.error("Error Message:",e)})),_(!1)};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(x.a,{variant:"primary",onClick:function(){return _(!0)},children:"New Portfolio"}),Object(O.jsxs)(D.a,{show:w,onHide:A,children:[Object(O.jsx)(D.a.Header,{closeButton:!0,children:Object(O.jsx)(D.a.Title,{children:"New Portfolio"})}),Object(O.jsx)(D.a.Body,{children:Object(O.jsxs)(d.a,{onSubmit:k,style:{width:"100%"},children:[Object(O.jsxs)(d.a.Group,{children:[Object(O.jsx)(d.a.Label,{children:"Portfolio Name"}),Object(O.jsx)(d.a.Control,{onChange:function(e){i(e.target.value)},type:"text",placeholder:"Portfolio Name",required:!0})]}),Object(O.jsxs)(d.a.Group,{children:[Object(O.jsx)(d.a.Label,{children:"Portfolio Code"}),Object(O.jsx)(d.a.Control,{onChange:function(e){j(e.target.value)},type:"text",placeholder:"Portfolio Code",required:!0})]}),Object(O.jsxs)(d.a.Group,{children:[Object(O.jsx)(d.a.Label,{children:"Portfolio Type"}),Object(O.jsxs)(d.a.Control,{onChange:function(e){f(e.target.value)},as:"select",children:[Object(O.jsx)("option",{value:"Trade",children:"Trade"}),Object(O.jsx)("option",{value:"Savings",children:"Savings"}),Object(O.jsx)("option",{value:"Investment",children:"Investment"})]})]}),Object(O.jsxs)(d.a.Group,{children:[Object(O.jsx)(d.a.Label,{children:"Portfolio Currency"}),Object(O.jsxs)(d.a.Control,{onChange:function(e){y(e.target.value)},as:"select",children:[Object(O.jsx)("option",{value:"USD",children:"USD"}),Object(O.jsx)("option",{value:"HUF",children:"HUF"}),Object(O.jsx)("option",{value:"EUR",children:"EUR"})]})]})]})}),Object(O.jsxs)(D.a.Footer,{children:[Object(O.jsx)(x.a,{variant:"secondary",onClick:A,children:"Close"}),Object(O.jsx)(x.a,{variant:"primary",onClick:k,children:"Save"})]})]})]})},F=function(){return Object(O.jsxs)(C.a,{style:{height:"200px"},children:[Object(O.jsx)("div",{style:{display:"flex",width:"50%"},children:Object(O.jsx)(C.a.Title,{children:"Settings"})}),Object(O.jsx)("h2",{children:"Price source"})]})},N=function(){return Object(O.jsx)(C.a,{style:{height:"200px"},children:Object(O.jsx)("div",{style:{display:"flex",width:"50%"},children:Object(O.jsx)(C.a.Title,{children:"Holdings"})})})},B=function(e){var t=Object(c.useState)(""),n=Object(s.a)(t,2),r=n[0],i=n[1];return Object(c.useEffect)((function(){v.a.get(e.url,{params:e.params}).then((function(t){return t.data.map((function(t){return Object(O.jsx)("option",{value:t[e.code],children:t[e.value]},t.id)}))})).then((function(e){return i(e)})).catch((function(e){console.error("Error Message:",e)}))}),[e]),r},R=function(e){var t=Object(c.useState)(!1),n=Object(s.a)(t,2),r=n[0],i=n[1],a=Object(c.useState)(""),l=Object(s.a)(a,2),o=l[0],j=l[1],b=Object(c.useState)(""),h=Object(s.a)(b,2),u=h[0],f=h[1],p=Object(c.useState)(0),g=Object(s.a)(p,2),m=g[0],y=g[1];console.log(o);var S=function(){return i(!1)},C=function(t){t.preventDefault(),console.log("form submited"),v.a.post(e.server+"portfolios/portfolio_trade/",{portfolio:e.portfolio,unit:m,sec:u,sec_type:"Robot",sec_id:o}).then((function(e){return alert(e.data)})).catch((function(e){console.error("Error Message:",e)})),i(!1)};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(x.a,{variant:"primary",onClick:function(){return i(!0)},children:"Buy Robot"}),Object(O.jsxs)(D.a,{show:r,onHide:S,children:[Object(O.jsx)(D.a.Header,{closeButton:!0,children:Object(O.jsx)(D.a.Title,{children:"Buy Robot"})}),Object(O.jsx)(D.a.Body,{children:Object(O.jsxs)(d.a,{onSubmit:C,style:{width:"100%"},children:[Object(O.jsxs)(d.a.Group,{children:[Object(O.jsx)(d.a.Label,{children:"Portfolio"}),Object(O.jsx)(d.a.Control,{type:"text",placeholder:e.portfolio,value:e.portfolio,readOnly:!0})]}),Object(O.jsxs)(d.a.Group,{children:[Object(O.jsx)(d.a.Label,{children:"Robot"}),Object(O.jsx)(d.a.Control,{onChange:function(e){var t=e.nativeEvent.target.selectedIndex;j(e.target.value),f(e.nativeEvent.target[t].text)},as:"select",children:Object(O.jsx)(B,{url:e.server+"robots/get_robots/all",params:{type:"Robot"},code:"id",value:"name"})})]}),Object(O.jsxs)(d.a.Group,{children:[Object(O.jsx)(d.a.Label,{children:"Unit"}),Object(O.jsx)(d.a.Control,{onChange:function(e){y(e.target.value)},type:"number",min:0})]})]})}),Object(O.jsxs)(D.a.Footer,{children:[Object(O.jsx)(x.a,{variant:"secondary",onClick:S,children:"Close"}),Object(O.jsx)(x.a,{variant:"primary",onClick:C,children:"Save"})]})]})]})},G=function(e){var t=new Date,n=t.getDate()+"/"+parseInt(t.getMonth()+1)+"/"+t.getFullYear(),r=Object(c.useState)([]),i=Object(s.a)(r,2),a=i[0],l=i[1],o=Object(c.useState)([]),j=Object(s.a)(o,2),u=(j[0],j[1]),x=Object(c.useState)([]),f=Object(s.a)(x,2),p=(f[0],f[1]);return Object(c.useEffect)((function(){v.a.get(e.server+"portfolios/get_portfolio_transactions/"+e.portfolio).then((function(e){return e.data.map((function(e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:e[1]}),Object(O.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:e[2]}),Object(O.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:e[3]}),Object(O.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:e[4]}),Object(O.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:e[5]}),Object(O.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:e[6]}),Object(O.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:e[7]}),Object(O.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:e[8]})]},e[0])}))})).then((function(e){return l(e)})).catch((function(e){console.error("Error Message:",e)}))}),[e]),Object(O.jsxs)(C.a,{style:{height:"400px"},children:[Object(O.jsxs)(b.a,{children:[Object(O.jsx)(C.a.Title,{children:"Transactions"}),Object(O.jsx)(R,{portfolio:e.portfolio,server:e.server})]}),Object(O.jsxs)(b.a,{style:{width:"100%",margin:"0px"},children:[Object(O.jsx)(h.a,{children:Object(O.jsxs)(d.a.Group,{as:b.a,controlId:"formHorizontalEmail",children:[Object(O.jsx)(d.a.Label,{style:{fontSize:12,verticalAlign:"middle"},column:!0,sm:2,children:"From"}),Object(O.jsx)(h.a,{sm:10,children:Object(O.jsx)(d.a.Control,{style:{fontSize:12},type:"date",onChange:function(e){u(e.target.value)}})})]})}),Object(O.jsx)(h.a,{children:Object(O.jsxs)(d.a.Group,{as:b.a,controlId:"formHorizontalEmail",children:[Object(O.jsx)(d.a.Label,{style:{fontSize:12,verticalAlign:"middle"},column:!0,sm:2,children:"To"}),Object(O.jsx)(h.a,{sm:10,children:Object(O.jsx)(d.a.Control,{style:{fontSize:12},type:"date",value:n,onChange:function(e){p(e.target.value)}})})]})})]}),Object(O.jsx)("div",{style:{height:"100%",overflowY:"scroll",overflowX:"hidden"},children:Object(O.jsxs)(g.a,{children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:"Portfolio"}),Object(O.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:"Quantity"}),Object(O.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:"Price"}),Object(O.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:"Market Value"}),Object(O.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:"Trade Date"}),Object(O.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:"Instrument"}),Object(O.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:"Instrument Type"}),Object(O.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:"Source"})]})}),Object(O.jsx)("tbody",{children:a})]})})]})},I=function(e){var t=Object(c.useState)(!1),n=Object(s.a)(t,2),r=n[0],i=n[1],a=function(){return i(!1)},l=Object(c.useState)(0),o=Object(s.a)(l,2),j=o[0],b=o[1],h=Object(c.useState)("TRADE"),u=Object(s.a)(h,2),f=u[0],p=u[1],g=Object(c.useState)("USD"),m=Object(s.a)(g,2),y=m[0],S=m[1],C=function(t){t.preventDefault(),console.log("form submited"),v.a.post(e.server+"portfolios/new_cash_flow/",{port_name:e.portfolio,amount:j,type:f,currency:y}).then((function(e){return alert(e.data)})).catch((function(e){console.error("Error Message:",e)})),i(!1)};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(x.a,{variant:"primary",onClick:function(){return i(!0)},children:"Add Cash"}),Object(O.jsxs)(D.a,{show:r,onHide:a,children:[Object(O.jsx)(D.a.Header,{closeButton:!0,children:Object(O.jsx)(D.a.Title,{children:"New Cash Flow"})}),Object(O.jsx)(D.a.Body,{children:Object(O.jsxs)(d.a,{onSubmit:C,style:{width:"100%"},children:[Object(O.jsxs)(d.a.Group,{children:[Object(O.jsx)(d.a.Label,{children:"Portfolio"}),Object(O.jsx)(d.a.Control,{type:"text",placeholder:e.portfolio,value:e.portfolio,readOnly:!0})]}),Object(O.jsxs)(d.a.Group,{children:[Object(O.jsx)(d.a.Label,{children:"Cash Flow"}),Object(O.jsx)(d.a.Control,{onChange:function(e){b(e.target.value)},type:"number",placeholder:"Value"})]}),Object(O.jsxs)(d.a.Group,{children:[Object(O.jsx)(d.a.Label,{children:"Currency"}),Object(O.jsxs)(d.a.Control,{onChange:function(e){S(e.target.value)},as:"select",children:[Object(O.jsx)("option",{value:"USD",children:"USD"}),Object(O.jsx)("option",{value:"EUR",children:"EUR"})]})]}),Object(O.jsxs)(d.a.Group,{children:[Object(O.jsx)(d.a.Label,{children:"Type"}),Object(O.jsx)(d.a.Control,{onChange:function(e){p(e.target.value)},as:"select",children:Object(O.jsx)("option",{value:"INFLOW",children:"Inflow"})})]})]})}),Object(O.jsxs)(D.a.Footer,{children:[Object(O.jsx)(x.a,{variant:"secondary",onClick:a,children:"Close"}),Object(O.jsx)(x.a,{variant:"primary",onClick:C,children:"Save"})]})]})]})},H=function(e){return Object(O.jsxs)(C.a,{style:{height:"200px"},children:[Object(O.jsx)("div",{style:{display:"flex",width:"50%"},children:Object(O.jsx)(C.a.Title,{children:"NAV"})}),Object(O.jsx)(I,{portfolio:e.portfolio,server:e.server})]})},P=function(e){return Object(O.jsxs)(C.a,{style:{height:"200px"},children:[Object(O.jsx)("div",{style:{display:"flex",width:"50%"},children:Object(O.jsx)(C.a.Title,{children:"Portfolio Details"})}),Object(O.jsxs)(d.a.Group,{as:b.a,controlId:"formHorizontalEmail",children:[Object(O.jsx)(d.a.Label,{column:!0,sm:2,children:"Portfolio"}),Object(O.jsx)(h.a,{sm:10,children:Object(O.jsx)(d.a.Control,{onChange:function(t){e.portChange(t.target.value)},as:"select",children:e.portOptions})})]})]})},M=function(e){var t=Object(c.useContext)(y).server,n=(Object(c.useContext)(j).environment,Object(c.useContext)(z).portfolioData),r=Object(c.useState)(n[0].portfolio_code),i=Object(s.a)(r,2),a=i[0],l=i[1];console.log(n);var d=n.map((function(e){return Object(O.jsx)("option",{value:e.portfolio_code,children:e.portfolio_name},e.id)}));return Object(O.jsx)(o.a,{style:{background:"#FBFAFA",width:"100%",height:window.innerHeight,padding:"20px"},fluid:!0,children:Object(O.jsxs)(b.a,{children:[Object(O.jsx)(h.a,{children:Object(O.jsxs)(o.a,{className:"border",style:{width:"100%",height:window.innerHeight},children:[Object(O.jsx)(P,{portOptions:d,portChange:function(e){l(e)}}),Object(O.jsx)(N,{}),Object(O.jsx)(H,{portfolio:a,server:t})]})}),Object(O.jsxs)(h.a,{children:[Object(O.jsx)(o.a,{className:"border",style:{height:"50%"},children:Object(O.jsx)(T,{server:t})}),Object(O.jsx)(G,{portfolio:a,server:t}),Object(O.jsx)(F,{})]})]})})},U=function(e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:e.id}),Object(O.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:e.broker_id}),Object(O.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:e.security}),Object(O.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:e.robot}),Object(O.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:e.quantity}),Object(O.jsx)("td",{children:Object(O.jsx)(x.a,{onClick:function(){v.a.post(e.server+"trade_page/close_trade/",{broker_id:e.broker_id,robot:e.robot,trd_id:e.id}).then((function(e){return alert(e.data)})).catch((function(e){console.error("Error Message:",e)}))},children:"Close"})})]})},q=function(e){var t=Object(c.useState)([]),n=Object(s.a)(t,2),r=n[0],i=n[1];Object(c.useEffect)((function(){fetch(e.server+"trade_page/get_open_trades/"+e.env).then((function(e){return e.json()})).then((function(e){return i(e)})).catch((function(e){console.error("Error Message:",e)}))}),[e]);var a=r.map((function(t){return Object(O.jsx)(U,{server:e.server,id:t.id,broker_id:t.broker_id,security:t.security,robot:t.robot,quantity:t.quantity},t.id)}));return Object(O.jsx)(C.a,{style:{width:"100%"},children:Object(O.jsxs)(g.a,{children:[Object(O.jsx)("thead",{style:{fontSize:12},children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{style:{verticalAlign:"middle"},children:"Platform ID"}),Object(O.jsx)("th",{style:{verticalAlign:"middle"},children:"Broker ID"}),Object(O.jsx)("th",{style:{verticalAlign:"middle"},children:"Security"}),Object(O.jsx)("th",{style:{verticalAlign:"middle"},children:"Robot"}),Object(O.jsx)("th",{style:{verticalAlign:"middle"},children:"Quantity"}),Object(O.jsx)("th",{style:{verticalAlign:"middle"}})]})}),Object(O.jsx)("tbody",{style:{height:"100%",overflow:"scroll"},children:a})]})})},V=function(){var e=Object(c.useContext)(y).server,t=Object(c.useContext)(j).environment;return Object(O.jsxs)(o.a,{className:"border",style:{background:"#FBFAFA",width:"100%",height:window.innerHeight,padding:"20px"},fluid:!0,children:[Object(O.jsx)(b.a,{style:{height:"60%",background:"green"}}),Object(O.jsx)(b.a,{style:{height:"40%",background:"blue"},children:Object(O.jsx)(q,{env:t,server:e})})]})},Q=n(127),Y=n(128),J=(n(113),n(55)),K=n(25),W=n(38),X=n(36),Z=function(e){var t=Object(c.useState)(new Date),n=Object(s.a)(t,2),r=n[0],i=n[1],a=Object(c.useState)(new Date),l=Object(s.a)(a,2),o=l[0],j=l[1],b=Object(c.useState)("ALL"),h=Object(s.a)(b,2),u=h[0],f=h[1],p=Object(c.useState)(!1),g=Object(s.a)(p,2),m=g[0],y=g[1],S=function(t){t.preventDefault(),y(!0),v.a.post(e.server+"robots/calculate_robot_balance/",{process:"Balance",robot:u,start_date:r,end_date:o}).then((function(e){return y(!1)})).catch((function(e){console.error("Error Message:",e)}))};return Object(O.jsxs)(C.a,{children:[Object(O.jsx)(C.a.Header,{as:"h5",children:"Balance Calculator"}),Object(O.jsx)(C.a.Body,{children:Object(O.jsxs)(d.a,{onSubmit:S,style:{width:"100%"},children:[Object(O.jsxs)(d.a.Group,{children:[Object(O.jsx)(d.a.Label,{children:"Start Date"}),Object(O.jsx)(d.a.Control,{onChange:function(e){i(e.target.value)},type:"date"})]}),Object(O.jsxs)(d.a.Group,{children:[Object(O.jsx)(d.a.Label,{children:"End Date"}),Object(O.jsx)(d.a.Control,{onChange:function(e){j(e.target.value)},type:"date"})]}),Object(O.jsxs)(d.a.Group,{children:[Object(O.jsx)(d.a.Label,{children:"Robots"}),Object(O.jsx)(d.a.Control,{onChange:function(e){f(e.target.value)},as:"select",children:Object(O.jsx)("option",{value:"ALL",children:"ALL"})})]}),Object(O.jsx)(x.a,{variant:"primary",onClick:S,children:"Calculate"})]})}),Object(O.jsx)(D.a,{show:m,children:Object(O.jsx)(D.a.Body,{style:{width:"200px",height:"300px"},children:Object(O.jsx)("h2",{children:"Calculating ..."})})})]})},$=function(e){var t=Object(c.useState)(""),n=Object(s.a)(t,2),r=n[0],i=n[1],a=Object(c.useState)(""),l=Object(s.a)(a,2),o=l[0],j=l[1],b=Object(c.useState)(""),h=Object(s.a)(b,2),u=h[0],f=h[1],p=Object(c.useState)("live"),g=Object(s.a)(p,2),m=g[0],y=g[1],S=Object(c.useState)("USD"),C=Object(s.a)(S,2),w=C[0],_=C[1],A=function(){e.hide()};return Object(O.jsxs)(D.a,{show:e.show,onHide:A,animation:!1,children:[Object(O.jsx)(D.a.Header,{closeButton:!0,children:Object(O.jsx)(D.a.Title,{children:"New Account"})}),Object(O.jsxs)(D.a.Body,{children:[Object(O.jsx)(d.a.Group,{children:Object(O.jsx)(d.a.Control,{onChange:function(e){i(e.target.value)},type:"text",placeholder:"Broker Name"})}),Object(O.jsx)(d.a.Group,{children:Object(O.jsx)(d.a.Control,{onChange:function(e){j(e.target.value)},type:"text",placeholder:"Account Number"})}),Object(O.jsx)(d.a.Group,{children:Object(O.jsx)(d.a.Control,{onChange:function(e){f(e.target.value)},type:"text",placeholder:"Token"})}),Object(O.jsxs)(d.a.Group,{children:[Object(O.jsx)(d.a.Label,{children:"Environment"}),Object(O.jsxs)(d.a.Control,{onChange:function(e){y(e.target.value)},as:"select",children:[Object(O.jsx)("option",{value:"live",children:"Live"}),Object(O.jsx)("option",{value:"demo",children:"Demo"})]})]}),Object(O.jsxs)(d.a.Group,{children:[Object(O.jsx)(d.a.Label,{children:"Currency"}),Object(O.jsxs)(d.a.Control,{onChange:function(e){_(e.target.value)},as:"select",children:[Object(O.jsx)("option",{value:"USD",children:"USD"}),Object(O.jsx)("option",{value:"EUR",children:"EUR"})]})]})]}),Object(O.jsxs)(D.a.Footer,{children:[Object(O.jsx)(x.a,{variant:"secondary",onClick:A,children:"Close"}),Object(O.jsx)(x.a,{variant:"primary",onClick:function(){v.a.post(e.server+"accounts/new_account/",{broker_name:r,account_number:o,env:m,token:u,currency:w}).then((function(e){return alert(e.data)})).catch((function(e){console.error("Error Message:",e)})),i(""),j(""),f(""),y("live"),_("USD"),e.hide()},children:"Save"})]})]})},ee=function(e){var t=Object(c.useContext)(y).server,n=Object(c.useState)(!1),r=Object(s.a)(n,2),i=r[0],a=r[1];return Object(O.jsxs)(Q.a,{bg:"dark",variant:"dark",children:[Object(O.jsx)(Q.a.Brand,{href:"#home",children:"FFM SYSTEM"}),Object(O.jsxs)(Y.a,{className:"mr-auto",children:[Object(O.jsx)(Y.a.Link,{as:X.b,to:"/home",children:"Home"}),Object(O.jsx)(Y.a.Link,{as:X.b,to:"/portfolio",children:"Portfolio"}),Object(O.jsx)(Y.a.Link,{as:X.b,to:"/robot",children:"Robot"}),Object(O.jsx)(Y.a.Link,{as:X.b,to:"/risk",children:"Risk"}),Object(O.jsx)(Y.a.Link,{as:X.b,to:"/instruments",children:"Instrument"}),Object(O.jsx)(Y.a.Link,{as:X.b,to:"/trade",children:"Trade"}),Object(O.jsxs)(W.a,{title:"Calculations",children:[Object(O.jsx)(W.a.Item,{children:"Robot Balance"}),Object(O.jsx)(W.a.Item,{}),Object(O.jsx)(W.a.Divider,{}),Object(O.jsx)(W.a.Item,{children:"Portfolio Holdings"})]}),Object(O.jsxs)(W.a,{title:"Broker Accounts",children:[Object(O.jsx)(W.a.Item,{onSelect:function(){a(!0)},children:"New"}),Object(O.jsx)(W.a.Item,{children:"Update"}),Object(O.jsx)(W.a.Item,{children:"Delete"})]})]}),Object(O.jsxs)(d.a,{inline:!0,children:[Object(O.jsx)(J.a,{type:"text",placeholder:"Search",className:"mr-sm-2"}),Object(O.jsx)(x.a,{variant:"outline-info",children:"Search"})]}),Object(O.jsxs)(K.a,{onSelect:function(t){e.onEnvChange(t)},style:{marginLeft:"10px"},children:[Object(O.jsx)(K.a.Toggle,{variant:"success",id:"dropdown-basic",children:"Environment"}),Object(O.jsxs)(K.a.Menu,{children:[Object(O.jsx)(K.a.Item,{eventKey:"live",children:"Live"}),Object(O.jsx)(K.a.Item,{eventKey:"demo",children:"Demo"})]})]}),Object(O.jsx)($,{show:i,hide:function(){a(!1)},server:t})]})},te=function(e){var t=Object(c.useState)(""),n=Object(s.a)(t,2),r=(n[0],n[1]),i=Object(c.useState)(""),a=Object(s.a)(i,2),l=(a[0],a[1]),o=Object(c.useState)("oanda"),j=Object(s.a)(o,2),b=j[0],h=j[1],u=Object(c.useState)("live"),f=Object(s.a)(u,2),v=f[0],p=f[1],g=Object(c.useState)(""),m=Object(s.a)(g,2),y=m[0],S=m[1],C=Object(c.useState)(""),w=Object(s.a)(C,2),_=w[0],A=w[1];console.log(y),console.log(_);var k=Object(c.useState)(!1),L=Object(s.a)(k,2),E=L[0],z=L[1],T=function(){return z(!1)},F={broker:b,env:v},N={broker:b},R=function(e){e.preventDefault()};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(x.a,{variant:"primary",onClick:function(){return z(!0)},children:"New Robot"}),Object(O.jsxs)(D.a,{show:E,onHide:T,animation:!1,children:[Object(O.jsx)(D.a.Header,{closeButton:!0,children:Object(O.jsx)(D.a.Title,{children:"New Robot"})}),Object(O.jsx)(D.a.Body,{children:Object(O.jsxs)(d.a,{onSubmit:R,style:{width:"100%"},children:[Object(O.jsxs)(d.a.Group,{children:[Object(O.jsx)(d.a.Label,{children:"Robot Name"}),Object(O.jsx)(d.a.Control,{onChange:function(e){r(e.target.value)},type:"text",placeholder:"Robot Name"})]}),Object(O.jsxs)(d.a.Group,{children:[Object(O.jsx)(d.a.Label,{children:"Strategy"}),Object(O.jsxs)(d.a.Control,{onChange:function(e){l(e.target.value)},as:"select",children:[Object(O.jsx)("option",{value:"Initiative",children:"Initiative"}),Object(O.jsx)("option",{value:"Responsive",children:"Responsive"}),Object(O.jsx)("option",{value:"Correction",children:"Correction"})]})]}),Object(O.jsxs)(d.a.Group,{children:[Object(O.jsx)(d.a.Label,{children:"Broker"}),Object(O.jsxs)(d.a.Control,{onChange:function(e){h(e.target.value)},as:"select",children:[Object(O.jsx)("option",{children:"oanda"}),Object(O.jsx)("option",{children:"Fix"})]})]}),Object(O.jsxs)(d.a.Group,{children:[Object(O.jsx)(d.a.Label,{children:"Environment"}),Object(O.jsxs)(d.a.Control,{onChange:function(e){p(e.target.value)},as:"select",children:[Object(O.jsx)("option",{value:"live",children:"Live"}),Object(O.jsx)("option",{value:"demo",children:"Demo"})]})]}),Object(O.jsxs)(d.a.Group,{children:[Object(O.jsx)(d.a.Label,{children:"Instruments"}),Object(O.jsx)(d.a.Control,{onChange:function(e){A(e.target.value)},as:"select",children:Object(O.jsx)(B,{url:e.server+"instruments/get_instruments/",params:N,code:"instrument_name",value:"instrument_name"})})]}),Object(O.jsxs)(d.a.Group,{children:[Object(O.jsx)(d.a.Label,{children:"Account Number"}),Object(O.jsx)(d.a.Control,{onChange:function(e){S(e.target.value)},as:"select",children:Object(O.jsx)(B,{url:e.server+"accounts/get_accounts_data/",params:F,code:"account_number",value:"account_number"})})]})]})}),Object(O.jsxs)(D.a.Footer,{children:[Object(O.jsx)(x.a,{variant:"secondary",onClick:T,children:"Close"}),Object(O.jsx)(x.a,{variant:"primary",onClick:R,children:"Save"})]})]})]})},ne=function(e){var t=Object(c.useState)([]),n=Object(s.a)(t,2),r=n[0],i=n[1],a=function(){console.log("Button Clicked")};return Object(c.useEffect)((function(){v.a.get(e.server+"robots/get_robots/"+e.env).then((function(e){return e.data.map((function(e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:e.name}),Object(O.jsx)("td",{children:e.strategy}),Object(O.jsx)("td",{children:e.security}),Object(O.jsx)("td",{children:e.broker}),Object(O.jsx)("td",{children:e.env}),Object(O.jsx)("td",{children:e.status}),Object(O.jsx)("td",{children:e.account_number}),Object(O.jsx)("td",{children:Object(O.jsx)(x.a,{onClick:a,children:"Update"})})]},e.id)}))})).then((function(e){return i(e)})).catch((function(e){console.error("Error Message:",e)}))}),[e]),Object(O.jsxs)(g.a,{children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"Name"}),Object(O.jsx)("td",{children:"Strategy"}),Object(O.jsx)("td",{children:"Security"}),Object(O.jsx)("td",{children:"Broker"}),Object(O.jsx)("td",{children:"Env"}),Object(O.jsx)("td",{children:"Status"}),Object(O.jsx)("td",{children:"Account Number"})]})}),Object(O.jsx)("tbody",{children:r})]})},ce=function(e){var t=Object(c.useContext)(y).server,n=Object(c.useContext)(j).environment;return Object(O.jsx)(o.a,{style:{background:"#FBFAFA",width:"100%",height:window.innerHeight,padding:"20px"},fluid:!0,children:Object(O.jsxs)(b.a,{children:[Object(O.jsx)(h.a,{children:Object(O.jsxs)(C.a,{children:[Object(O.jsx)(C.a.Header,{as:"h5",children:Object(O.jsx)(te,{server:t,style:{height:"400px"}})}),Object(O.jsx)(ne,{server:t,env:n})]})}),Object(O.jsx)(h.a,{children:Object(O.jsx)(Z,{server:t})})]})})},re=function(){return Object(O.jsx)("div",{children:Object(O.jsx)("h2",{children:"Instrument Page"})})};var ie=function(){var e=Object(c.useState)("live"),t=Object(s.a)(e,2),n=t[0],r=t[1],i="https://pavliati.pythonanywhere.com/",a=Object(c.useState)([]),o=Object(s.a)(a,2),d=o[0],b=o[1];return Object(c.useEffect)((function(){v.a.get(i+"portfolios/get_portfolio_data/").then((function(e){return b(e.data)})).catch((function(e){console.error("Error Message:",e)}))}),[]),Object(O.jsx)(y.Provider,{value:{server:i},children:Object(O.jsx)(j.Provider,{value:{environment:n},children:Object(O.jsx)(z.Provider,{value:{portfolioData:d},children:Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)(ee,{onEnvChange:function(e){r(e)}}),Object(O.jsxs)(l.c,{children:[Object(O.jsx)(l.a,{path:"/risk",children:Object(O.jsx)(S,{})}),Object(O.jsx)(l.a,{path:"/home",children:Object(O.jsx)(E,{})}),Object(O.jsx)(l.a,{path:"/trade",children:Object(O.jsx)(V,{})}),Object(O.jsx)(l.a,{path:"/portfolio",children:Object(O.jsx)(M,{})}),Object(O.jsx)(l.a,{path:"/instruments",children:Object(O.jsx)(re,{})}),Object(O.jsx)(l.a,{path:"/robot",children:Object(O.jsx)(ce,{})})]})]})})})})},ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,129)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),i(e),a(e)}))};a.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(X.a,{children:Object(O.jsx)(ie,{})})}),document.getElementById("root")),ae()},85:function(e,t,n){},86:function(e,t,n){}},[[121,1,2]]]);
//# sourceMappingURL=main.ac596b51.chunk.js.map