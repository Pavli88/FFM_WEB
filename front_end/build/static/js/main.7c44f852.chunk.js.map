{"version":3,"sources":["context/env-context.js","Pages/RiskPage/RiskTableRow.js","Pages/RiskPage/RiskTableData.js","context/server-context.js","Pages/RiskPage.js","Pages/HomePage/PerfDashBoard.js","context/robot-context.js","components/Options.js","Pages/HomePage/HomePageCharts/HomePageBarChart.js","Pages/HomePage/DashBoard/TopLevel.js","components/CardWidget.js","Pages/HomePage/DashBoard/PnLPanel.js","components/Charts/PieCharts.js","Pages/HomePage/DashBoard/BalanceDashboard.js","components/Charts/BarCharting.js","Pages/HomePage/DashBoard/ContributionPnl.js","Pages/HomePage.js","Pages/PortfolioPage/NewPortfolioForm.js","Pages/PortfolioPage/Calculations/PositionCalculation.js","Pages/PortfolioPage/Calculations/CashHoldingCalc.js","components/NewBrokerAccount.js","context/portfolio-context.js","Pages/PortfolioPage/SubPages/PortfolioRisk/PortfolioRiskPage.js","Pages/PortfolioPage/SubPages/PortfolioHoldings/Holdings.js","Pages/PortfolioPage/SubPages/PortfolioHoldings/PortfolioHoldingsPage.js","Pages/PortfolioPage/SubPages/PortfolioDashboard/PortfolioDetails.js","Pages/Robot/Charts/CumulativeReturn.js","Pages/PortfolioPage/SubPages/PortfolioDashboard/PortfolioNav.js","Pages/PortfolioPage/SubPages/PortfolioDashboard/PortfolioCashSummary.js","Pages/PortfolioPage/SubPages/PortfolioDashboard/PortfolioCashDetails.js","context/date-context.js","Pages/PortfolioPage/SubPages/PortfolioDashboard/PortfolioDashBoardPage.js","Pages/PortfolioPage/SubPages/PortfolioSettings/PortfolioSettings.js","Pages/PortfolioPage/SubPages/PortfolioSettings/PortfolioSettingsPage.js","Pages/PortfolioPage/SubPages/PortfolioTransactions/PortfolioNewTransaction.js","Pages/Robot/GetRobotPrice.js","Pages/PortfolioPage/PortfolioBuy.js","Pages/PortfolioPage/SubPages/PortfolioTransactions/PortfolioTransactions.js","Pages/PortfolioPage/SubPages/PortfolioTransactions/PortfolioTransactionsPage.js","Pages/PortfolioPage/SubPages/PortfolioImport/PortfolioDataImport.js","Pages/PortfolioPage/SubPages/PortfolioTransactions/PortfolioNewCashFlow.js","Pages/PortfolioPage.js","Pages/TradePage/TradeTableRow.js","Pages/TradePage/TradeTableData.js","Pages/TradePage/TradeExecutor.js","Pages/TradePage.js","NavBar/NewBroker.js","components/Notifications.js","Pages/Robot/DateSelectorRobotPage.js","components/NavBar.js","Pages/Robot/NewRobotForm.js","Pages/Robot/Calculations/RobotBalanceCalculation.js","Pages/Robot/RobotNav.js","Pages/Robot/Calculations/RobotPricingForm.js","components/CardWidgetMiddle.js","components/Charts/LineCharts.js","Pages/Robot/SubPages/RobotDashboard/RobotCashFlowTable.js","Pages/Robot/SubPages/RobotDashboard/RobotStatistics.js","Pages/Robot/SubPages/RobotDashboard/RobotGeneralInformation.js","Pages/Robot/SubPages/RobotRisk/RobotDrawDown.js","Pages/Robot/SubPages/RobotReturn/RobotReturn.js","Pages/Robot/SubPages/RobotDashboard/RobotDashBoardPage.js","Pages/Robot/SubPages/RobotTransactions/RobotTrades.js","Pages/Robot/SubPages/RobotTransactions/RobotTransactionContext.js","Pages/Robot/SubPages/RobotTransactions/RobotTransactionUpdateModal.js","Pages/Robot/SubPages/RobotTransactions/RobotTransactionTableRow.js","Pages/Robot/SubPages/RobotTransactions/RobotTransactionsTable.js","Pages/Robot/SubPages/RobotTransactions/RobotTradesQuantity.js","Pages/Robot/SubPages/RobotTransactions/RobotTransactionsPage.js","Pages/Robot/SubPages/RobotRisk/RobotRiskPage.js","Pages/Robot/SubPages/RobotReturn/RobotDailyReturns.js","Pages/Robot/SubPages/RobotReturn/RobotMonthlyReturns.js","Pages/Robot/SubPages/RobotReturn/RobotReturnPage.js","Pages/Robot/SubPages/RobotSettings/RobotRiskSettings.js","Pages/Robot/SubPages/RobotSettings/RobotSettings.js","Pages/Robot/SubPages/RobotSettings/RobotSettingsPage.js","Pages/RobotPage.js","Pages/InstrumentPage/InstrumentPageContext/instrument-search-context.js","context/broker-context.js","Pages/InstrumentPage/InstrumentNew.js","Pages/InstrumentPage/InstrumentSearch.js","Pages/InstrumentPage/InstrumentResultTable.js","Pages/InstrumentPage/InstrumentSettings/NewInstrumentTickerModal.js","Pages/InstrumentPage/InstrumentSettings/InstrumentSettings.js","Pages/InstrumentPage/InstrumentDelete.js","Pages/InstrumentPage/InstrumentDetailsGeneral.js","Pages/InstrumentPage/InstrumentPrices/NewInstrumentPriceModal.js","Pages/InstrumentPage/InstrumentPrices/InstrumentPricesTable.js","Pages/InstrumentPage/InstrumentPrices/InstrumentPrices.js","Pages/InstrumentPage/InstrumentDetails.js","Pages/InstrumentPage/InstrumentPage.js","Pages/CalculationsPage/CalculationPageContext/calculation-context.js","Pages/CalculationsPage/CalculationEntities/CalculationEntities.js","components/ProcessIsLoadingModal.js","Pages/CalculationsPage/CalculationOptions/CalculationOptions.js","Pages/CalculationsPage/CalculationsExceptions/CalculationSecurityExceptions.js","Pages/CalculationsPage/CalculationsExceptions/CalculationPortfolioExceptions.js","Pages/CalculationsPage/CalculationsPage.js","App.js","reportWebVitals.js","index.js"],"names":["EnvContext","React","createContext","environment","RiskTableRow","props","useState","robot","dailyRisk","setDailyRisk","tradeLimit","setTradeLimit","riskOnTrade","setRiskOnTrade","pLevel","qType","setQType","quantity","setQuantity","sl","setSl","winExp","setWinExp","style","verticalAlign","Form","Control","onChange","event","target","value","type","placeholder","defaultValue","as","Button","onClick","axios","post","server","daily_risk","nbm_trades","risk_per_trade","pyramiding_level","quantity_type","win_exp","then","response","alert","catch","error","console","RiskTableData","env","useContext","riskData","setRiskData","useEffect","fetch","json","data","log","riskDataRow","map","Table","fontSize","ServerContext","RiskPage","Container","className","background","width","height","window","innerHeight","padding","fluid","Row","Col","Card","Title","PerformanceDashboard","perfData","setPerfData","get","perfRespData","record","color","margin","overflowY","overflowX","RobotContext","OptionLoader","rawData","setRawData","url","params","code","HomePageBarChart","chartOptions","options","chart","toolbar","id","colors","xaxis","categories","labels","show","yaxis","formatter","val","toFixed","title","text","dataLabels","enabled","series","name","Body","TopLevel","arr","responseData","setResponseData","reduce","acc","sum","res","push","CardWidget","display","justifyContent","children","PnLPanel","date","Date","toISOString","substr","dtdData","setDtdData","mtdData","setMtdData","ytdData","setYtdData","start_date","PieCharts","Math","round","BalanceDashBoard","chData","setChData","labelData","setLabelData","totalBalance","a","b","item","BarCharting","max","plotOptions","bar","horizontal","tickAmount","fontFamily","fontWeight","cssClass","ContributionPnl","xLabel","HomePage","startDate","textAlign","marginTop","marginBottom","NewPortfolioForm","portfolioName","setPortfolioName","portfolioCode","setPortfolioCode","portType","setPortType","currency","setCurrency","setDate","handleClose","hide","submitHandler","preventDefault","port_name","port_type","port_currency","port_code","inception_date","Modal","onHide","Header","closeButton","onSubmit","Group","Label","required","Footer","variant","PositionCalculation","firstDay","getFullYear","getMonth","setStartDate","endDate","setEndDate","setResponse","treeData","index","TreeItem","nodeId","toString","label","index2","item2","changePortfolio","checked","portfolio","end_date","size","column","sm","TreeView","aria-label","defaultCollapseIcon","defaultExpandIcon","sx","flexGrow","maxWidth","controlId","Check","CashHoldingCalculation","setPortfolio","treeNodes","NewBrokerAccount","broker","setBroker","accountNumber","setAccountNumber","token","setToken","setEnv","animation","broker_name","account_number","PortfolioContext","PortfolioRiskPage","Holdings","PortfolioHoldingsPage","PortfolioDetails","overflow","CumulativeReturnChart","zoom","axisBorder","offsetX","offsetY","axisTicks","borderType","stroke","curve","align","floating","PortfolioNav","PortfolioCashSummary","cashHoldingData","PortfolioCashDetails","cashData","DateContext","PortfolioDashBoardPage","navData","portData","setPortData","setCashHoldingData","cashTypeData","setCashTypeData","portfolioNavData","portfolio_code","paddingBottom","PortfolioSettings","PortfolioSettingsPage","PortfolioNewTransaction","currentDate","marketValue","setMarketValue","instrumentType","quantityRef","useRef","dateRef","transactionTypeRef","priceRef","securityRef","instrumentTypeRef","sourceRef","instrumentOptions","length","calculateMarketValue","current","price","security","transaction_type","disabled","ref","min","source","instrument_type","fetchInstrumentData","GetRobotLastPrice","setPrice","getPrice","PortfolioBuy","securityId","setSecurity","securityName","setSecurityName","unit","setUnit","robotPrice","setRobotPrice","robotQuantity","setRobotQuantity","instrumentParams","sec","sec_type","sec_id","readOnly","selectIndex","nativeEvent","selectedIndex","document","getElementById","GetRobotPrice","PortfolioTransactions","portTransData","setPortTransData","rowData","setRowData","setShowModal","setModalType","PortfolioTransactionsPage","PortfolioDataImport","file","setFile","array","setArray","importStream","setImportStream","fileReader","FileReader","headerKeys","Object","keys","assign","e","files","accept","onload","string","csvHeader","slice","indexOf","split","i","values","object","header","csvFileToArray","result","readAsText","key","PortfolioNewCashFlowEntry","setValue","cashSecurities","setCashSecurities","typeRef","cashOptions","PortfolioPage","portfolios","showNewTransactionModal","setShowNewTransactionModal","showNewPortCashFlow","setNewPortCashFlow","showNewRobotTrade","setNewRobotTrade","showCashCalc","setCashCalc","showNewPortfolio","setShowNewPortfolio","showImportModal","setShowImportModal","showPosCalc","setPosCalc","portfolioRef","portfolioOptions","iconShape","to","path","default","PortfolioNewCashFlow","CashHoldingCalc","TradeTableRow","broker_id","trd_id","TradeTableData","tradeData","setTradeData","tradeDataRow","TradeExecutor","TradePage","NewBroker","brokerNameRef","brokerCodeRef","broker_code","Notifications","messages","setMessages","tradeMessages","processMessages","forEach","interval","setInterval","clearInterval","removeMsg","msg","border","store","addNotification","message","insert","container","animationIn","animationOut","onRemoval","DateSelectorRobotPage","Navigation","showNewAccount","setShowNewAccount","brokerModalStatus","setBrokerModalStatus","Navbar","bg","Brand","href","Nav","Link","NavDropdown","Item","onSelect","FormControl","Dropdown","envValue","onEnvChange","Toggle","Menu","eventKey","NewRobotForm","robotName","setRobotName","strategy","setStrategy","account","setAccount","instrument","setInstrument","accountParams","robot_name","maxLength","RobotBalanceCalculation","setLoadState","process","RobotNav","robots","robotsData","setRobotsData","robotsOptions","robotChange","RobotPricingForm","setRobot","CardWidgetMiddle","subTitle","LineCharts","metaData","RobotCashFlowTable","cashFlowData","setCashFlowData","Subtitle","paddingLeft","table","filename","sheet","buttonText","RobotStatistics","transactionData","setTransactionData","totalNumberOfTrades","totalNumberOfShortTradesList","totalNumberOfLongTradesList","winningLongTrades","losingLongTrades","winningShortTrades","losingShortTrades","winningTradesList","losingTradesList","totalWinner","totalLoser","totalLongWinner","totalShortWinner","totalLongLoser","totalShortLoser","totalPnl","avgLosingTrade","avgWinningTrade","winRatio","lossRatio","RobotGeneralInformation","RobotDrawDown","chartData","setChartData","RobotReturn","CumulativeReturn","RobotDashBoardPage","balanceData","setBalanceData","pnlData","setPnlData","setDateData","robotData","setRobotData","priceData","setPriceData","totalProfit","totalCashFlow","balance_list","pnl_list","date_list","cashFlowList","balanceChartDataSet","opposite","pnl","perReturn","balanceSubtitle","robotGeneralInformation","RobotTrades","RobotTransactionContext","RobotTransactionUpdateModal","saveModalStatus","statusRef","pnlRef","openPriceRef","closePriceRef","openTimeRef","closeTimeRef","status","openPrice","closePrice","openTime","closeTime","open_price","close_price","open_time","close_time","step","RobotTransactionTableRow","saveModalData","side","parentElement","rowList","innerHTML","RobotTransactionsTable","modalDataParameters","setModalDataParameters","transactionRows","Provider","saveModalDataParameters","RobotTradesQuantiy","RobotTransactionsPage","quantityData","RobotRiskPage","RobotDailyReturns","dailyReturnList","annotations","y","borderColor","textAnchor","undefined","RobotMonthlyReturns","monthlyChartData","setMonthlyChartData","year","RobotReturnPage","RobotRiskSettings","dailyRiskPerc","setDailyRiskPerc","dailyTradeLimit","setDailyTradeLimit","riskPerTrade","setRiskPerTrade","quantityType","setQuantityType","RobotSettings","setStatus","RobotSettingsPage","RobotPage","defaultRobots","showNewRobot","setNewRobot","showRobotBalanceCalc","setRobotBalanceCalc","showRobotPricingCalc","setRobotPricingCalc","icon","rob","InstrumentSearchContext","BrokerContext","InstrumentNew","showNewInstrumentModal","setShowNewInstrumentModal","setName","setType","inst_name","InstrumentSearch","brokerData","instrumentName","setInstrumentName","setInstrumentType","setCode","instrument_name","InstrumentResultTable","searchResults","saveSelectedInstrument","searchRecords","onDoubleClick","getInstrumentData","instrumentId","NewInstrumentTickerModal","selectedInstrumentData","showModal","intCodeRef","sourceTickerRef","setSource","brokers","inst_code","internal_ticker","source_ticker","placeHolder","InstrumentSettings","tickerData","setTickerData","tickers","InstrumentDelete","instrumentID","InstrumentDetailsGeneral","nameRef","instCodeRef","currencyRef","sourceCodeRef","hidden","source_code","NewInstrumentPriceModal","InstrumentPricesTable","prices","dateHandler","InstrumentPrices","prop","InstrumentDetails","Tabs","defaultActiveKey","fill","Tab","InstrumentPage","instrumentSearchResults","setInstrumentSearchResults","selectedInstrument","setSelectedInstrument","saveInstrumentSearchResults","CalculationContext","CalculationEntities","entityData","entity","saveSelectedEntity","dataRows","ProcessIsLoadingModal","button","Spinner","finishedState","CalculationOptions","saveEntity","selectedEntity","saveDate","setProcess","loadingModalStatus","setLoadingModalStatus","modalFinishedState","setModalFinishedState","calculation_date","CalculationSecurityExceptions","exceptions","setExceptions","securityExceptions","entity_code","exception_level","calcDate","tableType","CalculationPortfolioExceptions","CalculationsPage","setEntity","setEntityData","setSelectedEntity","setCalDate","saveCalcDate","App","robotEnvData","setRobotEnvData","portfolioData","setPortfolioData","setBrokerData","saveStartDate","saveEndDate","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.7c44f852.chunk.js","sourcesContent":["import React from \"react\";\n\nconst EnvContext = React.createContext({\n    environment: 'live'\n});\n\nexport default EnvContext;","import {useState} from \"react\";\nimport SliderWidget from \"../../components/SliderWidget\";\nimport Button from \"react-bootstrap/Button\";\nimport axios from \"axios\";\n\n\n// CSS\nimport \"../MainCSS.css\"\nimport Form from \"react-bootstrap/Form\";\n\nconst RiskTableRow = (props) => {\n\n    const [robot, setRobot] = useState(props.robot);\n    const [dailyRisk, setDailyRisk] = useState(props.dailyRisk);\n    const [tradeLimit, setTradeLimit] = useState(props.tradeLimit);\n    const [riskOnTrade, setRiskOnTrade] = useState(props.riskOnTrade);\n    const [pLevel, setPLevel] = useState(props.pLevel);\n    const [qType, setQType] = useState(props.qType);\n    const [quantity, setQuantity] = useState(props.quantity);\n    const [sl, setSl] = useState(props.sl);\n    const [winExp, setWinExp] = useState(props.winExp);\n\n    const UpdateRisk = () => {\n        axios.post(props.server + 'risk/update_robot_risk/', {\n            robot: robot,\n            daily_risk: dailyRisk,\n            nbm_trades: tradeLimit,\n            risk_per_trade: riskOnTrade,\n            pyramiding_level: pLevel,\n            quantity_type: qType,\n            quantity: quantity,\n            sl: sl,\n            win_exp: winExp\n        })\n            .then(response => alert('Risk is updated for ' + robot))\n            .catch((error) => {\n                console.error('Error Message:', error);\n            });\n    };\n\n    const tradeLimitHandler = (event) => {\n        setTradeLimit(event.target.value)\n    };\n\n    const tradeRiskHandler = (event) => {\n        setRiskOnTrade(event.target.value)\n    };\n\n    const dailyRiskHandler = (event) => {\n        setDailyRisk(event.target.value)\n    };\n\n    const quantityTypeHandler = (event) => {\n        setQType(event.target.value)\n    };\n\n    const quantityHandler = (event) => {\n        setQuantity(event.target.value)\n    };\n\n    const slHandler = (event) => {\n        setSl(event.target.value)\n    };\n\n    const winExpHandler = (event) => {\n        setWinExp(event.target.value)\n    };\n\n    return (\n        <tr>\n            <td style={{verticalAlign: \"middle\"}}>{robot}</td>\n            <td style={{verticalAlign: \"middle\"}}>\n                <Form.Control onChange={dailyRiskHandler} type=\"number\" placeholder={dailyRisk}/>\n            </td>\n            <td style={{verticalAlign: \"middle\"}}>\n                <Form.Control onChange={tradeLimitHandler} type=\"number\" placeholder={tradeLimit}/>\n            </td>\n            <td style={{verticalAlign: \"middle\"}}>\n                <Form.Control onChange={tradeRiskHandler} type=\"number\" placeholder={riskOnTrade}/>\n            </td>\n            <td style={{verticalAlign: \"middle\"}}>\n                <Form.Control onChange={quantityTypeHandler} defaultValue={qType} as=\"select\">\n                    <option value={'Stop Based'}>Stop Based</option>\n                    <option value={'Fix'}>Fix</option>\n                </Form.Control>\n            </td>\n            <td style={{verticalAlign: \"middle\"}}>\n                <Form.Control onChange={quantityHandler} type=\"number\" placeholder={quantity}/>\n            </td>\n            <td style={{verticalAlign: \"middle\"}}>\n                <Form.Control onChange={slHandler} type=\"number\" placeholder={sl}/>\n            </td>\n            <td style={{verticalAlign: \"middle\"}}>\n                <Form.Control onChange={winExpHandler} type=\"number\" placeholder={winExp}/>\n            </td>\n            <td style={{verticalAlign: \"middle\"}}><Button onClick={UpdateRisk}>Update</Button></td>\n        </tr>\n    );\n};\n\nexport default RiskTableRow;","import {useContext, useEffect, useState} from \"react\";\nimport EnvContext from \"../../context/env-context\";\nimport RiskTableRow from \"./RiskTableRow\";\n\n// Bootstrap\nimport Table from \"react-bootstrap/Table\";\n\n// CSS\nimport \"../MainCSS.css\"\n\nconst RiskTableData = (props) => {\n\n    const env = useContext(EnvContext)['environment'];\n\n    const [riskData, setRiskData] = useState([])\n\n    // Fetching robot risk data from database\n    useEffect(() => {\n            fetch(props.server + 'risk/get_robot_risk/' + env)\n                .then(response => response.json())\n                .then(data => setRiskData(data))\n                .catch((error) => {\n                    console.error('Error Message:', error);\n                });\n        }, [props]\n    );\n    console.log(riskData)\n    const riskDataRow = riskData.map((data) =>\n        <RiskTableRow key={data['id']}\n                      robot={data['robot']}\n                      dailyRisk={data['daily_risk']}\n                      tradeLimit={data['daily_trade_limit']}\n                      riskOnTrade={data['risk_per_trade']}\n                      pLevel={data['pyramiding_level']}\n                      qType={data['quantity_type']}\n                      quantity={data['quantity']}\n                      sl={data['sl']}\n                      winExp={data['win_exp']}\n                      server={props.server}/>\n    );\n\n    return (\n        <Table>\n            <thead style={{fontSize: 12}}>\n            <tr>\n                <th style={{verticalAlign: \"middle\"}}>Robot</th>\n                <th style={{verticalAlign: \"middle\"}}>Daily Loss Limit %</th>\n                <th style={{verticalAlign: \"middle\"}}>Max Number of Trades (Daily)</th>\n                <th style={{verticalAlign: \"middle\"}}>Risk Exposure %</th>\n                <th style={{verticalAlign: \"middle\"}}>Quantity Type</th>\n                <th style={{verticalAlign: \"middle\"}}>Quantity</th>\n                <th style={{verticalAlign: \"middle\"}}>SL</th>\n                <th style={{verticalAlign: \"middle\"}}>Win Exp %</th>\n                <th></th>\n            </tr>\n            </thead>\n            <tbody>\n            {riskDataRow}\n            </tbody>\n        </Table>\n    );\n};\n\nexport default RiskTableData;","import React from \"react\";\n\nconst ServerContext = React.createContext();\n\nexport default ServerContext;","import {useState, useEffect, useContext} from \"react\";\n\n// Bootstrap\nimport Button from \"react-bootstrap/Button\";\nimport Container from 'react-bootstrap/Container'\nimport Form from \"react-bootstrap/Form\";\nimport Table from 'react-bootstrap/Table'\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Card from 'react-bootstrap/Card';\n\nimport RiskTableData from \"./RiskPage/RiskTableData\";\nimport ServerContext from \"../context/server-context\";\n\n// CSS\nimport \"./MainCSS.css\"\n\nconst RiskPage = () => {\n\n    const server = useContext(ServerContext)['server'];\n\n    return (\n        <Container className={\"border\"} style={{background: '#FBFAFA', width: \"100%\", height: window.innerHeight, padding: '20px'}} fluid>\n            <Row>\n                <Col>\n                    <Container>\n                        <Card className=\"card\">\n                            <Card.Title className=\"card-header-first\"> Robot Risk Parameters</Card.Title>\n                            <RiskTableData server={server}/>\n                        </Card>\n                    </Container>\n\n                </Col>\n            </Row>\n\n        </Container>\n    );\n};\n\nexport default RiskPage;","import Card from 'react-bootstrap/Card';\nimport Table from \"react-bootstrap/Table\";\nimport {useEffect, useState} from \"react\";\nimport axios from \"axios\";\nimport './PerfDashBoard.css'\nimport Row from \"react-bootstrap/Row\";\n\n//CSS\nimport './PerfDashBoard.css'\n\nconst PerformanceDashboard = (props) => {\n\n    // Fetching Robot balance data\n    const [perfData, setPerfData] = useState([]);\n\n    useEffect(() => {\n            axios.get(props.server + 'home/load_robot_stats/' + props.env)\n                .then(response => response['data'])\n                .then(data => setPerfData(data))\n                .catch((error) => {\n                    console.error('Error Message:', error);\n                });\n        }, [props]\n    );\n\n    const perfRespData = perfData.map((record) =>\n    <tr key={record['robot']['id']}>\n        <td className={'table-row'}>{record['robot']['name']}</td>\n        <td className={'table-row'} style={{color: record['balance']<0.0 ? 'red': 'green'}}>{record['balance']}</td>\n        <td className={'table-row'} style={{color: record['dtd_ret']<0.0 ? 'red': 'green'}}>{record['dtd_ret']} %</td>\n        <td className={'table-row'} style={{color: record['mtd_ret']<0.0 ? 'red': 'green'}}>{record['mtd_ret']} %</td>\n        <td className={'table-row'} style={{color: record['ytd_ret']<0.0 ? 'red': 'green'}}>{record['ytd_ret']} %</td>\n    </tr>);\n\n    return (\n        <Row style={{height: '450px', width: '100%', margin: '15px'}}>\n            <Card className=\"card\" style={{margin: '0px'}}>\n                <div style={{height: '500px', overflowY: 'scroll', overflowX: 'hidden'}}>\n                    <Table>\n                        <thead>\n                        <tr>\n                            <th className={'table-header'}>Robot\n                            </th>\n                            <th className={'table-header'}>Balance</th>\n                            <th className={'table-header'}>DTD</th>\n                            <th className={'table-header'}>MTD</th>\n                            <th className={'table-header'}>YTD</th>\n                        </tr>\n                        </thead>\n                        <tbody>\n                        {perfRespData}\n                        </tbody>\n                    </Table>\n                </div>\n            </Card>\n        </Row>\n    );\n\n};\n\nexport default PerformanceDashboard;","import React, {useState, useEffect, useContext} from \"react\";\n\nconst RobotContext = React.createContext();\n\nexport default RobotContext;","import {useEffect, useState} from \"react\";\nimport axios from \"axios\";\n\nconst OptionLoader = (props) => {\n\n    const [rawData, setRawData] = useState('');\n\n    useEffect(() => {\n            axios.get(props.url, {params: props.params})\n                .then(response => response['data'].map((record) =>\n                    <option key={record['id']} value={record[props.code]}>{record[props.value]}</option>))\n                .then(data => setRawData(data))\n                .catch((error) => {\n                    console.error('Error Message:', error);\n                });\n        }, [props]\n    );\n\n    return (\n        rawData\n    );\n};\n\nexport default OptionLoader;","import Card from \"react-bootstrap/Card\";\nimport Chart from \"react-apexcharts\";\n\nconst HomePageBarChart = (props) => {\n    const chartOptions = {\n        options: {\n            chart: {\n                type: 'bar',\n                toolbar: false,\n                id: props.id\n            },\n            colors: [function(value){\n                if (value['value'] < 0){\n                    return '#E32227'\n                }else {\n                    return '#007500'\n                }\n            }],\n            xaxis: {\n                categories: [],\n                labels: {show: false}\n            },\n            yaxis: [\n                {\n                    labels: {\n                        formatter: function (val) {\n                            return val.toFixed(0);\n                        }\n                    },\n                    title: {\n            text: 'Profit'\n          }\n                }\n            ],\n            dataLabels: {\n                enabled: false\n            },\n        },\n        series: [\n            {\n                name: \"series-1\",\n                data: props.data,\n            }\n        ]\n    };\n    return (\n        <Card className=\"card\" style={{margin: '2px', height: '100%'}}>\n            <Card.Title className=\"card-header-first\">{props.title}</Card.Title>\n            <Card.Body style={{padding: '0px'}}>\n                <Chart\n                    options={chartOptions.options}\n                    series={chartOptions.series}\n                    type={'bar'}\n                    width=\"100%\"\n                    height=\"100%\"/>\n            </Card.Body>\n        </Card>\n    );\n};\nexport default HomePageBarChart;","import HomePageBarChart from \"../HomePageCharts/HomePageBarChart\";\n// Bootstrap Imports\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport {useEffect, useState} from \"react\";\nimport axios from \"axios\";\n\nconst TopLevel = (props) =>{\n    const [responseData, setResponseData] = useState([]);\n    const findCumulativeSum = arr => {\n        const creds = arr.reduce((acc, val) => {\n            let {sum, res} = acc;\n            sum += val;\n            res.push(sum);\n            return {sum, res};\n        }, {\n            sum: 0,\n            res: []\n        });\n        return creds.res;\n    };\n    useEffect(() => {\n            axios.get(props.server + 'home/daily_robot_balances', {\n                params: {\n                    env: props.env,\n                }\n            })\n                .then(response => setResponseData(response['data'].map(data=>data['y'])))\n                .catch((error) => {\n                    console.error('Error Message:', error);\n                });\n        }, [props]\n    );\n    return (\n        <Row style={{height: '600px', width: '100%', margin: '0px', padding: '0px'}}>\n            <Col style={{height: '100%', width: '50%'}}>\n                <HomePageBarChart data={findCumulativeSum(responseData)} title={'Total Cumulative Year to Date P&L'} id={'aggregated-pnl-chart'}/>\n            </Col>\n            <Col style={{height: '100%', width: '50%'}}>\n                <HomePageBarChart data={responseData} title={'Daily P&L'} id={'daily-aggregated-pnl-chart'}/>\n            </Col>\n        </Row>\n    )\n};\n\nexport default TopLevel;","import Card from 'react-bootstrap/Card';\nimport Button from 'react-bootstrap/Button';\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Chart from \"react-apexcharts\";\n\nconst CardWidget = (props) => {\n    return (\n        <Card className=\"card\" style={{margin:'0px'}}>\n            <Card.Title style={{margin:'0px'}} className=\"card-header-first\">{props.title}</Card.Title>\n            <Card.Body style={{display:'flex', justifyContent:'center', padding: '5px'}}>\n                {props.children}\n            </Card.Body>\n        </Card>\n    );\n};\n\nexport default CardWidget","// Bootstrap Imports\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\n\nimport CardWidget from \"../../../components/CardWidget\";\nimport {useEffect, useState} from \"react\";\nimport axios from \"axios\";\n\nconst PnLPanel = (props) => {\n    const date = new Date().toISOString().substr(0,10);\n    const [dtdData, setDtdData] = useState(0.0);\n    const [mtdData, setMtdData] = useState(0.0);\n    const [ytdData, setYtdData] = useState(0.0);\n\n    useEffect(() => {\n            axios.get(props.server + 'home/total_robot_pnl/', {\n                params: {\n                    start_date: date,\n                    env: props.env,\n                }\n            })\n                .then(response => setDtdData(response['data'][0]['data']))\n                .catch((error) => {\n                    console.error('Error Message:', error);\n                });\n        }, [props]\n    );\n\n    useEffect(() => {\n            axios.get(props.server + 'home/total_robot_pnl/', {\n                params: {\n                    start_date: date.substr(0,7)+'-01',\n                    env: props.env,\n                }\n            })\n                .then(response => setMtdData(response['data'][0]['data']))\n                .catch((error) => {\n                    console.error('Error Message:', error);\n                });\n        }, [props]\n    );\n    useEffect(() => {\n            axios.get(props.server + 'home/total_robot_pnl/', {\n                params: {\n                    start_date: date.substr(0,4)+'-01-01',\n                    env: props.env,\n                }\n            })\n                .then(response => setYtdData(response['data'][0]['data']))\n                .catch((error) => {\n                    console.error('Error Message:', error);\n                });\n        }, [props]\n    );\n    return (\n        <Row style={{height: '150px', width: '100%', margin: '0px', padding: '10px'}}>\n            <Col style={{height: '100%'}}>\n                <CardWidget title={'DTD'}>\n                    <h1 style={{\n                        margin: 'auto',\n                        verticalAlign: 'middle',\n                        color: dtdData < 0.0 ? 'red' : 'green'\n                    }}>{dtdData}</h1>\n                </CardWidget>\n            </Col>\n            <Col style={{height: '100%'}}>\n                <CardWidget title={'MTD'}>\n                    <h1 style={{\n                        margin: 'auto',\n                        verticalAlign: 'middle',\n                        color: mtdData < 0.0 ? 'red' : 'green'\n                    }}>{mtdData}</h1>\n                </CardWidget>\n            </Col>\n            <Col style={{height: '100%'}}>\n                <CardWidget title={'YTD'}>\n                    <h1 style={{\n                        margin: 'auto',\n                        verticalAlign: 'middle',\n                        color: ytdData < 0.0 ? 'red' : 'green'\n                    }}>{ytdData}</h1>\n                </CardWidget>\n            </Col>\n        </Row>\n    );\n};\n\nexport default PnLPanel;","import Card from \"react-bootstrap/Card\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Chart from \"react-apexcharts\";\nimport {useEffect, useState} from \"react\";\nimport axios from \"axios\";\n\nconst PieCharts = (props) => {\n\n    const chartOptions = {\n        options: {\n            // chart: {\n            //     toolbar: false,\n            // },\n            labels: props.labels,\n            dataLabels: {\n                enabled: true,\n                formatter: function (val) {\n                    return (Math.round(val * 100) / 100) + '%'\n                },\n            },\n        },\n        series: props.data\n    };\n    return (\n         <Card className=\"card\" style={{margin: '0px'}}>\n            <Card.Title className=\"card-header-first\">{props.title}</Card.Title>\n            <Card.Body style={{padding: '0px'}}>\n                <Row style={{height: '100%'}}>\n                    <Col style={{height: '100%'}}>\n                        <Chart\n                            options={chartOptions.options}\n                            series={chartOptions.series}\n                            type={'donut'}\n                            width=\"100%\"\n                            height=\"100%\"\n                        />\n                    </Col>\n                </Row>\n            </Card.Body>\n        </Card>\n    );\n};\n\nexport default PieCharts;\n\n\n\n\n\n","import CardWidget from \"../../../components/CardWidget\";\nimport PieCharts from \"../../../components/Charts/PieCharts\";\n\n// Bootstrap imports\nimport Row from \"react-bootstrap/Row\";\nimport Col from 'react-bootstrap/Col';\nimport {useEffect, useState} from \"react\";\nimport axios from \"axios\";\n\nconst BalanceDashBoard = (props) => {\n    const [chData, setChData] =  useState([])//balanceData.map(data=>data['y'])\n    const [labelData, setLabelData] =  useState([])//balanceData.map(data=>data['x'])\n    const totalBalance = chData.reduce((a, b) => a + b, 0)\n\n    useEffect(() => {\n            axios.get(props.server + 'home/total_robot_balances_by_date/',{\n                params: {\n                    env: props.env,\n                }})\n                .then(function (response) {\n                    setChData(response['data'].map(item => item['y']));\n                    setLabelData(response['data'].map(item => item['x']))\n                })\n                .catch((error) => {\n                    console.error('Error Message:', error);\n                });\n        }, [props]\n    );\n\n    return (\n        <Row style={{height: '300px', width: '100%', margin: '0px', padding: '0px'}}>\n            <Col style={{height: '100%'}}>\n                <CardWidget title={'Total Balance'}>\n                    <h1 style={{margin:'auto', verticalAlign:'middle'}}>{Math.round(totalBalance * 100)/100}</h1>\n                </CardWidget>\n            </Col>\n            <Col style={{height: '100%'}}>\n                <PieCharts title={'Balance by Robots'} data={chData} labels={labelData}/>\n            </Col>\n        </Row>\n    );\n};\n\nexport default BalanceDashBoard;","import Card from \"react-bootstrap/Card\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Chart from \"react-apexcharts\";\n\n\nconst BarCharting = (props) => {\n    const yMax = Math.max(...props.data);\n    console.log(props.data)\n    const chartOptions = {\n        options: {\n            // chart: {\n            //     toolbar: true,\n            // },\n            plotOptions: {\n                bar: {\n                    horizontal: props.horizontal\n                }\n            },\n            xaxis: {\n                categories: [],\n                labels: {show: false}\n            },\n            yaxis: [\n                {\n                    tickAmount: 10,\n                    labels: {\n                        show: true,\n                        style: {\n                            colors: [],\n                            fontSize: '12px',\n                            fontFamily: 'Helvetica, Arial, sans-serif',\n                            fontWeight: 400,\n                            cssClass: 'apexcharts-yaxis-label',\n                        },\n                        // formatter: function (val) {\n                        //     return val.toFixed(0);\n                        // }\n                    },\n                }\n            ],\n            dataLabels: {\n                enabled: true\n            },\n        },\n        series: [\n            {\n                name: \"Aggregated Robot Profit and Loss\",\n                data: props.data,\n            }\n        ]\n    };\n\n    return (\n        <Card className=\"card\" style={{margin:'0px'}}>\n            <Card.Title className=\"card-header-first\">{props.title}</Card.Title>\n            <Card.Body style={{padding: '0px'}}>\n                <Row style={{height: '100%'}}>\n                    <Col style={{height: '100%'}}>\n                        <Chart\n                            options={chartOptions.options}\n                            series={chartOptions.series}\n                            type={'bar'}\n                            width=\"100%\"\n                            height=\"100%\"\n                        />\n                    </Col>\n                </Row>\n            </Card.Body>\n        </Card>\n    );\n};\n\nexport default BarCharting;","import Col from \"react-bootstrap/Col\";\nimport Row from \"react-bootstrap/Row\";\n\nimport BarCharting from \"../../../components/Charts/BarCharting\";\nimport {useEffect, useState} from \"react\";\nimport axios from \"axios\";\n\nconst ContributionPnl = (props) => {\n    const date = new Date().toISOString().substr(0,10);\n    const [dtdData, setDtdData] = useState([]);\n    const [mtdData, setMtdData] = useState([]);\n    const [ytdData, setYtdData] = useState([]);\n\n    useEffect(() => {\n            axios.get(props.server + 'home/robot_pnl/', {\n                params: {\n                    start_date: date,\n                    env: props.env,\n                }\n            })\n                .then(response => setDtdData(response['data']))\n                .catch((error) => {\n                    console.error('Error Message:', error);\n                });\n        }, [props]\n    );\n\n    useEffect(() => {\n            axios.get(props.server + 'home/robot_pnl/', {\n                params: {\n                    start_date: date.substr(0,7)+'-01',\n                    env: props.env,\n                }\n            })\n                .then(response => setMtdData(response['data']))\n                .catch((error) => {\n                    console.error('Error Message:', error);\n                });\n        }, [props]\n    );\n    useEffect(() => {\n            axios.get(props.server + 'home/robot_pnl/', {\n                params: {\n                    start_date: date.substr(0,4)+'-01-01',\n                    env: props.env,\n                }\n            })\n                .then(response => setYtdData(response['data']))\n                .catch((error) => {\n                    console.error('Error Message:', error);\n                });\n        }, [props]\n    );\n\n    return (\n        <Row style={{height: '300px', width: '100%', margin: '0px', padding: '10px'}}>\n            <Col style={{height: '100%'}}>\n                <BarCharting data={dtdData} horizontal={false} xLabel={true}/>\n            </Col>\n            <Col style={{height: '100%'}}>\n                <BarCharting data={mtdData} horizontal={false} xLabel={true}/>\n            </Col>\n            <Col style={{height: '100%'}}>\n                <BarCharting data={ytdData} horizontal={false} xLabel={true}/>\n            </Col>\n        </Row>\n    );\n};\n\nexport default ContributionPnl;","import Container from \"react-bootstrap/Container\";\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\n\nimport PerfDashBoard from \"./HomePage/PerfDashBoard\";\nimport {useContext, useEffect, useState} from \"react\";\n\nimport RobotStatCards from \"./HomePage/RobotStatCards\";\nimport RobotExecution from \"./HomePage/RobotExecution/RobotExecution\";\nimport SystemMessages from \"./HomePage/SystemMessages/SystemMessages\";\n\nimport TopLevel from \"./HomePage/DashBoard/TopLevel\";\nimport PnLPanel from \"./HomePage/DashBoard/PnLPanel\";\nimport BalanceDashBoard from \"./HomePage/DashBoard/BalanceDashboard\";\nimport ContributionPnl from \"./HomePage/DashBoard/ContributionPnl\";\n\n// Chart Imports\nimport BarCharting from \"../components/Charts/BarCharting\";\n\n\n//CSS\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './HomePage.css';\n\n// Contexts\nimport EnvContext from \"../context/env-context\";\nimport ServerContext from \"../context/server-context\";\nimport axios from \"axios\";\n\nconst HomePage = (props) => {\n    // Context variables\n    const env = useContext(EnvContext)['environment'];\n    const server = useContext(ServerContext)['server'];\n    const startDate = new Date().toISOString().substr(0,10);\n    const [date, setDate] = useState(startDate);\n\n    const dateHandler = (event) => {\n        setDate(event.target.value);\n    };\n\n    return (\n        <Container style={{background: '#FBFAFA', width: \"100%\", height: window.innerHeight}} fluid>\n            <Row style={{height: window.innerHeight}}>\n                <Col style={{height: '800px', width:'50%', margin:'15px'}}>\n                    <h4 style={{textAlign:'left', marginTop:'0px', marginBottom:'15px'}}>Balance</h4>\n                    <BalanceDashBoard server={server} env={env}/>\n                    <h4 style={{textAlign:'left', marginTop:'15px'}}>Total Robot Results</h4>\n                    <TopLevel server={server} env={env} />\n                </Col>\n                <Col style={{height: '800px', width:'50%', margin:'15px'}}>\n                    <h4>Profit</h4>\n                    <PnLPanel server={server} env={env}/>\n                    <ContributionPnl server={server} env={env}/>\n                    <h4>Performance</h4>\n                    <PerfDashBoard server={server} env={env} env={env}/>\n                </Col>\n            </Row>\n        </Container>\n    );\n};\n\nexport default HomePage;","// Bootstrap\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport Modal from \"react-bootstrap/Modal\";\n\nimport {useState} from \"react\";\nimport axios from \"axios\";\n\nconst NewPortfolioForm = (props) => {\n    const [portfolioName, setPortfolioName] = useState('');\n    const [portfolioCode, setPortfolioCode] = useState('');\n    const [portType, setPortType] = useState('Trade');\n    const [currency, setCurrency] = useState('USD');\n    const [date, setDate] = useState();\n    const handleClose = () => {\n        props.hide();\n    };\n    const portfolioNameChangeHandler = (event) => {\n        setPortfolioName(event.target.value)\n    };\n    const portfolioCodeChangeHandler = (event) => {\n        setPortfolioCode(event.target.value);\n    };\n    const portTypeHandler = (event) => {\n        setPortType(event.target.value)\n    };\n    const currencyHandler = (event) => {\n        setCurrency(event.target.value);\n    };\n    const dateHandler = (event) => {\n        setDate(event.target.value);\n    };\n    const submitHandler = (event) => {\n        event.preventDefault();\n        axios.post(props.server + 'portfolios/new/', {\n            port_name: portfolioName,\n            port_type: portType,\n            port_currency: currency,\n            port_code: portfolioCode,\n            inception_date: date,\n        })\n            .then(function (response) {\n                if (response['data'] == 'New Portfolio is created!') {\n                    alert('New portfolio is created!')\n                    props.hide();\n                } else {\n                    alert(response['data']);\n                }\n            })\n            .catch((error) => {\n                console.error('Error Message:', error);\n            });\n    };\n    return (\n        <>\n            <Modal show={props.show} onHide={handleClose}>\n                <Modal.Header closeButton>\n                    <Modal.Title>New Portfolio</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    <Form onSubmit={submitHandler} style={{width: '100%'}}>\n                        <Form.Group>\n                            <Form.Label>Portfolio Name</Form.Label>\n                            <Form.Control onChange={portfolioNameChangeHandler} type=\"text\" placeholder=\"Portfolio Name\" required/>\n                        </Form.Group>\n                        <Form.Group>\n                            <Form.Label>Portfolio Code</Form.Label>\n                            <Form.Control onChange={portfolioCodeChangeHandler} type=\"text\" placeholder=\"Portfolio Code\" required/>\n                        </Form.Group>\n                        <Form.Group>\n                            <Form.Label>Portfolio Type</Form.Label>\n                            <Form.Control onChange={portTypeHandler} as=\"select\">\n                                <option value={'Trade'}>Trade</option>\n                                <option value={'Savings'}>Savings</option>\n                                <option value={'Investment'}>Investment</option>\n                            </Form.Control>\n                        </Form.Group>\n                        <Form.Group>\n                            <Form.Label>Portfolio Currency</Form.Label>\n                            <Form.Control onChange={currencyHandler} as=\"select\">\n                                <option value={'USD'}>USD</option>\n                                <option value={'HUF'}>HUF</option>\n                                <option value={'EUR'}>EUR</option>\n                            </Form.Control>\n                        </Form.Group>\n                        <Form.Group>\n                            <Form.Label>Portfolio Inception Date</Form.Label>\n                            <Form.Control onChange={dateHandler} type=\"date\" defaultValue={date}/>\n                        </Form.Group>\n                    </Form>\n                </Modal.Body>\n                <Modal.Footer>\n                    <Button variant=\"secondary\" onClick={handleClose}>\n                        Close\n                    </Button>\n                    <Button variant=\"primary\" onClick={submitHandler}>\n                        Save\n                    </Button>\n                </Modal.Footer>\n            </Modal>\n        </>\n    );\n};\n\nexport default NewPortfolioForm;","import {useState} from \"react\";\nimport axios from \"axios\";\n\nimport Button from \"react-bootstrap/Button\";\nimport Modal from \"react-bootstrap/Modal\";\nimport Col from 'react-bootstrap/Col'\nimport Row from 'react-bootstrap/Row';\nimport Form from \"react-bootstrap/Form\";\nimport TreeView from \"@mui/lab/TreeView\";\nimport ExpandMoreIcon from \"@mui/icons-material/ExpandMore\";\nimport ChevronRightIcon from \"@mui/icons-material/ChevronRight\";\nimport TreeItem from \"@mui/lab/TreeItem\";\n\nconst PositionCalculation = (props) => {\n    const date = new Date();\n    const firstDay = new Date(date.getFullYear(), date.getMonth(), 1);\n    const [startDate, setStartDate] = useState(firstDay.toISOString().substr(0,10));\n    const [endDate, setEndDate] = useState(date.toISOString().substr(0,10));\n    const [response, setResponse] = useState([]);\n    const treeData = response.map(function (data, index) {\n\n        return <TreeItem nodeId={index.toString()} label={data['portfolio']}>\n            {data['response'].map((item, index2) => <TreeItem nodeId={index.toString() + index2.toString()}\n                                                              label={item['date']}>\n                {item['msgs'].map(item2 => <TreeItem\n                    label={item2['msg']}></TreeItem>)}\n            </TreeItem>)}\n        </TreeItem>\n    });\n    const startDateHandler = (event) => {\n        setStartDate(event.target.value);\n    };\n\n    const endDateHandler = (event) => {\n        setEndDate(event.target.value);\n    };\n\n    const handleClose = () => {\n        props.hide();\n    };\n    const changePortfolio = (event) => {\n        if (event.target.checked){\n            // setPortfolio('ALL');\n        }else {\n            // setPortfolio(props.portfolio);\n        };\n    };\n    const submitHandler = (event) => {\n        event.preventDefault();\n        axios.post(props.server + 'portfolios/positions/', {\n            portfolio: props.portfolio,\n            start_date: startDate,\n            end_date: endDate,\n        })\n            .then(response => setResponse(response['data']))\n            .catch((error) => {\n                console.error('Error Message:', error);\n            });\n    };\n    return (\n        <Modal show={props.show} onHide={handleClose} size={'xl'}>\n            <Modal.Header closeButton>\n                <Modal.Title>Portfolio Position Calculation - {props.portfolio}</Modal.Title>\n            </Modal.Header>\n            <Modal.Body style={{height: '300px'}}>\n                <Row style={{height: '100%'}}>\n                    <Col style={{height: '100%'}}>\n                        <Form onSubmit={submitHandler} style={{width: '100%', height: '100%'}}>\n                            <Row style={{height: '60px', width: '100%', padding: '5px', margin: '5px'}}>\n                                <Row style={{width: '100%', margin: '0px'}}>\n                                    <Form.Group style={{width: '100%', margin: '0px'}}>\n                                        <Form.Label className=\"form-label-first\" column sm={2}>\n                                            From\n                                        </Form.Label>\n                                        <Col sm={10}>\n                                            <Form.Control type=\"date\" onChange={startDateHandler}\n                                                          defaultValue={firstDay.toISOString().substr(0, 10)}/>\n                                        </Col>\n                                    </Form.Group>\n                                </Row>\n                                <Row style={{width: '100%', margin: '0px'}}>\n                                    <Form.Group style={{width: '100%'}}>\n                                        <Form.Label className=\"form-label-first\" column sm={2}>\n                                            To\n                                        </Form.Label>\n                                        <Col sm={10}>\n                                            <Form.Control type=\"date\" onChange={endDateHandler}\n                                                          defaultValue={date.toISOString().substr(0, 10)}/>\n                                        </Col>\n                                    </Form.Group>\n                                </Row>\n                            </Row>\n                        </Form>\n                    </Col>\n                    <Col style={{height: '100%'}}>\n                        <TreeView\n                            aria-label=\"file system navigator\"\n                            defaultCollapseIcon={<ExpandMoreIcon/>}\n                            defaultExpandIcon={<ChevronRightIcon/>}\n                            sx={{height: '100%', flexGrow: 1, maxWidth: '100%', overflowY: 'auto',}}\n                        >\n                            {treeData}\n                        </TreeView>\n                    </Col>\n                </Row>\n            </Modal.Body>\n            <Modal.Footer style={{width: '100%', margin: '0px'}}>\n                <Row style={{width: '100%', margin: '0px'}}>\n                    <Col>\n                        <Row>\n                            <Col>\n                                <Form.Group className=\"mb-3\" controlId=\"formBasicCheckbox\">\n                                    <Form.Check onClick={changePortfolio} type=\"checkbox\" label=\"All Portfolios\"/>\n                                </Form.Group>\n                            </Col>\n                            <Col>\n                                <Form.Group className=\"mb-3\" controlId=\"formBasicCheckbox\">\n                                    <Form.Check onClick={changePortfolio} type=\"checkbox\" label=\"Since Inception\"/>\n                                </Form.Group>\n                            </Col>\n                        </Row>\n\n                    </Col>\n                    <Col>\n                        <Form.Group style={{width: '100%'}}>\n                            <Col sm={10}>\n                                <Button variant=\"primary\" onClick={submitHandler} style={{width: '100%'}}>\n                                    Calculate\n                                </Button>\n                            </Col>\n                        </Form.Group>\n                    </Col>\n                </Row>\n            </Modal.Footer>\n        </Modal>\n    );\n};\n\nexport default PositionCalculation;","import {useState} from \"react\";\nimport axios from \"axios\";\n\nimport Button from \"react-bootstrap/Button\";\nimport Modal from \"react-bootstrap/Modal\";\nimport Col from 'react-bootstrap/Col'\nimport Row from 'react-bootstrap/Row';\nimport Form from \"react-bootstrap/Form\";\n\n// MUI\nimport TreeView from '@mui/lab/TreeView';\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\nimport ChevronRightIcon from '@mui/icons-material/ChevronRight';\nimport TreeItem from '@mui/lab/TreeItem';\n\nconst CashHoldingCalculation = (props) => {\n    const date = new Date();\n    const firstDay = new Date(date.getFullYear(), date.getMonth(), 1);\n    const [startDate, setStartDate] = useState(firstDay.toISOString().substr(0,10));\n    const [endDate, setEndDate] = useState(date.toISOString().substr(0,10));\n    const [response, setResponse] = useState([]);\n    const [portfolio, setPortfolio] = useState(props.portfolio);\n    const treeData = response.map(function (data, index) {\n        let treeNodes = data['response'].map(item => <TreeItem label={item['date'] + \" \" + item['msg']}></TreeItem>);\n        return <TreeItem nodeId={index.toString()} label={data['portfolio']}>\n            {treeNodes}\n        </TreeItem>\n    });\n\n    const startDateHandler = (event) => {\n        setStartDate(event.target.value);\n    };\n\n    const endDateHandler = (event) => {\n        setEndDate(event.target.value);\n    };\n\n    const handleClose = () => {\n        props.hide();\n    };\n\n    const changePortfolio = (event) => {\n        if (event.target.checked){\n            setPortfolio('ALL');\n        }else {\n            setPortfolio(props.portfolio);\n        };\n        console.log(event.target.checked)\n    };\n\n    const submitHandler = (event) => {\n        event.preventDefault();\n\n        axios.post(props.server + 'portfolios/cash_holding/', {\n            portfolio: props.portfolio,\n            start_date: startDate,\n            end_date: endDate,\n        })\n            .then(response => setResponse(response['data']))\n            .catch((error) => {\n                console.error('Error Message:', error);\n            });\n    };\n    return (\n        <Modal show={props.show} onHide={handleClose} size={'xl'}>\n            <Modal.Header closeButton>\n                <Modal.Title>Cash Holding Calculation - {props.portfolio}</Modal.Title>\n            </Modal.Header>\n            <Modal.Body style={{width: '100%', height: '300px'}}>\n                <Row style={{height:'100%'}}>\n                    <Col style={{height:'100%'}}>\n                        <Form onSubmit={submitHandler} style={{width: '100%', height:'100%'}}>\n                            <Row style={{height: '60px', width: '100%', padding: '5px', margin: '5px'}}>\n                                <Row style={{width: '100%', margin: '0px'}}>\n                                    <Form.Group style={{width: '100%', margin: '0px'}}>\n                                        <Form.Label className=\"form-label-first\" column sm={2}>\n                                            From\n                                        </Form.Label>\n                                        <Col sm={10}>\n                                            <Form.Control type=\"date\" onChange={startDateHandler}\n                                                          defaultValue={firstDay.toISOString().substr(0, 10)}/>\n                                        </Col>\n                                    </Form.Group>\n                                </Row>\n                                <Row style={{width: '100%', margin: '0px'}}>\n                                    <Form.Group style={{width: '100%'}}>\n                                        <Form.Label className=\"form-label-first\" column sm={2}>\n                                            To\n                                        </Form.Label>\n                                        <Col sm={10}>\n                                            <Form.Control type=\"date\" onChange={endDateHandler}\n                                                          defaultValue={date.toISOString().substr(0, 10)}/>\n                                        </Col>\n                                    </Form.Group>\n                                </Row>\n                            </Row>\n                        </Form>\n                    </Col>\n                    <Col style={{height:'100%'}}>\n                        <TreeView\n                            aria-label=\"file system navigator\"\n                            defaultCollapseIcon={<ExpandMoreIcon/>}\n                            defaultExpandIcon={<ChevronRightIcon/>}\n                            sx={{height: '100%', flexGrow: 1, maxWidth: '100%', overflowY: 'auto',}}\n                        >\n                            {treeData}\n                        </TreeView>\n                    </Col>\n                </Row>\n            </Modal.Body>\n            <Modal.Footer style={{width: '100%', margin: '0px'}}>\n                <Row style={{width: '100%', margin: '0px'}}>\n                    <Col>\n                         <Form.Group className=\"mb-3\" controlId=\"formBasicCheckbox\">\n                        <Form.Check onClick={changePortfolio} type=\"checkbox\" label=\"All Portfolios\"/>\n                    </Form.Group>\n                    </Col>\n                    <Col>\n                        <Form.Group style={{width: '100%'}}>\n                        <Col sm={10}>\n                            <Button variant=\"primary\" onClick={submitHandler} style={{width: '100%'}}>\n                                Calculate\n                            </Button>\n                        </Col>\n                    </Form.Group>\n                    </Col>\n                </Row>\n            </Modal.Footer>\n        </Modal>\n    );\n};\n\nexport default CashHoldingCalculation;","import Modal from \"react-bootstrap/Modal\";\nimport Button from \"react-bootstrap/Button\";\nimport Form from \"react-bootstrap/Form\";\nimport {useState} from \"react\";\n\nimport axios from \"axios\";\n\nconst NewBrokerAccount = (props) => {\n\n    const [broker, setBroker] = useState('');\n    const [accountNumber, setAccountNumber] = useState('');\n    const [token, setToken] = useState('');\n    const [env, setEnv] = useState('live');\n    const [currency, setCurrency] = useState('USD');\n\n    const onHide = () => {\n        props.hide();\n    };\n\n    const submitHandler = () => {\n        axios.post(props.server + 'accounts/new_account/', {\n            broker_name: broker,\n            account_number: accountNumber,\n            env: env,\n            token: token,\n            currency: currency,\n        })\n                .then(response => alert(response['data']))\n                .catch((error) => {\n                    console.error('Error Message:', error);\n                });\n        setBroker('');\n        setAccountNumber('');\n        setToken('');\n        setEnv('live');\n        setCurrency('USD');\n        props.hide();\n    };\n\n    const brokerNameHandler = (event) => {\n        setBroker(event.target.value);\n    };\n\n    const accountNumberHandler = (event) => {\n        setAccountNumber(event.target.value);\n    };\n\n    const tokenHandler = (event) => {\n        setToken(event.target.value);\n    };\n\n    const envHandler = (event) => {\n        setEnv(event.target.value);\n    };\n\n    const currencyHandler = (event) => {\n        setCurrency(event.target.value);\n    };\n\n    return (\n        <Modal show={props.show} onHide={onHide} animation={false}>\n            <Modal.Header closeButton>\n                <Modal.Title>New Account</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                <Form.Group>\n                    <Form.Control onChange={brokerNameHandler} type=\"text\" placeholder=\"Broker Name\"/>\n                </Form.Group>\n                <Form.Group>\n                    <Form.Control onChange={accountNumberHandler} type=\"text\" placeholder=\"Account Number\"/>\n                </Form.Group>\n                <Form.Group>\n                    <Form.Control onChange={tokenHandler} type=\"text\" placeholder=\"Token\"/>\n                </Form.Group>\n                <Form.Group>\n                    <Form.Label>Environment</Form.Label>\n                    <Form.Control onChange={envHandler} as=\"select\">\n                        <option value={'live'}>Live</option>\n                        <option value={'demo'}>Demo</option>\n                    </Form.Control>\n                </Form.Group>\n                <Form.Group>\n                    <Form.Label>Currency</Form.Label>\n                    <Form.Control onChange={currencyHandler} as=\"select\">\n                        <option value={'USD'}>USD</option>\n                        <option value={'EUR'}>EUR</option>\n                    </Form.Control>\n                </Form.Group>\n            </Modal.Body>\n            <Modal.Footer>\n                <Button variant=\"secondary\" onClick={onHide}>\n                    Close\n                </Button>\n                <Button variant=\"primary\" onClick={submitHandler}>\n                    Save\n                </Button>\n            </Modal.Footer>\n        </Modal>\n    );\n};\n\nexport default NewBrokerAccount;","import React, {useState, useEffect, useContext} from \"react\";\n\nconst PortfolioContext = React.createContext();\n\nexport default PortfolioContext;","const PortfolioRiskPage = (props) => {\n    return (\n        <>\n            <h2>Portfolio Risk</h2>\n        </>\n    );\n};\n\nexport default PortfolioRiskPage;","import Card from \"react-bootstrap/Card\";\nimport Container from 'react-bootstrap/Container'\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\n\n// CSS\nimport \"../../../PortfolioPage.css\"\nimport \"../../../MainCSS.css\"\nimport Table from \"react-bootstrap/Table\";\nimport Form from \"react-bootstrap/Form\";\nimport {useState} from \"react\";\n\nconst Holdings = () => {\n    const date = new Date();\n    const [startDate, setStartDate] = useState(date.toISOString().substr(0,10));\n    const startDateHandler = (event) => {\n        setStartDate(event.target.value);\n    };\n    return (\n        <Card className=\"card\">\n            <Row>\n                <Col>\n                    <Card.Title className=\"card-header-first\">Holdings</Card.Title>\n                </Col>\n                <Col>\n                    <Form.Group as={Row} style={{margin:'0px', padding:'5px'}}>\n                        <Form.Label className=\"form-label-first\" column sm={2}>\n                            Date\n                        </Form.Label>\n                        <Col sm={10}>\n                            <Form.Control type=\"date\" onChange={startDateHandler}\n                                          defaultValue={date.toISOString().substr(0,10)}/>\n                        </Col>\n                    </Form.Group>\n                </Col>\n            </Row>\n            <div style={{height: '100%', overflowY: 'scroll', overflowX: 'hidden'}}>\n                <Table>\n                    <thead className=\"table-header-first\">\n                    <tr>\n                        <td className=\"table-header-row\">Starting Quantity</td>\n                        <td className=\"table-header-row\">Price</td>\n                        <td className=\"table-header-row\">Market Value</td>\n                        <td className=\"table-header-row\">Trade Date</td>\n                        <td className=\"table-header-row\">Instrument</td>\n                        <td className=\"table-header-row\">Instrument Type</td>\n                        <td className=\"table-header-row\">Source</td>\n                    </tr>\n                    </thead>\n                    <tbody>\n\n                    </tbody>\n                </Table>\n            </div>\n        </Card>\n    );\n};\n\nexport default Holdings;","\nimport Holdings from \"./Holdings\";\n\nconst PortfolioHoldingsPage = (props) => {\n    return (\n        <>\n            <Holdings/>\n        </>\n    );\n};\n\nexport default PortfolioHoldingsPage;","import Card from \"react-bootstrap/Card\";\nimport Form from \"react-bootstrap/Form\";\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\n\nimport \"../../../MainCSS.css\"\nimport React, {useEffect, useState} from \"react\";\nimport axios from \"axios\";\n\n//CSS\nimport \"./PortfolioDetails.css\"\nimport Table from \"react-bootstrap/Table\";\n\nconst PortfolioDetails = (props) => {\n    return (\n        <Card className=\"card\" style={{margin: '0px'}}>\n            <Card.Title className=\"card-header-first\">Portfolio Summary</Card.Title>\n            <Card.Body>\n                <div style={{height: '100%'}}>\n                    <Table id={'cash-flow-table'}>\n                        <tbody style={{height: '100%', overflow: 'scroll'}}>\n                        <tr key={1}>\n                            <td className={'table-row-text'}>{'Portfolio Name'}</td>\n                            <td className={'table-row'}>{props.data[0]['portfolio_name']}</td>\n                        </tr>\n                        <tr key={2}>\n                            <td className={'table-row-text'}>{'Portfolio Code'}</td>\n                            <td className={'table-row'}>{props.data[0]['portfolio_code']}</td>\n                        </tr>\n                        <tr key={3}>\n                            <td className={'table-row-text'}>{'Portfolio Type'}</td>\n                            <td className={'table-row'}>{props.data[0]['portfolio_type']}</td>\n                        </tr>\n                        <tr key={4}>\n                            <td className={'table-row-text'}>{'Manager'}</td>\n                            <td className={'table-row'}>{'Pavlicsek Attila'}</td>\n                        </tr>\n                        <tr key={5}>\n                            <td className={'table-row-text'}>{'Inception Date'}</td>\n                            <td className={'table-row'}>{props.data[0]['inception_date']}</td>\n                        </tr>\n                        <tr key={6}>\n                            <td className={'table-row-text'}>{'Currency'}</td>\n                            <td className={'table-row'}>{props.data[0]['currency']}</td>\n                        </tr>\n                        <tr key={7}>\n                            <td className={'table-row-text'}>{'Status'}</td>\n                            <td className={'table-row'}>{'Funded'}</td>\n                        </tr>\n                        <tr key={7}>\n                            <td className={'table-row-text'}>{'Asset Type'}</td>\n                            <td className={'table-row'}>{'Fixed Income'}</td>\n                        </tr>\n                        </tbody>\n                    </Table>\n                </div>\n            </Card.Body>\n        </Card>\n    );\n};\n\nexport default PortfolioDetails;","import Chart from \"react-apexcharts\";\nimport Col from \"react-bootstrap/Col\";\nimport Row from \"react-bootstrap/Row\";\nimport Card from \"react-bootstrap/Card\";\n\nconst CumulativeReturnChart = (props) => {\n\n    const chartOptions = {\n        options: {\n            chart: {\n                type: 'area',\n                toolbar: false,\n                id: \"basic-bar\",\n                zoom: {\n            enabled: false\n          }\n            },\n            xaxis: {\n                categories: [],\n                labels: {show: false},\n                axisBorder: {\n                    show: false,\n                    color: '#78909C',\n                    height: 1,\n                    width: '100%',\n                    offsetX: 0,\n                    offsetY: 0\n                },\n                axisTicks: {\n                    show: false,\n                    borderType: 'solid',\n                    color: '#78909C',\n                    height: 6,\n                    offsetX: 0,\n                    offsetY: 0\n                },\n            },\n            yaxis: [\n                {\n                    labels: {\n                        formatter: function (val) {\n                            return val.toFixed(0);\n                        }\n                    }\n                }\n            ],\n            dataLabels: {\n                enabled: false\n            },\n\n        },\n        stroke: {\n          curve: 'straight'\n        },\n        title: {\n            text: 'Cumulative Return',\n            align: 'left',\n            margin: 10,\n            offsetX: 0,\n            offsetY: 0,\n            floating: false,\n            style: {\n                fontSize: '14px',\n                fontWeight: 'bold',\n                // fontFamily: undefined,\n                color: '#263238'\n            },\n        },\n\n        series: [\n            {\n                type: 'area',\n                name: \"Cumulative Return\",\n                data: props.data,\n            }\n        ]\n    };\n\n    return (\n        <Card className=\"card\" style={{margin: '0px'}}>\n            <Card.Title className=\"card-header-first\">Cumulative Return</Card.Title>\n            <Card.Body style={{padding: '0px'}}>\n                <Row style={{height: '100%', width: '100%', margin: '0px'}}>\n                    <Col style={{height: '100%'}}>\n                        <div style={{padding: '0px', height: '100%'}}>\n                            <Chart\n                                options={chartOptions.options}\n                                series={chartOptions.series}\n                                type={'area'}\n                                width=\"100%\"\n                                height=\"100%\"\n                            />\n                        </div>\n                    </Col>\n                </Row>\n            </Card.Body>\n        </Card>\n    );\n};\n\nexport default CumulativeReturnChart;","import {useEffect, useState} from \"react\";\nimport axios from \"axios\";\nimport CumulativeReturnChart from \"../../../Robot/Charts/CumulativeReturn\";\nimport Card from \"react-bootstrap/Card\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Chart from \"react-apexcharts\";\n\nconst PortfolioNav = (props) => {\n    const chartOptions = {\n        options: {\n            chart: {\n                type: 'area',\n                toolbar: false,\n                id: \"portfolio-nav-chart\",\n                zoom: {\n            enabled: false\n          }\n            },\n            xaxis: {\n                categories: [],\n                labels: {show: false},\n                axisBorder: {\n                    show: false,\n                    color: '#78909C',\n                    height: 1,\n                    width: '100%',\n                    offsetX: 0,\n                    offsetY: 0\n                },\n                axisTicks: {\n                    show: false,\n                    borderType: 'solid',\n                    color: '#78909C',\n                    height: 6,\n                    offsetX: 0,\n                    offsetY: 0\n                },\n            },\n            yaxis: [\n                {\n                    labels: {\n                        formatter: function (val) {\n                            return val.toFixed(0);\n                        }\n                    }\n                }\n            ],\n            dataLabels: {\n                enabled: false\n            },\n        },\n        stroke: {\n          curve: 'straight'\n        },\n        title: {\n            text: 'NAV History',\n            align: 'left',\n            margin: 10,\n            offsetX: 0,\n            offsetY: 0,\n            floating: false,\n            style: {\n                fontSize: '14px',\n                fontWeight: 'bold',\n                // fontFamily: undefined,\n                color: '#263238'\n            },\n        },\n        series: [\n            {\n                type: 'area',\n                name: \"NAV History\",\n                data: props.data,\n            }\n        ]\n    };\n\n    return (\n        <Card className=\"card\" style={{margin: '0px'}}>\n            <Card.Title className=\"card-header-first\">NAV History</Card.Title>\n            <Card.Body style={{padding: '0px'}}>\n                <Row style={{height: '100%', width: '100%', margin: '0px'}}>\n                    <Col style={{height: '100%'}}>\n                        <div style={{padding: '0px', height: '100%'}}>\n                            <Chart\n                                options={chartOptions.options}\n                                series={chartOptions.series}\n                                type={'area'}\n                                width=\"100%\"\n                                height=\"100%\"\n                            />\n                        </div>\n                    </Col>\n                </Row>\n            </Card.Body>\n        </Card>\n    );\n};\nexport default PortfolioNav;","import Card from \"react-bootstrap/Card\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Chart from \"react-apexcharts\";\nimport axios from \"axios\";\nimport React, {useState, useEffect} from \"react\";\nimport Table from \"react-bootstrap/Table\";\n\n//CSS\nimport \"./PortfolioCashSummary.css\"\n\nconst PortfolioCashSummary = (props) => {\n    const cashHoldingData = props.data.map((data) => <tr key={data['id']}>\n        <td className={'table-row-name'}>{data['currency']}</td>\n        <td className={'table-row-value'}>{data['amount']}</td>\n    </tr>);\n    return (\n        <Card className=\"card\" style={{margin: '0px'}}>\n            <Card.Title className=\"card-header-first\">Available Cash</Card.Title>\n            <Card.Body>\n                <div style={{height: '100%'}}>\n                    <Table id={'cash-flow-table'}>\n                        <tbody style={{height: '100%', overflow: 'scroll'}}>\n                        {cashHoldingData}\n                        </tbody>\n                    </Table>\n                </div>\n            </Card.Body>\n        </Card>\n    );\n};\nexport default PortfolioCashSummary;","import Card from \"react-bootstrap/Card\";\nimport Table from \"react-bootstrap/Table\";\nimport React from \"react\";\n\n//CSS\nimport \"./PortfolioCashDetails.css\"\n\nconst PortfolioCashDetails = (props) => {\n\n    const cashData = props.data.map((data) => <tr key={data['id']}>\n        <td className={'table-row-name'}>{data['name']}</td>\n        <td className={'table-row-value'}>{data['value']}</td>\n    </tr>);\n     console.log(props.data)\n    return(\n        <Card className=\"card\" style={{margin: '0px'}}>\n            <Card.Title className=\"card-header-first\">Cash Details</Card.Title>\n            <Card.Body>\n                <div style={{height: '100%'}}>\n                    <Table id={'cash-flow-table'}>\n                        <tbody style={{height: '100%', overflow: 'scroll'}}>\n                        {cashData}\n                        </tbody>\n                    </Table>\n                </div>\n            </Card.Body>\n        </Card>\n    );\n};\nexport default PortfolioCashDetails;","import React from \"react\";\n\nconst DateContext = React.createContext({\n\n});\n\nexport default DateContext;","import PortfolioDetails from \"./PortfolioDetails\";\nimport PortfolioDescription from \"./PortfolioDescreption\";\nimport CashHoldings from \"../PortfolioHoldings/CashHolding\";\nimport PortfolioNav from \"./PortfolioNav\";\nimport PortfolioCashSummary from \"./PortfolioCashSummary\";\nimport PortfolioCashDetails from \"./PortfolioCashDetails\";\n\n// Bootstrap\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport {useContext, useEffect, useState} from \"react\";\nimport axios from \"axios\";\n\n// Contexts\nimport DateContext from \"../../../../context/date-context\";\n\nconst PortfolioDashBoardPage = (props) => {\n    const startDate = useContext(DateContext)['startDate'];\n    const endDate = useContext(DateContext)['endDate'];\n    const [navData, setNavData] = useState([]);\n    const [portData, setPortData] = useState();\n    const [cashHoldingData, setCashHoldingData] = useState([]);\n    const [cashTypeData, setCashTypeData] = useState([]);\n    const portfolioNavData = navData.map(data => data['total'])\n\n    useEffect(() => {\n        axios.get(props.server + 'portfolios/cash/total/by_type/' + props.portfolio, {\n            params: {\n                portfolio_code: props.portfolio\n            }\n        })\n            .then(response => setCashTypeData(response['data']))\n            .catch((error) => {\n                console.error('Error Message:', error);\n            });\n        axios.get(props.server + 'portfolios/get_portfolio_data/' + props.portfolio)\n            .then(response => response['data'].map(data => data))\n            .then(data => setPortData(<PortfolioDetails data={data}/>))\n            .catch((error) => {\n                console.error('Error Message:', error);\n            });\n        axios.get(props.server + 'portfolios/cash/holding/' + endDate, {\n            params: {\n                portfolio_code: props.portfolio\n            }\n        })\n            .then(response => setCashHoldingData(response['data']))\n            .catch((error) => {\n                console.error('Error Message:', error);\n            });\n        }, [props]\n    );\n    // useEffect(() => {\n\n        // axios.get(props.server + 'portfolios/nav/' + props.portfolio, {\n        //     params: {\n        //         start_date: startDate,\n        //         end_date: endDate\n        //     }\n        // })\n        //     .then(response => response['data'].map(data => data))\n        //     .then(data => setNavData(data))\n        //     .catch((error) => {\n        //         console.error('Error Message:', error);\n        //     });\n            // axios.get(props.server + 'portfolios/cash/total/by_type/' + props.portfolio)\n            //     .then(response => console.log(response['data']))\n            //     .catch((error) => {\n            //         console.error('Error Message:', error);\n            //     });\n\n    //     }, [props]\n    // );\n\n    return (\n        <Row style={{width: '100%', height: '100%', margin: '0px'}}>\n            <Col>\n                <Row style={{width: '100%', height: '100%', margin: '0px', padding: '0px'}}>\n                    <Col style={{height: '50%'}}>\n                        <Row style={{height: '100%', paddingBottom: '5px'}}>\n                            {portData}\n                        </Row>\n                    </Col>\n                    <Col style={{height: '50%'}}>\n                        <Row style={{height: '50%', paddingBottom: '5px'}}>\n                            <PortfolioCashSummary data={cashHoldingData}/>\n                        </Row>\n                         <Row style={{height: '50%', paddingBottom: '5px'}}>\n                              <PortfolioCashDetails data={cashTypeData}/>\n                         </Row>\n                    </Col>\n                </Row>\n            </Col>\n            <Col>\n                <Row style={{width: '100%', height: '100%', margin: '0px'}}>\n                    <Col style={{height: '50%'}}>\n                        <PortfolioNav data={portfolioNavData}/>\n                    </Col>\n                </Row>\n            </Col>\n        </Row>\n    );\n};\n\nexport default PortfolioDashBoardPage;","import Card from \"react-bootstrap/Card\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Container from \"react-bootstrap/Container\";\n\nconst PortfolioSettings = (props) => {\n    return (\n        <Container>\n            <Row>\n                <Card className=\"card\">\n                    <Card.Title className=\"card-header-first\">Settings</Card.Title>\n                    <p>set portfolio status - active or inactive</p>\n                    <p>is robot trading allowed on the portfolio ?</p>\n                </Card>\n            </Row>\n            <Row>\n                <Card className=\"card\">\n                    <Card.Title className=\"card-header-first\">Valuation</Card.Title>\n                    <p>frequency</p>\n                    <p>valuation day</p>\n                </Card>\n            </Row>\n            <Row>\n                <Card className=\"card\">\n                    <Card.Title className=\"card-header-first\">Trade Routing</Card.Title>\n                </Card>\n            </Row>\n        </Container>\n    );\n};\n\nexport default PortfolioSettings;","import PortfolioSettings from \"./PortfolioSettings\";\n\nconst PortfolioSettingsPage = (props) => {\n    return (\n        <PortfolioSettings/>\n    );\n};\n\nexport default PortfolioSettingsPage;","import Modal from \"react-bootstrap/Modal\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport axios from \"axios\";\nimport {useContext, useEffect, useRef, useState} from \"react\";\nimport DateContext from \"../../../../context/date-context\";\n\nconst PortfolioNewTransaction = (props) => {\n    const currentDate = useContext(DateContext)['currentDate'];\n    const [responseData, setResponseData] = useState([]);\n    const [marketValue, setMarketValue] = useState(0.0);\n    const [instrumentType, setInstrumentType] = useState('Commodity');\n    const quantityRef = useRef();\n    const dateRef = useRef();\n    const transactionTypeRef = useRef('purchase');\n    const priceRef = useRef();\n    const securityRef = useRef();\n    const instrumentTypeRef = useRef();\n    const sourceRef = useRef();\n\n    let instrumentOptions = <option></option>\n    if (responseData.length > 0){\n        instrumentOptions = responseData.map((data)=><option key={data['id']} value={data['id']}>{data['instrument_name']}</option>)\n    };\n    const handleClose = () => {\n        props.hide();\n    };\n    const calculateMarketValue = () => {\n        setMarketValue(quantityRef.current.value * priceRef.current.value);\n    };\n    const fetchInstrumentData = (source, instrumentType) => {\n        axios.get(props.server + 'instruments/get_instruments/', {\n            params: {\n                source: source,\n                instrument_type: instrumentType,\n            }\n        })\n            .then(response => setResponseData(response['data']))\n            .catch((error) => {\n                console.error('Error Message:', error);\n            });\n    };\n    const instrumentHandler = () => {\n        fetchInstrumentData(sourceRef.current.value, instrumentTypeRef.current.value);\n    };\n    console.log(responseData)\n    console.log(instrumentType)\n\n    const submitHandler = (event) => {\n        event.preventDefault();\n        axios.post(props.server + 'portfolios/new_transaction/', {\n            portfolio_code: props.portfolio,\n            quantity: quantityRef.current.value,\n            price: priceRef.current.value,\n            security: securityRef.current.value,\n            transaction_type: transactionTypeRef.current.value,\n            date: dateRef.current.value,\n        })\n            .then(function (response) {\n                if (response['data'] == 'New Portfolio is created!') {\n                    alert('New portfolio is created!')\n                    props.hide();\n                } else {\n                    alert(response['data']);\n                }\n            })\n            .catch((error) => {\n                console.error('Error Message:', error);\n            });\n    };\n    return (\n        <Modal show={props.show} onHide={handleClose}>\n            <Modal.Header closeButton>\n                <Modal.Title>New Transaction</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                <Form onSubmit={submitHandler} style={{width: '100%'}}>\n                    <Form.Group>\n                        <Form.Label>Portfolio Code</Form.Label>\n                        <Form.Control value={props.portfolio} type=\"text\" disabled/>\n                    </Form.Group>\n                    <Form.Group>\n                        <Form.Label>Quantity</Form.Label>\n                        <Form.Control ref={quantityRef} onChange={calculateMarketValue} type=\"number\" min={0.0} required/>\n                    </Form.Group>\n                    <Form.Group>\n                        <Form.Label>Price</Form.Label>\n                        <Form.Control ref={priceRef} onChange={calculateMarketValue} type=\"number\" min={0.0} required/>\n                    </Form.Group>\n                    <Form.Group>\n                        <Form.Label>Market Value</Form.Label>\n                        <Form.Control value={marketValue} type=\"text\" disabled/>\n                    </Form.Group>\n                    <Form.Group>\n                        <Form.Label>Trade Date</Form.Label>\n                        <Form.Control ref={dateRef} defaultValue={currentDate} type=\"date\" required/>\n                    </Form.Group>\n                    <Form.Group>\n                        <Form.Label>Source</Form.Label>\n                        <Form.Control ref={sourceRef} as={'select'}>\n                            <option value={'ffm_system'}>System</option>\n                            <option value={'oanda'}>Oanda</option>\n                            <option value={'MAP'}>Magyar Államkincstár</option>\n                        </Form.Control>\n                    </Form.Group>\n                    <Form.Group>\n                        <Form.Label>Instrument Type</Form.Label>\n                        <Form.Control ref={instrumentTypeRef} onChange={instrumentHandler} as={'select'}>\n                            <option value={'Commodity'}>Commodity</option>\n                            <option value={'Currency'}>Currency</option>\n                            <option value={'CFD'}>CFD</option>\n                            <option value={'Equity'}>Equity</option>\n                            <option value={'Fixed Income'}>Fixed Income</option>\n                            <option value={'Futures'}>Futures</option>\n                            <option value={'Mutual Fund'}>Mutual Fund</option>\n                        </Form.Control>\n                    </Form.Group>\n                    <Form.Group>\n                        <Form.Label>Instrument</Form.Label>\n                        <Form.Control ref={securityRef}  as=\"select\">\n                            {instrumentOptions}\n                        </Form.Control>\n                    </Form.Group>\n                    <Form.Group>\n                        <Form.Label>Transaction Type</Form.Label>\n                        <Form.Control ref={transactionTypeRef} as=\"select\">\n                            <option value={'purchase'}>Purchase</option>\n                            <option value={'sale'}>Sale</option>\n                            <option value={'dividend'}>Dividend</option>\n                        </Form.Control>\n                    </Form.Group>\n                </Form>\n            </Modal.Body>\n            <Modal.Footer>\n                <Button variant=\"secondary\" onClick={handleClose}>\n                    Close\n                </Button>\n                <Button variant=\"primary\" onClick={submitHandler}>\n                    Save\n                </Button>\n            </Modal.Footer>\n        </Modal>\n    );\n};\nexport default PortfolioNewTransaction;","import {useEffect, useState} from \"react\";\nimport axios from \"axios\";\nimport Form from \"react-bootstrap/Form\";\n\nconst GetRobotLastPrice = (props) => {\n\n    const [price, setPrice] = useState(0.0);\n    const [date, setDate] = useState();\n\n    useEffect(() => {\n            axios.get(props.server + 'robots/get_last_price/', {\n                params: {\n                    robot: props.robot,\n                    // start_date: props.start_date,\n                    // end_date: props.end_date,\n                }\n            })\n                .then(function(response){\n                    setPrice(response['data']['price']);\n                    setDate(response['data']['date']);\n                    props.getPrice(price);\n                })\n                .catch((error) => {\n                    console.error('Error Message:', error);\n                });\n        }, [props]\n    );\n\n    return (\n        <Form.Group>\n            <Form.Label>Price - {date}</Form.Label>\n            <h2>{Math.round((price) * 100) / 100}</h2>\n        </Form.Group>\n    );\n};\n\nexport default GetRobotLastPrice;\n","import Button from \"react-bootstrap/Button\";\nimport Modal from \"react-bootstrap/Modal\";\nimport Form from \"react-bootstrap/Form\";\nimport {useEffect, useState} from \"react\";\n\nimport OptionLoader from \"../../components/Options\";\nimport GetRobotPrice from \"../Robot/GetRobotPrice\";\n\nimport axios from \"axios\";\n\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\n\n\nconst PortfolioBuy = (props) => {\n    const [securityId, setSecurity] = useState('');\n    const [securityName, setSecurityName] = useState('');\n    const [unit, setUnit] = useState(0.0);\n    const [robotPrice, setRobotPrice] = useState(0.0);\n    const [robotQuantity, setRobotQuantity] = useState(0.0);\n\n    const instrumentParams = {\n        'env': props.env,\n    };\n\n    const handleClose = () => {\n        props.hide();\n    };\n\n    const securityHandler = (event) => {\n        const selectIndex = event.nativeEvent.target.selectedIndex;\n\n        setSecurity(event.target.value);\n        setSecurityName(event.nativeEvent.target[selectIndex].text);\n        document.getElementById('unitInput').value = 0;\n        setRobotQuantity(0);\n        setUnit(0);\n    };\n\n    const unitHandler = (event) => {\n        setRobotQuantity(unit/robotPrice);\n        setUnit(event.target.value);\n\n    };\n\n    const getRobotPrice = (price) => {\n        setRobotPrice(price);\n        setRobotQuantity(unit/robotPrice);\n    };\n\n    const submitHandler = (event) => {\n        event.preventDefault();\n        if (robotQuantity===0.0){\n            alert('Quantity can not be 0 !')\n        }else{\n            axios.post(props.server + 'portfolios/portfolio_trade/', {\n            portfolio: props.portfolio,\n            unit: robotQuantity,\n            price: robotPrice,\n            sec: securityName,\n            sec_type: 'Robot',\n            sec_id: securityId,\n        })\n                .then(response => alert(response['data']))\n                .catch((error) => {\n                    console.error('Error Message:', error);\n                });\n        props.hide();\n        };\n    };\n\n    return (\n        <>\n            <Modal show={props.show} onHide={handleClose}>\n                <Modal.Header closeButton>\n                    <Modal.Title>Buy Robot</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    <Form onSubmit={submitHandler} style={{width: '100%'}}>\n                        <Row>\n                            <Col>\n                                <Form.Group>\n                                    <Form.Label>Portfolio</Form.Label>\n                                    <Form.Control type=\"text\" placeholder={props.portfolio} value={props.portfolio}\n                                                  readOnly/>\n                                </Form.Group>\n                            </Col>\n                            <Col>\n                                <Form.Group>\n                                    <Form.Label>Available Cash (USD)</Form.Label>\n                                    <Form.Control type=\"text\" placeholder={'2000'} value={'2000'}\n                                                  readOnly/>\n                                </Form.Group>\n                            </Col>\n                        </Row>\n\n                        <Row>\n                            <Col>\n                                <Form.Group>\n                                    <Form.Label>Robot</Form.Label>\n                                    <Form.Control onChange={securityHandler} as=\"select\">\n                                        <option></option>\n                                        <OptionLoader\n                                            url={props.server + 'robots/get_robots_with_instrument/'}\n                                            params={instrumentParams}\n                                            code={1}\n                                            value={2}/>\n                                    </Form.Control>\n                                </Form.Group>\n                            </Col>\n                            <Col>\n                                <GetRobotPrice server={props.server} robot={securityName} getPrice={getRobotPrice}/>\n                            </Col>\n                        </Row>\n                        <Row>\n                            <Col>\n                                <Form.Group>\n                                    <Form.Label>Unit to invest</Form.Label>\n                                    <Form.Control onChange={unitHandler} type=\"number\" min={0.0}\n                                                  defaultValue={0} id={'unitInput'}/>\n                                </Form.Group>\n                            </Col>\n                            <Col>\n                                <Form.Label>Portfolio Quantity</Form.Label>\n                                <h2>{Math.round(robotQuantity*100)/100}</h2>\n                            </Col>\n                        </Row>\n                    </Form>\n                </Modal.Body>\n                <Modal.Footer>\n                    <Button variant=\"secondary\" onClick={handleClose}>\n                        Close\n                    </Button>\n                    <Button variant=\"primary\" onClick={submitHandler}>\n                        Save\n                    </Button>\n                </Modal.Footer>\n            </Modal>\n        </>\n    );\n};\n\nexport default PortfolioBuy;","import PortfolioNewTransaction from \"./PortfolioNewTransaction\";\n\nimport PortfolioBuy from \"../../PortfolioBuy\";\nimport {useEffect, useState} from \"react\";\nimport axios from \"axios\";\nimport Table from \"react-bootstrap/Table\";\nimport Button from \"react-bootstrap/Button\";\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Card from \"react-bootstrap/Card\";\n\nimport \"../../../PortfolioPage.css\"\nimport \"../../../MainCSS.css\"\n\n//CSS\nimport './PortfolioTransactions.css'\n\nconst PortfolioTransactions = (props) => {\n    const [portTransData, setPortTransData] = useState([]);\n    const [rowData, setRowData] = useState([]);\n    const [activeRow, setActiveRow] = useState();\n    const [showModal, setShowModal] = useState(false);\n    const [modalType, setModalType] = useState('new');\n    const [modal, setModal] = useState();\n\n    useEffect(() => {\n        axios.get(props.server + 'portfolios/get_portfolio_transactions/' + props.portfolio)\n            .then(response => response['data'].map((data) =>\n                <tr onClick={() => {\n                    setRowData({\n                        'id': data[0],\n                        'portfolio': data[1],\n                        'quantity': data[2],\n                        'price': data[3],\n                        'mv': data[4],\n                        'trade date': data[5],\n                        'instrument': data[6],\n                        'instrument type': data[7],\n                        'source': data[8],\n                        'type': data[9]\n                    });\n                }} key={data[0]}>\n                    <td className={'table-row'}>{data[1]}</td>\n                    <td className={'table-row'}>{data[2]}</td>\n                    <td className={'table-row'}>{data[3]}</td>\n                    <td className={'table-row'}>{data[4]}</td>\n                    <td className={'table-row'}>{data[5]}</td>\n                    <td className={'table-row'}>{data[6]}</td>\n                    <td className={'table-row'}>{data[7]}</td>\n                    <td className={'table-row'}>{data[8]}</td>\n                    <td className={'table-row'}>{data[9]}</td>\n                    <td className={'table-row'}>{data[10]}</td>\n                </tr>\n            ))\n            .then(data => setPortTransData(data))\n            .catch((error) => {\n                console.error('Error Message:', error);\n            });\n    }, [props]\n    );\n    return (\n        <>\n            <Card className=\"card\">\n                <Row style={{width: '100%', margin: '0px'}}>\n                    <Col sm={2}>\n                        <Card.Title className=\"card-header-first\">Transactions</Card.Title>\n                    </Col>\n                    <Col>\n                        <Button onClick={function () {\n                            if (rowData['id'] === '') {\n                                alert('Please select a transaction to edit!');\n                            } else {\n                                setShowModal(true);\n                                setModalType('edit')\n                            }\n                            ;\n                        }}>Edit Transaction</Button>\n                    </Col>\n                </Row>\n                <div style={{height: '100%', overflowY: 'scroll', overflowX: 'hidden'}}>\n                    <Table>\n                        <thead className=\"table-header-first\">\n                        <tr>\n                            <td className=\"table-header-row\">Portfolio</td>\n                            <td className=\"table-header-row\">Quantity</td>\n                            <td className=\"table-header-row\">Price</td>\n                            <td className=\"table-header-row\">Market Value</td>\n                            <td className=\"table-header-row\">Trade Date</td>\n                            <td className=\"table-header-row\">Instrument</td>\n                            <td className=\"table-header-row\">Instrument Type</td>\n                            <td className=\"table-header-row\">Source</td>\n                            <td className=\"table-header-row\">Currency</td>\n                            <td className=\"table-header-row\">Type</td>\n                        </tr>\n                        </thead>\n                        <tbody>\n                        {portTransData}\n                        </tbody>\n                    </Table>\n                </div>\n            </Card>\n        </>\n\n    );\n};\n\nexport default PortfolioTransactions;","import PortfolioTransactions from \"./PortfolioTransactions\";\n\nconst PortfolioTransactionsPage = (props) => {\n    return (\n        <>\n            <PortfolioTransactions portfolio={props.portfolio} server={props.server}/>\n        </>\n    );\n};\n\nexport default PortfolioTransactionsPage;","import Modal from \"react-bootstrap/Modal\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport axios from \"axios\";\nimport {useState} from \"react\";\n\nconst PortfolioDataImport = (props) => {\n    const [file, setFile] = useState();\n    const [array, setArray] = useState([]);\n    const [importStream, setImportStream] = useState('NAV');\n    const handleOnChange = (e) => {\n        setFile(e.target.files[0]);\n\n    };\n    const fileReader = new FileReader();\n    const handleClose = () => {\n        props.hide();\n    };\n    const csvFileToArray = string => {\n        const csvHeader = string.slice(0, string.indexOf(\"\\n\")).split(\",\");\n        const csvRows = string.slice(string.indexOf(\"\\n\") + 1).split(\"\\n\");\n\n        const array = csvRows.map(i => {\n            const values = i.split(\",\");\n            const obj = csvHeader.reduce((object, header, index) => {\n                object[header] = values[index];\n                return object;\n            }, {});\n            return obj;\n        });\n        setArray(array);\n    };\n    const importStreamHandler = (event) => {\n        setImportStream(event.target.value)\n    };\n    const previewImportStream = () => {\n        if (file) {\n            fileReader.onload = function (event) {\n                const csvOutput = event.target.result;\n                csvFileToArray(csvOutput);\n            };\n\n            fileReader.readAsText(file);\n        }\n    };\n    const submitHandler = (event) => {\n        event.preventDefault();\n\n        axios.post(props.server + 'portfolios/import/' + importStream, {\n            data: array,\n        })\n            .then(function (response) {\n                console.log(response)\n            })\n            .catch((error) => {\n                console.error('Error Message:', error);\n            });\n    };\n    const headerKeys = Object.keys(Object.assign({}, ...array));\n    return (\n        <>\n            <Modal show={props.show} onHide={handleClose} size=\"lg\">\n                <Modal.Header closeButton>\n                    <Modal.Title>Data Import</Modal.Title>\n                </Modal.Header>\n                <Modal.Body style={{height:'500px'}}>\n                    <Form onSubmit={submitHandler} style={{width: '100%'}}>\n                        <Row>\n                            <Col>\n                                <Form.Control onChange={importStreamHandler} as=\"select\">\n                                    <option value={'NAV'}>NAV</option>\n                                    <option value={'Holdings'}>Holdings</option>\n                                </Form.Control>\n                            </Col>\n                            <Col>\n                                <Form.Group>\n                                    <Form.Control onChange={handleOnChange} type={'file'} accept={'.csv'}\n                                                  placeholder=\"File\"\n                                                  required/>\n                                </Form.Group>\n                            </Col>\n                            <Col>\n                                <Button variant=\"secondary\" onClick={previewImportStream}>\n                                    Preview\n                                </Button>\n                            </Col>\n                        </Row>\n                    </Form>\n                    <div style={{overflowY: 'scroll', overflowX: 'hidden', height: '90%'}}>\n                        <table style={{width:'100%'}}>\n                        <thead>\n                        <tr key={\"header\"}>\n                            {headerKeys.map((key) => (\n                                <th>{key}</th>\n                            ))}\n                        </tr>\n                        </thead>\n                        <tbody style={{height: '100%', overflow: 'scroll'}}>\n                        {array.map((item) => (\n                            <tr key={item.id}>\n                                {Object.values(item).map((val) => (\n                                    <td>{val}</td>\n                                ))}\n                            </tr>\n                        ))}\n                        </tbody>\n                    </table>\n                    </div>\n                </Modal.Body>\n                <Modal.Footer>\n                    <Button variant=\"secondary\" onClick={handleClose}>\n                        Close\n                    </Button>\n                    <Button variant=\"primary\" onClick={submitHandler}>\n                        Save\n                    </Button>\n                </Modal.Footer>\n            </Modal>\n        </>\n    )\n};\nexport default PortfolioDataImport;","import Form from \"react-bootstrap/Form\";\nimport {useContext, useEffect, useRef, useState} from \"react\";\nimport axios from \"axios\";\nimport Button from \"react-bootstrap/Button\";\nimport Modal from \"react-bootstrap/Modal\";\nimport DateContext from \"../../../../context/date-context\";\n\nconst PortfolioNewCashFlowEntry = (props) => {\n    const currentDate = useContext(DateContext)['currentDate'];\n    const [value, setValue] = useState(0.0);\n    const [cashSecurities, setCashSecurities] = useState([{}]);\n    const dateRef = useRef();\n    const typeRef = useRef();\n    const securityRef = useRef();\n\n    const handleClose = () => {\n        props.hide();\n    };\n    let cashOptions = <option></option>\n\n    if (cashSecurities.length > 0){\n        cashOptions = cashSecurities.map((data)=><option key={data['id']} value={data['id']}>{data['instrument_name']}</option>)\n    };\n\n    useEffect(() => {\n        axios.get(props.server + 'instruments/get_instruments/', {\n            params: {\n                instrument_type: 'Cash',\n            }\n        })\n            .then(response => setCashSecurities(response['data']))\n            .catch((error) => {\n                console.error('Error Message:', error);\n            });\n    }, [])\n\n    const submitHandler = (event) => {\n        event.preventDefault();\n        axios.post(props.server + 'portfolios/new_transaction/', {\n            portfolio_code: props.portfolio,\n            quantity: value,\n            price: 1,\n            security: securityRef.current.value,\n            transaction_type: typeRef.current.value,\n            date: dateRef.current.value,\n        })\n                .then(response => alert(response['data']))\n                .catch((error) => {\n                    console.error('Error Message:', error);\n                });\n    };\n    return (\n        <Modal show={props.show} onHide={handleClose}>\n            <Modal.Header closeButton>\n                <Modal.Title>New Cash Transaction</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                <Form onSubmit={submitHandler} style={{width: '100%'}}>\n                    <Form.Group>\n                        <Form.Label>Portfolio</Form.Label>\n                        <Form.Control type=\"text\" placeholder={props.portfolio} value={props.portfolio} readOnly/>\n                    </Form.Group>\n                    <Form.Group>\n                        <Form.Label>Cash Flow</Form.Label>\n                        <Form.Control onChange={(e)=>setValue(e.target.value)} type=\"number\" placeholder=\"Value\"/>\n                    </Form.Group>\n                    <Form.Group>\n                        <Form.Label>Trade Date</Form.Label>\n                        <Form.Control ref={dateRef} defaultValue={currentDate} type=\"date\" required/>\n                    </Form.Group>\n                    <Form.Group>\n                        <Form.Label>Cash</Form.Label>\n                        <Form.Control ref={securityRef} as=\"select\">\n                            {cashOptions}\n                        </Form.Control>\n                    </Form.Group>\n                    <Form.Group>\n                        <Form.Label>Type</Form.Label>\n                        <Form.Control ref={typeRef} as=\"select\">\n                                <option value={'cash deposit'}>Cash Deposit</option>\n                                <option value={'cash withdrawal'}>Cash Withdrawal</option>\n                                <option value={'income'}>Income</option>\n                                <option value={'dividend'}>Dividend</option>\n                                <option value={'fee'}>Fee</option>\n                                <option value={'trading cost'}>Trading Cost</option>\n                        </Form.Control>\n                    </Form.Group>\n                </Form>\n            </Modal.Body>\n            <Modal.Footer>\n                <Button variant=\"secondary\" onClick={handleClose}>\n                    Close\n                </Button>\n                <Button variant=\"primary\" onClick={submitHandler}>\n                    Save\n                </Button>\n            </Modal.Footer>\n        </Modal>\n    );\n};\n\nexport default PortfolioNewCashFlowEntry;","import {useContext, useEffect, useRef, useState} from \"react\";\nimport {Route, Switch, Link} from \"react-router-dom\";\n\nimport axios from \"axios\";\n\nimport NewPortfolioForm from \"./PortfolioPage/NewPortfolioForm\";\n\n// Sidebar\nimport { ProSidebar, Menu, MenuItem, SubMenu } from 'react-pro-sidebar';\nimport 'react-pro-sidebar/dist/css/styles.css';\n\n// Calculations\nimport PositionCalculation from \"./PortfolioPage/Calculations/PositionCalculation\";\nimport CashHoldingCalculation from \"./PortfolioPage/Calculations/CashHoldingCalc\";\n\n// Bootstrap\nimport Col from 'react-bootstrap/Col';\nimport Container from 'react-bootstrap/Container'\nimport Button from \"react-bootstrap/Button\";\nimport Form from \"react-bootstrap/Form\";\nimport Row from 'react-bootstrap/Row';\nimport OptionLoader from \"../components/Options\";\n\n// CSS\nimport \"./PortfolioPage.css\"\n\n// Contexts\nimport RobotContext from \"../context/robot-context\";\nimport NewBrokerAccount from \"../components/NewBrokerAccount\";\nimport RiskPage from \"./RiskPage\";\nimport ServerContext from \"../context/server-context\";\nimport EnvContext from \"../context/env-context\";\nimport PortfolioContext from \"../context/portfolio-context\";\n\n\n// SubPages\nimport PortfolioRiskPage from \"./PortfolioPage/SubPages/PortfolioRisk/PortfolioRiskPage\";\nimport PortfolioHoldingsPage from \"./PortfolioPage/SubPages/PortfolioHoldings/PortfolioHoldingsPage\";\nimport PortfolioDashBoardPage from \"./PortfolioPage/SubPages/PortfolioDashboard/PortfolioDashBoardPage\";\nimport PortfolioSettingsPage from \"./PortfolioPage/SubPages/PortfolioSettings/PortfolioSettingsPage\";\nimport PortfolioTransactionsPage from \"./PortfolioPage/SubPages/PortfolioTransactions/PortfolioTransactionsPage\";\nimport PortfolioDataImport from \"./PortfolioPage/SubPages/PortfolioImport/PortfolioDataImport\";\nimport PortfolioNewCashFlowEntry from \"./PortfolioPage/SubPages/PortfolioTransactions/PortfolioNewCashFlow\";\nimport PortfolioBuy from \"./PortfolioPage/PortfolioBuy\";\nimport PortfolioNewTransaction from \"./PortfolioPage/SubPages/PortfolioTransactions/PortfolioNewTransaction\";\n\nconst PortfolioPage = (props) => {\n    // Date variables\n    const defaultRobots = useContext(RobotContext)['robots'];\n    const server = useContext(ServerContext)['server'];\n    const env = useContext(EnvContext)['environment'];\n    const portfolios = useContext(PortfolioContext)['portfolioData'];\n    const [portfolio, setPortfolio] = useState(portfolios[0]['portfolio_code']);\n    const [showNewTransactionModal, setShowNewTransactionModal] = useState(false);\n    const [showNewPortCashFlow, setNewPortCashFlow] = useState(false);\n    const [showNewRobotTrade, setNewRobotTrade] = useState(false);\n    const [showCashCalc, setCashCalc] = useState(false);\n    const [showNewPortfolio, setShowNewPortfolio] = useState(false);\n    const [showImportModal, setShowImportModal] = useState(false);\n    const [showPosCalc, setPosCalc] = useState(false);\n    const portfolioRef = useRef();\n    const portfolioOptions = portfolios.map((record) =>\n        <option key={record['id']} value={record['portfolio_code']}>{record['portfolio_name']}</option>)\n\n    const portSelect = (port) => {\n        setPortfolio(port);\n    };\n\n\n    const hideNewPortfolio = () => {\n        setShowNewPortfolio(false);\n    };\n\n    const hideNewRobotTrade = () => {\n        setNewRobotTrade(false);\n    };\n\n    const hideImportModal = () => {\n        setShowImportModal(false);\n    };\n\n    const hideNewPortCashFlow = () => {\n        setNewPortCashFlow(false);\n    };\n\n    const showPosCalcForm = () => {\n        setPosCalc(true);\n    };\n    const hidePosCalcForm = () => {\n        setPosCalc(false);\n    };\n\n    const showCashCalcForm = () => {\n        setCashCalc(true);\n    };\n    const hideCashCalcForm = () => {\n        setCashCalc(false);\n    };\n    return (\n        <Container style={{background: '#FBFAFA', width: \"100%\", height: window.innerHeight, padding: '0px'}} fluid>\n            <Row style={{height: '100%', margin:'0px'}}>\n                <ProSidebar>\n                    <MenuItem style={{padding: '5px'}}>\n                        <Form.Control ref={portfolioRef} onChange={(e) => setPortfolio(e.target.value)} as=\"select\">\n                            {portfolioOptions}\n                        </Form.Control>\n                    </MenuItem>\n                    <Menu iconShape=\"square\">\n                        <MenuItem onClick={()=>setShowNewPortfolio(true)}>New Portfolio</MenuItem>\n                        <MenuItem>Dashboard\n                            <Link to=\"/portfolio/dashboard\"/>\n                        </MenuItem>\n                        <SubMenu title=\"Calculations\">\n                            <MenuItem onClick={showCashCalcForm}>Cash Holdings</MenuItem>\n                            <MenuItem onClick={showPosCalcForm}>Positions</MenuItem>\n                            <MenuItem>Holdings</MenuItem>\n                            <MenuItem>Return</MenuItem>\n                        </SubMenu>\n                        <MenuItem>Holdings\n                            <Link to=\"/portfolio/holdings\"/>\n                        </MenuItem>\n                        <SubMenu title=\"Transactions\">\n                            <MenuItem>Transaction Editor\n                                <Link to=\"/portfolio/transactions\"/>\n                            </MenuItem>\n                            <MenuItem onClick={()=>setNewPortCashFlow(true)}>\n                                New Cash Transaction\n                            </MenuItem>\n                            <MenuItem onClick={()=>setShowNewTransactionModal(true)}>\n                                New Security Transaction\n                            </MenuItem>\n                            <MenuItem onClick={()=>setNewRobotTrade(true)}>\n                                New Robot Transaction\n                            </MenuItem>\n                        </SubMenu>\n                        <MenuItem>Risk\n                            <Link to=\"/portfolio/risk\"/>\n                        </MenuItem>\n                        <MenuItem>Return\n                            <Link to=\"/portfolio/return\"/>\n                        </MenuItem>\n                        <MenuItem>Settings\n                            <Link to=\"/portfolio/settings\"/>\n                        </MenuItem>\n                        <MenuItem onClick={()=>setShowImportModal(true)}>Import</MenuItem>\n                    </Menu>\n                    </ProSidebar>;\n                <Col style={{width: '50%'}}>\n                    <Row style={{\n                        padding: '15px',\n                        height: window.innerHeight,\n                        width: '100%',\n                        margin: '0px'\n                    }}>\n                        <Switch>\n                            <Route path=\"/portfolio/dashboard\">\n                                <PortfolioDashBoardPage portfolio={portfolio} server={server} default={portfolios[0]}/>\n                            </Route>\n                            <Route path=\"/portfolio/holdings\">\n                                <PortfolioHoldingsPage portfolio={portfolio} server={server}/>\n                            </Route>\n                            <Route path=\"/portfolio/transactions\">\n                                <PortfolioTransactionsPage portfolio={portfolio} server={server}/>\n                            </Route>\n                            <Route path=\"/portfolio/risk\">\n                                <PortfolioRiskPage portfolio={portfolio} server={server}/>\n                            </Route>\n                            <Route path=\"/portfolio/return\">\n\n                            </Route>\n                            <Route path=\"/portfolio/settings\">\n                                <PortfolioSettingsPage/>\n                            </Route>\n                        </Switch>\n                    </Row>\n                </Col>\n            </Row>\n\n            // Modals\n            <NewPortfolioForm show={showNewPortfolio} hide={hideNewPortfolio} server={server}/>\n            <PortfolioBuy show={showNewRobotTrade} hide={hideNewRobotTrade} portfolio={portfolio} server={server} env={env}/>\n            <PortfolioNewCashFlowEntry show={showNewPortCashFlow} hide={hideNewPortCashFlow} portfolio={portfolio} server={server}/>\n            <PositionCalculation show={showPosCalc} hide={hidePosCalcForm} server={server} portfolio={portfolio}/>\n            <CashHoldingCalculation show={showCashCalc} hide={hideCashCalcForm} server={server} portfolio={portfolio}/>\n            <PortfolioDataImport show={showImportModal} hide={hideImportModal} server={server}/>\n            <PortfolioNewTransaction show={showNewTransactionModal} hide={() => setShowNewTransactionModal(false)} portfolio={portfolio} server={server}/>\n        </Container>\n    );\n};\n\nexport default PortfolioPage;","import SliderWidget from \"../../components/SliderWidget\";\nimport Button from \"react-bootstrap/Button\";\nimport axios from \"axios\";\n\nimport PriceParagraph from \"./PriceParagraph\";\n\nconst TradeTableRow = (props) => {\n\n    // const newWebSocket = new WebSocket('ws://127.0.0.1:8000/trade/ws/')\n    // newWebSocket.send('XAG_USD')\n\n    // console.log(\"New trade\", newWebSocket)\n\n    const CloseTrade = () => {\n        axios.post(props.server + 'trade_page/close_trade/', {\n            broker_id: props.broker_id,\n            robot: props.robot,\n            trd_id: props.id,\n        })\n            .then(response => alert(response['data']))\n            .catch((error) => {\n                console.error('Error Message:', error);\n            });\n    };\n\n    return (\n        <tr>\n            <td style={{fontSize: 12, verticalAlign:\"middle\" }}>{props.id}</td>\n            <td style={{fontSize: 12, verticalAlign:\"middle\" }}>{props.broker_id}</td>\n            <td style={{fontSize: 12, verticalAlign:\"middle\"}}>{props.security}</td>\n            <td style={{fontSize: 12, verticalAlign:\"middle\"}}>{props.robot}</td>\n            <td style={{fontSize: 12, verticalAlign:\"middle\"}}>{props.quantity}</td>\n            <td style={{fontSize: 12, verticalAlign:\"middle\"}}>{props.price}</td>\n            {/*<td><PriceParagraph socketConnection={newWebSocket}/></td>*/}\n            <td><Button onClick={CloseTrade}>Close</Button></td>\n        </tr>\n    );\n};\n\nexport default TradeTableRow;","import {useContext, useEffect, useState} from \"react\";\nimport Card from \"react-bootstrap/Card\";\nimport Table from \"react-bootstrap/Table\";\nimport Row from \"react-bootstrap/Row\";\nimport TradeTableRow from \"./TradeTableRow\";\n\n\nconst TradeTableData = (props) => {\n\n    const [tradeData, setTradeData] = useState([])\n\n    // Fetching robot risk data from database\n    useEffect(() => {\n            fetch(props.server + 'trade_page/get_open_trades/' + props.env)\n                .then(response => response.json())\n                .then(data => setTradeData(data))\n                .catch((error) => {\n                    console.error('Error Message:', error);\n                });\n        }, [props]\n    );\n\n    const tradeDataRow = tradeData.map((record)=>\n        <TradeTableRow\n            server={props.server}\n            key={record['id']}\n            id={record['id']}\n            broker_id={record['broker_id']}\n            security={record['security']}\n            robot={record['robot']}\n            quantity={record['quantity']}\n            price={record['open_price']}/>)\n\n    return (\n        <Card style={{width: '100%'}}>\n            <Table>\n                <thead style={{fontSize: 12}}>\n                <tr>\n                    <th style={{verticalAlign: \"middle\"}}>Platform ID</th>\n                    <th style={{verticalAlign: \"middle\"}}>Broker ID</th>\n                    <th style={{verticalAlign: \"middle\"}}>Security</th>\n                    <th style={{verticalAlign: \"middle\"}}>Robot</th>\n                    <th style={{verticalAlign: \"middle\"}}>Quantity</th>\n                    <th style={{verticalAlign: \"middle\"}}>Price</th>\n                    <th style={{verticalAlign: \"middle\"}}></th>\n                </tr>\n                </thead>\n\n                <tbody style={{height: '100%', overflow: 'scroll'}}>\n                {tradeDataRow}\n                </tbody>\n            </Table>\n\n        </Card>\n    );\n};\n\nexport default TradeTableData;","import {useState} from \"react\";\nimport Card from \"react-bootstrap/Card\";\n\nconst TradeExecutor = (props) => {\n    const [robot, setRobot] = useState('');\n    const [side, setSide] = useState()\n    return (\n        <Card style={{}} className=\"card\">\n            <Card.Title className=\"card-header-first\">Robot Trade Execution</Card.Title>\n            <div style={{height: '200px', width:'200px'}}>\n\n            </div>\n        </Card>\n    );\n};\n\nexport default TradeExecutor","// React Bootstrap\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button'\n\nimport TradeTableData from \"./TradePage/TradeTableData\";\nimport PriceParagraph from \"./TradePage/PriceParagraph\";\nimport TradeExecutor from \"./TradePage/TradeExecutor\";\n\nimport {useContext, useState} from \"react\";\n\n// Contexts\nimport EnvContext from \"../context/env-context\";\nimport ServerContext from \"../context/server-context\";\nimport axios from \"axios\";\nimport Card from \"react-bootstrap/Card\";\nimport Table from \"react-bootstrap/Table\";\n\nconst TradePage = () => {\n    const server = useContext(ServerContext)['server'];\n    const env = useContext(EnvContext)['environment'];\n\n    // This part connects a websocket with the back end from the front end\n    // const newWebSocket = new WebSocket('http://127.0.0.1:8000/trade/price_stream/')\n    //\n    // console.log(newWebSocket)\n    //\n    // const testSocket = () => {\n    //     // This code sends data to the websocket form front end\n    //     newWebSocket.send(\"start\")\n    //     console.log('Streaming request is sent from front end to back end.')\n    // };\n    //\n    // const closeSocket = () => {\n    //     // This code closes the websocket connection with the back end\n    //     newWebSocket.send(\"stop\")\n    //     // newWebSocket.close()\n    //     console.log('Streaming is stopped')\n    // };\n\n    return (\n        <Container className={'border'}\n                   style={{background: '#FBFAFA', width: \"100%\", height: window.innerHeight, padding: '20px'}} fluid>\n            <Row style={{height: '400px'}}>\n                <Col style={{height: '100%'}}>\n                    <Card style={{height: '100%'}} className=\"card\">\n                        <Card.Title className=\"card-header-first\">Portfolio Trade</Card.Title>\n                        <div style={{height: '500px', overflowY: 'scroll', overflowX: 'hidden'}}>\n\n                        </div>\n                    </Card>\n                </Col>\n                <Col style={{height: '100%'}}>\n                    <Card style={{height: '100%'}} className=\"card\">\n                        <Card.Title className=\"card-header-first\">Robot Trade</Card.Title>\n                        <div style={{height: '500px', overflowY: 'scroll', overflowX: 'hidden'}}>\n                            <TradeExecutor/>\n                        </div>\n                    </Card>\n                </Col>\n            </Row>\n            <br/>\n            <Row style={{height: '500px'}}>\n                <TradeTableData env={env} server={server}/>\n            </Row>\n        </Container>\n    );\n};\n\nexport default TradePage;","import axios from \"axios\";\nimport Modal from \"react-bootstrap/Modal\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport {useRef} from \"react\";\n\nconst NewBroker = (props) => {\n    const brokerNameRef = useRef();\n    const brokerCodeRef = useRef();\n    const onHide = () => {\n        props.hide();\n    };\n    const submitHandler = () => {\n        axios.post(props.server + 'accounts/new_broker/', {\n            broker: brokerNameRef.current.value,\n            broker_code: brokerCodeRef.current.value,\n        })\n                .then(response => alert(response['data']))\n                .catch((error) => {\n                    console.error('Error Message:', error);\n                });\n        props.hide();\n    };\n    return(\n        <Modal show={props.show} onHide={onHide} animation={false}>\n            <Modal.Header closeButton>\n                <Modal.Title>New Account</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                <Form.Group>\n                    <Form.Label>Broker Name</Form.Label>\n                    <Form.Control ref={brokerNameRef} type=\"text\"/>\n                </Form.Group>\n                <Form.Group>\n                    <Form.Label>Broker Code</Form.Label>\n                    <Form.Control ref={brokerCodeRef} type=\"text\"/>\n                </Form.Group>\n            </Modal.Body>\n            <Modal.Footer>\n                <Button variant=\"secondary\" onClick={onHide}>\n                    Close\n                </Button>\n                <Button variant=\"primary\" onClick={submitHandler}>\n                    Save\n                </Button>\n            </Modal.Footer>\n        </Modal>\n    );\n};\nexport default NewBroker;","import Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport {Navbar} from \"react-bootstrap\";\nimport {useEffect, useState} from \"react\";\nimport axios from \"axios\";\nimport {store} from \"react-notifications-component\";\nimport {forEach} from \"react-bootstrap/ElementChildren\";\n\n// Icons\nimport { BsGraphDown, BsBell, BsCpu, BsExclamationTriangle} from 'react-icons/bs';\n\nconst Notifications = (props) => {\n    const startDate = new Date().toISOString().substr(0,10);\n    const [date, setDate] = useState(startDate)\n    const [messages, setMessages] = useState([]);\n    const tradeMessages = []\n    const processMessages = []\n\n    messages.forEach(function (item) {\n        if (item['msg_type'] === 'Process') {\n            processMessages.push(item)\n        }\n        if (item['msg_type'] === 'Trade') {\n            tradeMessages.push(item)\n        }\n    })\n\n    // if (tradeMessages.length > 0){\n    //     document.getElementById('notTrades').style.backgroundColor='red'\n    // }\n\n    // Fetch the data periodically\n    useEffect(() => {\n        const interval = setInterval(() => {\n            axios.get(props.server + 'home/system_messages/not_verified', {\n                params: {\n                    date: date,\n                }\n            })\n                .then(response => setMessages(response['data']))\n                .catch((error) => {\n                    console.error('Error Message:', error);\n                });\n        }, 1000*900);\n        return () => clearInterval(interval);\n    }, [])\n\n    const removeMsg = (msg) => {\n        axios.get(props.server + 'home/verify_sys_msg/' + msg)\n            .then(response => console.log(response['data']))\n            .catch((error) => {\n                console.error('Error Message:', error);\n            });\n    };\n\n    const procNotHandler = () => {\n        processMessages.forEach(function (item) {\n            store.addNotification({\n                title: item['msg_type'] + ' - ' + item['msg_sub_type'],\n                message: item['msg'],\n                type: \"success\",\n                insert: \"top\",\n                container: \"top-right\",\n                animationIn: [\"animate__animated\", \"animate__fadeIn\"],\n                animationOut: [\"animate__animated\", \"animate__fadeOut\"],\n                onRemoval: () => {\n                    removeMsg(item['id']);\n                }\n            })\n        })\n    };\n\n    const tradeNotHandler = () => {\n        tradeMessages.forEach(function (item) {\n            store.addNotification({\n                title: item['msg_type'] + ' - ' + item['msg_sub_type'],\n                message: item['msg'],\n                type: \"success\",\n                insert: \"top\",\n                container: \"top-right\",\n                animationIn: [\"animate__animated\", \"animate__fadeIn\"],\n                animationOut: [\"animate__animated\", \"animate__fadeOut\"],\n                onRemoval: () => {\n                    removeMsg(item['id']);\n\n                }\n            })\n        })\n    };\n\n    return (\n        <>\n            <Form style={{margin: '5px'}}>\n                <Button className=\"rounded-circle block-example border border-light\" id={'notError'} style={{background: '#49A75D', border:''}}>\n                    <BsExclamationTriangle style={{}}/>\n                </Button>\n            </Form>\n            <Form style={{margin: '5px'}}>\n                <Button className=\"rounded-circle block-example border border-light\" id={'notRisk'} style={{background: '#49A75D'}}>\n                    <BsGraphDown />\n                </Button>\n            </Form>\n            <Form onClick={procNotHandler} style={{margin: '5px'}}>\n                <Button className=\"rounded-circle block-example border border-light\" id={'notProcess'} style={{background: '#49A75D'}}>\n                    <BsCpu style={{}}/>\n                </Button>\n            </Form>\n            <Form style={{margin: '5px'}}>\n                <Button className=\"rounded-circle block-example border border-light\" onClick={tradeNotHandler} id={'notTrades'} style={{background: '#49A75D'}}>\n                    <BsBell style={{}}/>\n                </Button>\n            </Form>\n        </>\n    );\n};\n\nexport default Notifications","import Col from \"react-bootstrap/Col\";\nimport Form from \"react-bootstrap/Form\";\nimport Row from \"react-bootstrap/Row\";\nimport Container from \"react-bootstrap/Container\";\nimport DateContext from \"../../context/date-context\";\nimport {useContext} from \"react\";\n\nconst DateSelectorRobotPage = (props) => {\n    const startDate = useContext(DateContext)['startDate']\n    const endDate = useContext(DateContext)['endDate']\n    const setStartDate = useContext(DateContext)['saveStartDate']\n    const setEndDate = useContext(DateContext)['saveEndDate']\n    const startDateHandler = (event) => {\n        setStartDate(event.target.value);\n    };\n    const endDateHandler = (event) => {\n        if (event.target.value < startDate) {\n            alert('End date can not be less then start date!');\n        }else {\n            setEndDate(event.target.value);\n        };\n    };\n    return (\n        <Row style={{height: '60px', width: '100%', padding: '5px', margin: '0px'}}>\n            <Col style={{height: '100%', width: '50%'}}>\n                <Form.Group as={Row}>\n                    <Form.Label size=\"sm\" column sm={2}>\n                        From\n                    </Form.Label>\n                    <Col sm={10}>\n                        <Form.Control size=\"sm\" type=\"date\" onChange={startDateHandler} defaultValue={startDate}/>\n                    </Col>\n                </Form.Group>\n            </Col>\n            <Col style={{height: '100%', width: '50%'}}>\n                <Form.Group as={Row}>\n                    <Form.Label className=\"form-label-first\" column sm={2}>\n                        To\n                    </Form.Label>\n                    <Col sm={10}>\n                        <Form.Control size=\"sm\" type=\"date\" onChange={endDateHandler} defaultValue={endDate}/>\n                    </Col>\n                </Form.Group>\n            </Col>\n        </Row>\n    );\n};\n\nexport default DateSelectorRobotPage;","import { Navbar, Nav, Container } from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.css'\nimport Button from 'react-bootstrap/Button'\nimport Form from 'react-bootstrap/Form'\nimport FormControl from 'react-bootstrap/FormControl'\nimport Dropdown from \"react-bootstrap/Dropdown\";\nimport NavDropdown from 'react-bootstrap/NavDropdown';\nimport { Link } from 'react-router-dom'\n\nimport {useContext, useEffect, useState} from \"react\";\n\nimport NewBrokerAccount from \"./NewBrokerAccount\";\nimport NewBroker from \"../NavBar/NewBroker\";\nimport Notifications from \"./Notifications\";\nimport DateSelectorRobotPage from \"../Pages/Robot/DateSelectorRobotPage\";\nimport ServerContext from \"../context/server-context\";\nimport {store} from \"react-notifications-component\";\nimport axios from \"axios\";\nimport DateContext from \"../context/date-context\";\n\n\nconst Navigation = (props) => {\n    const startDate = useContext(DateContext)['startDate']\n    const endDate = useContext(DateContext)['endDate']\n    const setStartDate = useContext(DateContext)['saveStartDate']\n    const setEndDate = useContext(DateContext)['saveEndDate']\n    const [showNewAccount, setShowNewAccount] = useState(false);\n    const [brokerModalStatus, setBrokerModalStatus] = useState(false);\n    const startDateHandler = (event) => {\n        setStartDate(event.target.value);\n    };\n    const endDateHandler = (event) => {\n        if (event.target.value < startDate) {\n            alert('End date can not be less then start date!');\n        }else {\n            setEndDate(event.target.value);\n        };\n    };\n    const server = useContext(ServerContext)['server'];\n\n    const envChange = (envValue) => {\n        props.onEnvChange(envValue);\n    };\n    // New account handlers\n    const newAccountHandler = () => {\n        setShowNewAccount(true);\n    };\n    const hideNewAccount = () => {\n        setShowNewAccount(false);\n    };\n    return (\n            <Navbar bg=\"dark\" variant=\"dark\">\n                <Navbar.Brand href=\"react\">FFM SYSTEM</Navbar.Brand>\n                <Nav className=\"mr-auto\">\n                    <Nav.Link as={Link} to={'/home'}>Home</Nav.Link>\n                    <Nav.Link as={Link} to={'/portfolio/dashboard'}>Portfolio</Nav.Link>\n                    <Nav.Link as={Link} to={'/robot/dashboard'}>Robot</Nav.Link>\n                    <Nav.Link as={Link} to={'/risk'}>Risk</Nav.Link>\n                    <Nav.Link as={Link} to={'/instruments'}>Instrument</Nav.Link>\n                    <Nav.Link as={Link} to={'/trade'}>Trade</Nav.Link>\n                    <Nav.Link as={Link} to={'/calculations'}>Calculations</Nav.Link>\n                    <NavDropdown title=\"Broker Accounts\">\n                        <NavDropdown.Item onSelect={newAccountHandler}>New Account</NavDropdown.Item>\n                        <NavDropdown.Item onSelect={() => setBrokerModalStatus(true)}>New Broker</NavDropdown.Item>\n                        <NavDropdown.Item>Update</NavDropdown.Item>\n                        <NavDropdown.Item>Delete</NavDropdown.Item>\n                    </NavDropdown>\n                    <NavDropdown title=\"Period\">\n                        <Form.Label>From</Form.Label>\n                        <FormControl\n                            type=\"date\"\n                            className=\"me-2\"\n                            aria-label=\"Search\"\n                            defaultValue={startDate}\n                            onChange={startDateHandler}\n                        />\n                        <Form.Label>To</Form.Label>\n                        <FormControl\n                            type=\"date\"\n                            className=\"me-2\"\n                            aria-label=\"Search\"\n                            defaultValue={endDate}\n                            onChange={endDateHandler}\n                        />\n                    </NavDropdown>\n                </Nav>\n                {/*<DateSelectorRobotPage/>*/}\n                <Notifications server={server}/>\n                {/*<Form inline style={{margin: '5px'}}>*/}\n                {/*    <FormControl type=\"text\" placeholder=\"Search\" className=\"mr-sm-2\"/>*/}\n                {/*    <Button variant=\"outline-info\">Search</Button>*/}\n                {/*</Form>*/}\n                <Nav.Link href=\"#\" disabled>\n                    Environment\n                </Nav.Link>\n                <Dropdown onSelect={envChange} style={{margin: '5px'}}>\n                    <Dropdown.Toggle variant=\"success\" id=\"dropdown-basic\">\n                        {props.env}\n                    </Dropdown.Toggle>\n                    <Dropdown.Menu>\n                        <Dropdown.Item eventKey=\"live\">Live</Dropdown.Item>\n                        <Dropdown.Item eventKey=\"demo\">Demo</Dropdown.Item>\n                    </Dropdown.Menu>\n                </Dropdown>\n                <NewBrokerAccount show={showNewAccount} hide={hideNewAccount} server={server}/>\n                <NewBroker show={brokerModalStatus} hide={() => setBrokerModalStatus(false)} server={server}/>\n            </Navbar>\n    );\n};\n\nexport default Navigation;","import Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport {useEffect, useState, useRef} from \"react\";\nimport axios from \"axios\";\nimport OptionLoader from \"../../components/Options\";\nimport Modal from \"react-bootstrap/Modal\";\n\nconst NewRobotForm = (props) => {\n    const [robotName, setRobotName] = useState('');\n    const [strategy, setStrategy] = useState('');\n    const [broker, setBroker] = useState('oanda');\n    const [env, setEnv] = useState('live');\n    const [account, setAccount] = useState('');\n    const [instrument, setInstrument] = useState('');\n\n    console.log(account);\n    console.log(instrument)\n\n    const handleClose = () => {\n        props.hide();\n    };\n\n    const accountParams = {\n        'broker': broker,\n        'env': env,\n    };\n\n    const instrumentParams = {\n        'broker': broker,\n    };\n\n    const robotNameChangeHandler = (event) => {\n        setRobotName(event.target.value)\n    };\n\n    const robotStrategyHandler = (event) => {\n        setStrategy(event.target.value)\n    };\n\n    const envHandler = (event) => {\n        setEnv(event.target.value);\n    };\n\n    const instHandler = (event) => {\n        setInstrument(event.target.value);\n    };\n\n    const brokerHandler = (event) => {\n        setBroker(event.target.value);\n    };\n\n    const accountHandler = (event) => {\n        setAccount(event.target.value);\n    };\n\n    const submitHandler = (event) => {\n        event.preventDefault();\n\n        axios.post(props.server + 'robots/new_robot/', {\n            robot_name: robotName,\n            strategy: strategy,\n            security: instrument,\n            broker: broker,\n            env: env,\n            account: account,\n        })\n                .then(response => console.log(response))\n                .catch((error) => {\n                    console.error('Error Message:', error);\n                });\n        props.hide();\n    };\n\n    return (\n        <>\n            <Modal show={props.show} onHide={handleClose} animation={false}>\n                <Modal.Header closeButton>\n                    <Modal.Title>New Robot</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    <Form onSubmit={submitHandler} style={{width: '100%'}}>\n                        <Form.Group>\n                            <Form.Label>Robot Name</Form.Label>\n                            <Form.Control onChange={robotNameChangeHandler} type=\"text\" placeholder=\"Robot Name\"\n                                          maxLength={20}/>\n                        </Form.Group>\n                        <Form.Group>\n                            <Form.Label>Strategy</Form.Label>\n                            <Form.Control onChange={robotStrategyHandler} as=\"select\">\n                                <option value={'Initiative'}>Initiative</option>\n                                <option value={'Responsive'}>Responsive</option>\n                                <option value={'Correction'}>Correction</option>\n                            </Form.Control>\n                        </Form.Group>\n                        <Form.Group>\n                            <Form.Label>Broker</Form.Label>\n                            <Form.Control onChange={brokerHandler} as=\"select\">\n                                <option>oanda</option>\n                                <option>Fix</option>\n                            </Form.Control>\n                        </Form.Group>\n                        <Form.Group>\n                            <Form.Label>Environment</Form.Label>\n                            <Form.Control onChange={envHandler} as=\"select\">\n                                <option value={'live'}>Live</option>\n                                <option value={'demo'}>Demo</option>\n                            </Form.Control>\n                        </Form.Group>\n                        <Form.Group>\n                            <Form.Label>Instruments</Form.Label>\n                            <Form.Control onChange={instHandler} as=\"select\">\n                                <OptionLoader\n                                    url={props.server + 'instruments/get_instruments/'}\n                                    params={instrumentParams}\n                                    code={'instrument_name'}\n                                    value={'instrument_name'}\n                                />\n                            </Form.Control>\n                        </Form.Group>\n                        <Form.Group>\n                            <Form.Label>Account Number</Form.Label>\n                            <Form.Control onChange={accountHandler} as=\"select\">\n                                <OptionLoader\n                                    url={props.server + 'accounts/get_accounts_data/'}\n                                    params={accountParams}\n                                    code={'account_number'}\n                                    value={'account_number'}\n                                />\n                            </Form.Control>\n                        </Form.Group>\n                    </Form>\n                </Modal.Body>\n                <Modal.Footer>\n                    <Button variant=\"secondary\" onClick={handleClose}>\n                        Close\n                    </Button>\n                    <Button variant=\"primary\" onClick={submitHandler}>\n                        Save\n                    </Button>\n                </Modal.Footer>\n            </Modal>\n        </>\n    );\n};\n\nexport default NewRobotForm;","import {Card} from \"react-bootstrap\";\nimport DateSelectorRobotPage from \"../DateSelectorRobotPage\";\nimport {useContext, useState} from \"react\";\nimport axios from \"axios\";\n\nimport Button from \"react-bootstrap/Button\";\nimport Modal from \"react-bootstrap/Modal\";\nimport Col from 'react-bootstrap/Col'\nimport Row from 'react-bootstrap/Row';\nimport Form from \"react-bootstrap/Form\";\nimport DateContext from \"../../../context/date-context\";\n\nconst RobotBalanceCalculation = (props) => {\n    const startDate = useContext(DateContext)['startDate']\n    const endDate = useContext(DateContext)['endDate']\n    const [loadState, setLoadState] = useState(false);\n    const handleClose = () => {\n        props.hide();\n    };\n    const submitHandler = (event) => {\n        event.preventDefault();\n\n        setLoadState(true);\n\n        axios.post(props.server + 'robots/calculate_robot_balance/', {\n            process: 'Balance',\n            robot: props.robot,\n            start_date: startDate,\n            end_date: endDate,\n        })\n            .then(response => setLoadState(false))\n            .catch((error) => {\n                console.error('Error Message:', error);\n            });\n    };\n    return (\n        <Modal show={props.show} onHide={handleClose} animation={false}>\n            <Modal.Header closeButton>\n                <Modal.Title>Balance - {props.robot}</Modal.Title>\n            </Modal.Header>\n            <Modal.Body style={{width: '100%', height: '100px'}}>\n                <DateSelectorRobotPage>\n                    {/*<h2>Calculating ...</h2>*/}\n                </DateSelectorRobotPage>\n            </Modal.Body>\n            <Modal.Footer>\n                <Button variant=\"primary\" onClick={submitHandler}>\n                    Calculate\n                </Button>\n            </Modal.Footer>\n        </Modal>\n    );\n};\n\nexport default RobotBalanceCalculation;","import Card from \"react-bootstrap/Card\";\n\nimport \"../MainCSS.css\"\nimport Col from \"react-bootstrap/Col\";\nimport Row from \"react-bootstrap/Row\";\nimport Form from \"react-bootstrap/Form\";\nimport {useEffect, useState} from \"react\";\nimport axios from \"axios\";\n\nconst RobotNav = (props) => {\n    const [robotsData, setRobotsData] = useState(props.robots);\n\n    const robotSelectHandler = (event) => {\n        props.robotChange(event.target.value);\n    };\n\n    useEffect(() => {\n            axios.get(props.server + 'robots/get_robots/' + props.env)\n                .then(response => setRobotsData(response['data']))\n                .catch((error) => {\n                    console.error('Error Message:', error);\n                });\n        }, [props]\n    );\n\n    const robotsOptions = robotsData.map((record) =>\n        <option key={record['id']} value={record['name']}>{record['name']}</option>);\n\n    return (\n            <Form.Group as={Row} >\n                <Col sm={10}>\n                    <Form.Control onChange={robotSelectHandler} as=\"select\" style={{margin:'0px', width:'100%'}}>\n                        {robotsOptions}\n                    </Form.Control>\n                </Col>\n            </Form.Group>\n    );\n};\n\nexport default RobotNav;","import Modal from \"react-bootstrap/Modal\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport axios from \"axios\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport {useState} from \"react\";\nimport ExpandMoreIcon from \"@mui/icons-material/ExpandMore\";\nimport ChevronRightIcon from \"@mui/icons-material/ChevronRight\";\nimport TreeView from \"@mui/lab/TreeView\";\nimport TreeItem from \"@mui/lab/TreeItem\";\nimport DateContext from \"../../../context/date-context\";\nconst RobotPricingForm = (props) => {\n    const date = new Date();\n    const firstDay = new Date(date.getFullYear(), date.getMonth(), 1);\n    const [startDate, setStartDate] = useState(firstDay.toISOString().substr(0,10));\n    const [endDate, setEndDate] = useState(date.toISOString().substr(0,10));\n    const [robot, setRobot] = useState(props.robot);\n    const [response, setResponse] = useState([]);\n    const treeData = response.map(function (data, index) {\n        let treeNodes = data['response'].map(item => <TreeItem label={item['date'] + \" \" + item['msg']}></TreeItem>);\n        return <TreeItem nodeId={index.toString()} label={data['robot']}>\n            {treeNodes}\n        </TreeItem>\n    });\n    const handleClose = () => {\n        props.hide();\n        setRobot(props.robot)\n    };\n\n    const startDateHandler = (event) => {\n        setStartDate(event.target.value);\n    };\n\n    const endDateHandler = (event) => {\n        setEndDate(event.target.value);\n    };\n\n    const changeRobot = (event) => {\n        if (event.target.checked){\n            setRobot('ALL');\n        }else {\n            setRobot(props.robot);\n        };\n        console.log(event.target.checked)\n    };\n\n    const submitHandler = (event) => {\n        event.preventDefault();\n\n        axios.post(props.server + 'robots/pricing/', {\n            robot: robot,\n            start_date: startDate,\n            end_date: endDate,\n        })\n                .then(response => setResponse(response['data']))\n                .catch((error) => {\n                    console.error('Error Message:', error);\n                });\n        // props.hide();\n    };\n\n    return (\n        <Modal show={props.show} onHide={handleClose} animation={false} size={'xl'}>\n            <Modal.Header closeButton>\n                <Modal.Title>Pricing - {robot}</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                <Row style={{height:'100%'}}>\n                    <Col style={{height:'100%'}}>\n                        <Form onSubmit={submitHandler} style={{width: '100%', height:'100%'}}>\n                            <Row style={{height: '60px', width: '100%', padding: '5px', margin: '5px'}}>\n                                <Row style={{width: '100%', margin: '0px'}}>\n                                    <Form.Group style={{width: '100%', margin: '0px'}}>\n                                        <Form.Label className=\"form-label-first\" column sm={2}>\n                                            From\n                                        </Form.Label>\n                                        <Col sm={10}>\n                                            <Form.Control type=\"date\" onChange={startDateHandler}\n                                                          defaultValue={firstDay.toISOString().substr(0, 10)}/>\n                                        </Col>\n                                    </Form.Group>\n                                </Row>\n                                <Row style={{width: '100%', margin: '0px'}}>\n                                    <Form.Group style={{width: '100%'}}>\n                                        <Form.Label className=\"form-label-first\" column sm={2}>\n                                            To\n                                        </Form.Label>\n                                        <Col sm={10}>\n                                            <Form.Control type=\"date\" onChange={endDateHandler}\n                                                          defaultValue={date.toISOString().substr(0, 10)}/>\n                                        </Col>\n                                    </Form.Group>\n                                </Row>\n                            </Row>\n                        </Form>\n                    </Col>\n                    <Col style={{height:'100%'}}>\n                        <TreeView\n                    aria-label=\"file system navigator\"\n                    defaultCollapseIcon={<ExpandMoreIcon/>}\n                    defaultExpandIcon={<ChevronRightIcon/>}\n                    sx={{height: 200, flexGrow: 1, maxWidth: '100%', overflowY: 'auto'}}\n                >\n                    {treeData}\n                </TreeView>\n                    </Col>\n                </Row>\n            </Modal.Body>\n            <Modal.Footer>\n                <Row style={{width: '100%', margin: '0px'}}>\n                    <Col>\n                         <Form.Group className=\"mb-3\" controlId=\"formBasicCheckbox\">\n                        <Form.Check onClick={changeRobot} type=\"checkbox\" label=\"All Robots\"/>\n                    </Form.Group>\n                    </Col>\n                    <Col>\n                        <Form.Group style={{width: '100%'}}>\n                        <Col sm={10}>\n                            <Button variant=\"primary\" onClick={submitHandler} style={{width: '100%'}}>\n                                Calculate\n                            </Button>\n                        </Col>\n                    </Form.Group>\n                    </Col>\n                </Row>\n            </Modal.Footer>\n        </Modal>\n    );\n};\n\nexport default RobotPricingForm;","import Card from 'react-bootstrap/Card';\n\nconst CardWidgetMiddle = (props) => {\n    return (\n        <Card className=\"card\" style={{margin:'0px'}}>\n            <Card.Title style={{margin:'0px'}} className=\"card-header-first\">{props.title}</Card.Title>\n                {props.subTitle}\n            <Card.Body style={{display:'flex', justifyContent:'center', padding: '5px'}}>\n                {props.children}\n            </Card.Body>\n        </Card>\n    );\n};\nexport default CardWidgetMiddle;","import Card from \"react-bootstrap/Card\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Chart from \"react-apexcharts\";\n\nconst LineCharts = (props) => {\n    const chartOptions = {\n        options: {\n            chart: {\n                toolbar: false,\n                id: \"balance-cashflow\"\n            },\n            xaxis: {\n                categories: [],\n                labels: {show: false},\n                axisBorder: {\n                    show: false,\n                    color: '#78909C',\n                    height: 1,\n                    width: '100%',\n                    offsetX: 0,\n                    offsetY: 0\n                },\n                axisTicks: {\n                    show: false,\n                    borderType: 'solid',\n                    color: '#78909C',\n                    height: 6,\n                    offsetX: 0,\n                    offsetY: 0\n                },\n            },\n            yaxis: props.metaData.yaxis,\n            dataLabels: {\n                enabled: false\n            },\n        },\n\n        title: {\n            text: 'Cumulative Return',\n            align: 'left',\n            margin: 10,\n            offsetX: 0,\n            offsetY: 0,\n            floating: false,\n            style: {\n                fontSize: '14px',\n                fontWeight: 'bold',\n                // fontFamily: undefined,\n                color: '#263238'\n            },\n        },\n    };\n    return (\n        <Card className=\"card\" style={{margin: '0px'}}>\n            <Card.Title className=\"card-header-first\">{props.metaData.title}</Card.Title>\n            {props.subTitle}\n            <Card.Body style={{padding: '0px'}}>\n                <Row style={{height: '100%', width: '100%', margin: '0px'}}>\n                    <Col style={{height: '100%'}}>\n                        <div style={{padding: '0px', height: '100%'}}>\n                            <Chart\n                                options={chartOptions.options}\n                                series={props.metaData.series}\n                                width=\"100%\"\n                                height=\"100%\"\n                            />\n                        </div>\n                    </Col>\n                </Row>\n            </Card.Body>\n        </Card>\n    );\n};\nexport default LineCharts;","import Table from \"react-bootstrap/Table\";\nimport React, {useContext, useEffect, useState} from \"react\";\nimport Card from \"react-bootstrap/Card\";\nimport ReactHTMLTableToExcel from \"react-html-table-to-excel\";\nimport axios from \"axios\";\n\nconst RobotCashFlowTable = (props) => {\n    const [cashFlowData, setCashFlowData] = useState();\n    useEffect(() => {\n        axios.get(props.server + 'robots/robot_cash_flow/' + props.robot)\n            .then(response => response['data'].map(data => <tr key={data['id']}>\n                <td style={{fontSize: 12, verticalAlign: \"middle\"}}>{data['id']}</td>\n                <td style={{fontSize: 12, verticalAlign: \"middle\", color: data['cash_flow'] > 0 ? 'green':'red'}}>{data['cash_flow']}</td>\n                <td style={{fontSize: 12, verticalAlign: \"middle\"}}>{data['date']}</td>\n            </tr>)).then(data=>setCashFlowData(data))\n            .catch((error) => {\n                console.error('Error Message:', error);\n            });\n        }, [props]\n    );\n    return (\n        <Card className=\"card\" style={{margin: '2px', height: '100%'}}>\n                <Card.Title className=\"card-header-first\">Cash Flow</Card.Title>\n            <Card.Subtitle className=\"mb-2 text-muted\" style={{textAlign:'left', fontSize: 10, paddingLeft:'15px'}}>\n                <ReactHTMLTableToExcel\n                    id=\"test-table-xls-button\"\n                    className=\"download-table-xls-button\"\n                    table=\"cash-flow-table\"\n                    filename=\"cash_flow\"\n                    sheet=\"cash_flow\"\n                    buttonText=\"Export to Excel\"/>\n            </Card.Subtitle>\n                <div style={{overflowY: 'scroll', overflowX: 'hidden', height:'100%'}}>\n                    <Table id={'cash-flow-table'}>\n                        <thead style={{fontSize: 12}}>\n                        <tr>\n                            <th style={{verticalAlign: \"middle\"}}>ID</th>\n                            <th style={{verticalAlign: \"middle\"}}>Cash Flow</th>\n                            <th style={{verticalAlign: \"middle\"}}>Date</th>\n                        </tr>\n                        </thead>\n                        <tbody style={{height: '100%', overflow: 'scroll'}}>\n                        {cashFlowData}\n                        </tbody>\n                    </Table>\n                </div>\n            </Card>\n    );\n};\nexport default RobotCashFlowTable;","import Card from \"react-bootstrap/Card\";\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport ReactHTMLTableToExcel from \"react-html-table-to-excel\";\nimport Table from \"react-bootstrap/Table\";\nimport React, {useContext, useEffect, useState} from \"react\";\nimport axios from \"axios\";\nimport DateContext from \"../../../../context/date-context\";\n\nimport PieChartFull from \"../../../../components/Charts/PieChartFull\";\n\n//CSS\nimport './RobotStatistics.css'\n\nconst RobotStatistics = (props) => {\n    const [transactionData, setTransactionData] = useState([]);\n    const startDate = useContext(DateContext)['startDate'];\n    const endDate = useContext(DateContext)['endDate'];\n\n    let totalNumberOfTrades = transactionData.length;\n    let totalNumberOfShortTradesList = [];\n    let totalNumberOfLongTradesList = [];\n    let winningLongTrades = [];\n    let losingLongTrades = [];\n    let winningShortTrades = [];\n    let losingShortTrades = [];\n    let winningTradesList = [];\n    let losingTradesList = [];\n    let totalWinner = 0;\n    let totalLoser = 0;\n    let totalLongWinner = 0;\n    let totalShortWinner = 0;\n    let totalLongLoser = 0;\n    let totalShortLoser = 0;\n    let totalPnl = 0;\n\n    for (let i = 0; i < transactionData.length; i++) {\n        totalPnl+=transactionData[i]['pnl'];\n    };\n\n    // console.log(totalPnl)\n    // console.log(totalNumberOfShortTradesList)\n    // console.log(losingTradesList)\n    for (const val of transactionData) {\n        if (val['quantity'] < 0){\n            totalNumberOfShortTradesList.push(val['quantity']);\n            if (val['pnl'] < 0){\n                losingShortTrades.push(val['pnl']);\n            }else{\n                winningShortTrades.push(val['pnl']);\n            };\n        }else{\n            totalNumberOfLongTradesList.push(val['quantity']);\n            if (val['pnl'] < 0){\n                losingLongTrades.push(val['pnl']);\n            }else{\n                winningLongTrades.push(val['pnl']);\n            };\n        };\n        if (val['pnl'] < 0){\n            losingTradesList.push(val['pnl']);\n        }else{\n            winningTradesList.push(val['pnl']);\n        };\n    };\n\n    for (let i = 0; i < losingTradesList.length; i++) {\n        totalLoser+=losingTradesList[i];\n    };\n\n    for (let i = 0; i < winningTradesList.length; i++) {\n        totalWinner+=winningTradesList[i];\n    };\n    for (let i = 0; i < winningLongTrades.length; i++) {\n        totalLongWinner+=winningLongTrades[i];\n    };\n    for (let i = 0; i < winningShortTrades.length; i++) {\n        totalShortWinner+=winningShortTrades[i];\n    };\n    for (let i = 0; i < losingLongTrades.length; i++) {\n        totalLongLoser+=losingLongTrades[i];\n    };\n    for (let i = 0; i < losingShortTrades.length; i++) {\n        totalShortLoser+=losingShortTrades[i];\n    };\n    const avgLosingTrade = Math.round(((totalLoser / losingTradesList.length)) * 100) / 100\n    const avgWinningTrade = Math.round(((totalWinner / winningTradesList.length)) * 100) / 100\n    const winRatio = Math.round(((winningTradesList.length / transactionData.length)) * 10000) / 100\n    const lossRatio = Math.round(((losingTradesList.length / transactionData.length)) * 10000) / 100\n\n    useEffect(() => {\n            axios.get(props.server + 'robots/trades/', {\n                params: {\n                    robot: props.robot,\n                    start_date: startDate,\n                    end_date: endDate,\n                }\n            })\n                .then(data => setTransactionData(data['data']))\n                .catch((error) => {\n                    console.error('Error Message:', error);\n                });\n        }, [props]\n    );\n    return (\n        <Col style={{height:'100%'}}>\n            <Card className=\"card\" style={{margin: '0px', height: '100%'}}>\n                <Card.Title className=\"card-header-first\">Transaction Statistics</Card.Title>\n                <div style={{overflowY: 'scroll', overflowX: 'hidden', height: '100%'}}>\n                    <Table id={'cash-flow-table'}>\n                        <thead>\n                        <tr>\n                            <th className={'table-header'}></th>\n                            <th className={'table-header'}>All</th>\n                            <th className={'table-header'}>Long</th>\n                            <th className={'table-header'}>Short</th>\n                        </tr>\n                        </thead>\n                        <tbody style={{height: '100%', overflow: 'scroll'}}>\n                        <tr key={0}>\n                            <td className={'table-row-text'}>{'Profit'}</td>\n                            <td className={'table-row'} style={{\n                                color: totalPnl > 0 ? 'green' : 'red'\n                            }}>{Math.round(totalPnl * 100) / 100}</td>\n                            <td className={'table-row'} style={{\n                                color: totalLongWinner + totalLongLoser > 0 ? 'green' : 'red'\n                            }}>{Math.round((totalLongWinner + totalLongLoser) * 100) / 100}</td>\n                            <td className={'table-row'} style={{\n                                color: totalShortWinner + totalShortLoser > 0 ? 'green' : 'red'\n                            }}>{Math.round((totalShortWinner + totalShortLoser) * 100) / 100}</td>\n                        </tr>\n                        <tr key={2}>\n                            <td className={'table-row-text'}>{'Number Winning Trades'}</td>\n                            <td className={'table-row'}>{winningTradesList.length}</td>\n                            <td className={'table-row'}>{winningLongTrades.length}</td>\n                            <td className={'table-row'}>{winningShortTrades.length}</td>\n                        </tr>\n                        <tr key={3}>\n                            <td className={'table-row-text'}>{'Number Losing Trades'}</td>\n                            <td className={'table-row'}>{losingTradesList.length}</td>\n                            <td className={'table-row'}>{losingLongTrades.length}</td>\n                            <td className={'table-row'}>{losingShortTrades.length}</td>\n                        </tr>\n                        <tr key={4}>\n                            <td className={'table-row-text'}>{'Profitable P&L'}</td>\n                            <td className={'table-row'} style={{\n                                color: totalWinner > 0 ? 'green' : 'red'\n                            }}>{Math.round(totalWinner * 100) / 100}</td>\n                            <td className={'table-row'}>{Math.round(totalLongWinner * 100) / 100}</td>\n                            <td className={'table-row'}>{Math.round(totalShortWinner * 100) / 100}</td>\n                        </tr>\n                        <tr key={5}>\n                            <td className={'table-row-text'}>{'Losing P&L'}</td>\n                            <td className={'table-row'} style={{\n                                color: totalLoser > 0 ? 'green' : 'red'\n                            }}>{Math.round(totalLoser * 100) / 100}</td>\n                            <td className={'table-row'}>{Math.round(totalLongLoser * 100) / 100}</td>\n                            <td className={'table-row'}>{Math.round(totalShortLoser * 100) / 100}</td>\n                        </tr>\n                        <tr key={6}>\n                            <td className={'table-row-text'}>{'Profitable Trades %'}</td>\n                            <td className={'table-row'}>{winRatio}</td>\n                            <td className={'table-row'}>{Math.round(((winningLongTrades.length / transactionData.length)) * 10000) / 100}</td>\n                            <td className={'table-row'}>{Math.round(((winningShortTrades.length / transactionData.length)) * 10000) / 100}</td>\n                        </tr>\n                        <tr key={7}>\n                            <td className={'table-row-text'}>{'Losing Trades %'}</td>\n                            <td className={'table-row'}>{lossRatio}</td>\n                            <td className={'table-row'}>{Math.round(((losingLongTrades.length / transactionData.length)) * 10000) / 100}</td>\n                            <td className={'table-row'}>{Math.round(((losingShortTrades.length / transactionData.length)) * 10000) / 100}</td>\n                        </tr>\n                        <tr key={8}>\n                            <td className={'table-row-text'}>{'Avg Winning Trade'}</td>\n                            <td className={'table-row'}>{avgWinningTrade}</td>\n                            <td className={'table-row'}>{Math.round(((totalLongWinner / totalNumberOfLongTradesList.length)) * 100) / 100}</td>\n                            <td className={'table-row'}>{Math.round(((totalShortWinner / totalNumberOfShortTradesList.length)) * 100) / 100}</td>\n                        </tr>\n                        <tr key={9}>\n                            <td className={'table-row-text'}>{'Avg Losing Trade'}</td>\n                            <td className={'table-row'}>{avgLosingTrade}</td>\n                            <td className={'table-row'}>{Math.round(((totalLongLoser / totalNumberOfTrades)) * 100) / 100}</td>\n                            <td className={'table-row'}>{Math.round(((totalShortLoser / totalNumberOfTrades)) * 100) / 100}</td>\n                        </tr>\n                        <tr key={10}>\n                            <td className={'table-row-text'}>{'Profit Factor'}</td>\n                            <td className={'table-row'}>{Math.round((winRatio*avgWinningTrade)/(lossRatio*avgLosingTrade*-1)*100)/100}</td>\n                            <td className={'table-row'}>{'-'}</td>\n                            <td className={'table-row'}>{'-'}</td>\n                        </tr>\n                        <tr key={11}>\n                            <td className={'table-row-text'}>{'Payoff Ratio'}</td>\n                            <td className={'table-row'}>{Math.round((avgWinningTrade/(avgLosingTrade*-1))*100)/100}</td>\n                            <td className={'table-row'}>{'-'}</td>\n                            <td style={{fontSize: 12, verticalAlign: \"middle\"}}>{'-'}</td>\n                        </tr>\n                        </tbody>\n                    </Table>\n                </div>\n            </Card>\n        </Col>\n    );\n};\nexport default RobotStatistics;","import Col from \"react-bootstrap/Col\";\nimport CardWidgetMiddle from \"../../../../components/CardWidgetMiddle\";\nimport Row from \"react-bootstrap/Row\";\n\n//CSS\nimport './RobotGeneralInformation.css'\n\nconst RobotGeneralInformation = (props) => {\n    return (\n        <Row style={{height:'100px'}}>\n                <Col style={{height:'100%'}}>\n                    <CardWidgetMiddle title={'Strategy'}>\n                        <p className={'card-paragraph'}>{props.data['strategy']}</p>\n                    </CardWidgetMiddle>\n                </Col>\n                <Col style={{height:'100%'}}>\n                    <CardWidgetMiddle title={'Security'}>\n                        <p className={'card-paragraph'}>{props.data['security']}</p>\n                    </CardWidgetMiddle>\n                </Col>\n                <Col style={{height:'100%'}}>\n                    <CardWidgetMiddle title={'Inception Date'}>\n                        <p className={'card-paragraph'}>{props.data['inception_date']}</p>\n                    </CardWidgetMiddle>\n                </Col>\n                <Col style={{height:'100%'}}>\n                    <CardWidgetMiddle title={'Broker'}>\n                        <p className={'card-paragraph'}>{props.data['broker']}</p>\n                    </CardWidgetMiddle>\n                </Col>\n                <Col style={{height:'100%'}}>\n                    <CardWidgetMiddle title={'Account Number'}>\n                        <p className={'card-paragraph'}>{props.data['account_number']}</p>\n                    </CardWidgetMiddle>\n                </Col>\n                <Col style={{height:'100%'}}>\n                    <CardWidgetMiddle title={'Last Price'}>\n                        <p className={'card-paragraph'}>{props.data['price']}</p>\n                    </CardWidgetMiddle>\n                </Col>\n                <Col style={{height:'100%'}}>\n                    <CardWidgetMiddle title={'Last Pricing Date'}>\n                        <p className={'card-paragraph'} style={{color: props.data['date'] < props.data['end_date'] ? 'red': 'green'}}>{props.data['date']}</p>\n                    </CardWidgetMiddle>\n                </Col>\n            </Row>\n    )\n};\nexport default RobotGeneralInformation;","import Card from \"react-bootstrap/Card\";\n\nimport \"../../../MainCSS.css\"\nimport {useContext, useEffect, useState} from \"react\";\nimport axios from \"axios\";\nimport Chart from \"react-apexcharts\";\n\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport DateContext from \"../../../../context/date-context\";\n\nconst RobotDrawDown = (props) => {\n    const startDate = useContext(DateContext)['startDate'];\n    const endDate = useContext(DateContext)['endDate'];\n    const [chartData, setChartData] = useState([]);\n\n    useEffect(() => {\n            axios.get(props.server + 'robots/drawdown/', {\n                params: {\n                    robot: props.robot,\n                    start_date: startDate,\n                    end_date: endDate,\n                }\n            })\n                .then(response => response['data'].map(data=>data))\n                .then(data=>setChartData(data))\n                .catch((error) => {\n                    console.error('Error Message:', error);\n                });\n        }, [props]\n    );\n    const chartOptions = {\n        options: {\n            chart: {\n                toolbar: false,\n                id: \"basic-bar\"\n            },\n            xaxis: {\n                categories: [],\n                labels: {show: false}\n            },\n            yaxis: [\n                {\n                    labels: {\n                        formatter: function (val) {\n                            return val.toFixed(0);\n                        }\n                    }\n                }\n            ],\n            dataLabels: {\n                enabled: false\n            },\n\n        },\n        series: [\n            {\n                name: \"Drawdown\",\n                data: chartData,\n            }\n        ]\n    };\n    return (\n        <Card className=\"card\" style={{margin:'0px'}}>\n            <Card.Title className=\"card-header-first\">Drawdown</Card.Title>\n            <Card.Body style={{padding: '0px'}}>\n                <Row style={{height: '100%'}}>\n                    <Col style={{height: '100%'}}>\n                        <Chart\n                            options={chartOptions.options}\n                            series={chartOptions.series}\n                            type={'bar'}\n                            width=\"100%\"\n                            height=\"100%\"\n                        />\n                    </Col>\n                </Row>\n            </Card.Body>\n        </Card>\n    );\n};\n\nexport default RobotDrawDown;","import Card from \"react-bootstrap/Card\";\n\nimport \"../../../MainCSS.css\"\nimport Chart from \"react-apexcharts\";\nimport {useEffect, useState} from \"react\";\nimport axios from \"axios\";\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\n\n// Charts\nimport CumulativeReturnChart from \"../../Charts/CumulativeReturn\";\n\nconst RobotReturn = (props) => {\n    const [chartData, setChartData] = useState([]);\n\n    useEffect(() => {\n            axios.get(props.server + 'robots/cumulative_ret/', {\n                params: {\n                    robot: props.robot,\n                    start_date: props.start_date,\n                    end_date: props.end_date\n                }\n            })\n                .then(response => response['data'].map(data => data))\n                .then(data => setChartData(data))\n                .catch((error) => {\n                    console.error('Error Message:', error);\n                });\n        }, [props]\n    );\n    return (\n        <CumulativeReturnChart data={chartData}/>\n    );\n};\n\nexport default RobotReturn;","import CardWidgetMiddle from \"../../../../components/CardWidgetMiddle\";\nimport LineCharts from \"../../../../components/Charts/LineCharts\";\nimport RobotCashFlowTable from \"./RobotCashFlowTable\";\nimport RobotStatistics from \"./RobotStatistics\";\nimport RobotCashFlowChart from \"./RobotCashFlowChart\";\nimport RobotGeneralInformation from \"./RobotGeneralInformation\";\nimport RobotDrawDown from \"../RobotRisk/RobotDrawDown\";\nimport RobotReturn from \"../RobotReturn/RobotReturn\";\n\n// Bootstrap\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport Container from \"react-bootstrap/Container\";\n\nimport {useContext, useEffect, useState} from \"react\";\nimport axios from \"axios\";\nimport DateContext from \"../../../../context/date-context\";\nimport Card from \"react-bootstrap/Card\";\n\n//CSS\nimport './RobotDashBoardPage.css'\n\nconst RobotDashBoardPage = (props) => {\n    const startDate = useContext(DateContext)['startDate'];\n    const endDate = useContext(DateContext)['endDate'];\n    const [balanceData, setBalanceData] = useState([]);\n    const [pnlData, setPnlData] = useState([]);\n    const [cashFlowData, setCashFlowData] = useState([]);\n    const [dateData, setDateData] = useState([]);\n    const [robotData, setRobotData] = useState([props.default]);\n    const [priceData, setPriceData] = useState([]);\n    const totalProfit = Math.round(pnlData.reduce((a, b) => a + b, 0) * 100) / 100\n    const totalCashFlow = Math.round(cashFlowData.reduce((a, b) => a + b, 0) * 100) / 100\n    useEffect(() => {\n            axios.get(props.server + 'robots/get_robot/'+props.robot)\n                .then(response => response['data'].map(data=>data))\n                .then(data=>setRobotData(data))\n                .catch((error) => {\n                    console.error('Error Message:', error);\n                });\n        }, [props]\n    );\n    useEffect(() => {\n            axios.get(props.server + 'robots/get_last_price/', {\n                params: {\n                    robot: props.robot,\n                    start_date: props.start_date,\n                    end_date: props.end_date,\n                }\n            })\n                .then(function(response){\n                    const data = response['data'];\n                    setPriceData(data);\n                })\n                .catch((error) => {\n                    console.error('Error Message:', error);\n                });\n        }, [props]\n    );\n    useEffect(() => {\n            axios.get(props.server + 'robots/get_balance/', {\n                params: {\n                    robot: props.robot,\n                    start_date: startDate,\n                    end_date: endDate,\n                }\n            })\n                .then(function(response){\n                    const data = response['data'];\n                    const balance_list = data.map(data => data['close_balance']);\n                    const pnl_list = data.map(data => data['realized_pnl']);\n                    const date_list = data.map(data => data['date']);\n                    const cashFlowList = data.map(data => data['cash_flow']);\n                    setBalanceData(balance_list);\n                    setPnlData(pnl_list);\n                    setDateData(date_list);\n                    setCashFlowData(cashFlowList);\n                })\n                .catch((error) => {\n                    console.error('Error Message:', error);\n                });\n        }, [props]\n    );\n    const balanceChartDataSet = {\n        series: [\n            {\n                name: \"Balance\",\n                type: 'line',\n                data: balanceData,\n            },\n            {\n                name: \"Cash Flow\",\n                type: 'bar',\n                data: cashFlowData,\n            }\n        ],\n        yaxis: [\n            {\n                min: Math.min(...balanceData),\n                title: {\n                    text: 'Balance',\n                },\n                labels: {\n                    formatter: function (val) {\n                        return val.toFixed(2);\n                    }\n                },\n            },\n            {\n                opposite: true,\n                title: {\n                    text: 'Cash Flow',\n\n                },\n                labels: {\n                    formatter: function (val) {\n                        return val.toFixed(2);\n                    }\n                },\n            }\n        ],\n        title: 'Balance',\n        subTitle: Math.round(balanceData[balanceData.length - 1] * 100) / 100,\n        pnl: Math.round((balanceData[balanceData.length-1]-balanceData[0])*100)/100,\n        perReturn: Math.round(((balanceData[balanceData.length-1]-balanceData[0]-totalCashFlow)/balanceData[0])*10000)/100,\n    }\n\n    const balanceSubtitle =\n        <Card.Subtitle className=\"mb-2 text-muted\" style={{textAlign: 'left', fontSize: 40, paddingLeft: '15px'}}>\n            <div>\n                <div>\n                    {balanceChartDataSet.subTitle + ' USD '}\n                </div>\n            </div>\n        </Card.Subtitle>\n\n    const robotGeneralInformation = {\n        'strategy': robotData[0]['strategy'],\n        'security': robotData[0]['security'],\n        'inception_date': robotData[0]['inception_date'],\n        'broker': robotData[0]['broker'],\n        'account_number': robotData[0]['account_number'],\n        'price': Math.round(priceData['price'] * 100) / 100,\n        'date': priceData['date'],\n        'end_date': endDate,\n    }\n    return (\n        <Container fluid>\n            <RobotGeneralInformation data={robotGeneralInformation}/>\n            <Row style={{height:'80%', marginTop:'20px'}}>\n                <Col style={{height: '100%'}}>\n                    <Row style={{height:'50%'}}>\n                        <Col>\n                            <LineCharts metaData={balanceChartDataSet} subTitle={balanceSubtitle}/>\n                        </Col>\n                    </Row>\n                    <Row style={{height:'50%', marginTop:'20px'}}>\n                        <Col>\n                            <RobotCashFlowTable server={props.server} robot={props.robot}/>\n                        </Col>\n                    </Row>\n                </Col>\n                <Col style={{height:'100%'}}>\n                    <Row style={{height:'20%'}}>\n                        <Col>\n                            <CardWidgetMiddle title={'Profit'}>\n                                <p className={'card-paragraph-profit'} style={{color: totalProfit > 0 ? 'darkgreen' : 'darkred',}}>{totalProfit}</p>\n                            </CardWidgetMiddle>\n                        </Col>\n                        <Col>\n                            <CardWidgetMiddle title={'Deposit'}>\n                                {/*<p className={'card-paragraph'}>{profitSubtitle}</p>*/}\n                            </CardWidgetMiddle>\n                        </Col>\n                        <Col>\n                            <CardWidgetMiddle title={'Withdraw'}>\n                                {/*<p className={'card-paragraph'}>{profitSubtitle}</p>*/}\n                            </CardWidgetMiddle>\n                        </Col>\n                    </Row>\n                    <Row style={{height:'80%', marginTop:'20px'}}>\n                        <RobotStatistics server={props.server} robot={props.robot}/>\n                    </Row>\n                </Col>\n                <Col style={{height:'100%'}}>\n                    <Row style={{height:'50%'}}>\n                        <Col>\n                            <RobotReturn robot={props.robot} start_date={startDate} end_date={endDate}\n                                     server={props.server}/>\n                        </Col>\n                    </Row>\n                    <Row style={{height:'50%', marginTop:'20px'}}>\n                        <Col>\n                            <RobotDrawDown robot={props.robot} server={props.server}/>\n                        </Col>\n                    </Row>\n\n                </Col>\n            </Row>\n        </Container>\n    );\n};\n\nexport default RobotDashBoardPage;\n","import Card from \"react-bootstrap/Card\";\nimport Row from 'react-bootstrap/Row';\nimport Chart from \"react-apexcharts\";\nimport Col from 'react-bootstrap/Col';\n\n\nimport \"../../../MainCSS.css\"\n\nconst RobotTrades = (props) => {\n    // let losingTradeNumber = 0;\n    // let winningTradeNumber = 0;\n    // let losingTrades = [];\n    // let winningTrades = [];\n    // let totalWinner = 0.0;\n    // let totalLoser= 0.0;\n    //\n    // for (const val of props.data) {\n    //     if (val < 0) {\n    //         losingTradeNumber=+losingTradeNumber+1;\n    //         losingTrades.push(val);\n    //     } else if (val > 0){\n    //         winningTradeNumber=+winningTradeNumber+1;\n    //         winningTrades.push(val);\n    //     };\n    //\n    // };\n    //\n    // for (let i = 0; i < losingTrades.length; i++) {\n    //     totalLoser += losingTrades[i];\n    // };\n    //\n    // for (let i = 0; i < winningTrades.length; i++) {\n    //     totalWinner += winningTrades[i];\n    // };\n    //\n    // let winPerc = Math.round((winningTradeNumber) / (losingTradeNumber + winningTradeNumber)*100)/100;\n    // let lossPerc = Math.round(losingTradeNumber / (losingTradeNumber + winningTradeNumber)*100)/100;\n    // let avgWinner = Math.round(totalWinner/winningTrades.length*100)/100;\n    // let avgLoser = Math.round(totalLoser/losingTrades.length*100)/100;\n\n    const chartOptions = {\n        options: {\n            chart: {\n                toolbar: false,\n                id: \"basic-bar\"\n            },\n            colors: [function(value){\n                if (value['value'] < 0){\n                    return '#E32227'\n                }else {\n                    return '#007500'\n                }\n            }],\n            xaxis: {\n                categories: [],\n                labels: {show: false}\n            },\n            yaxis: [\n                {\n                    labels: {\n                        formatter: function (val) {\n                            return val.toFixed(0);\n                        }\n                    },\n                    title: {\n            text: 'Profit'\n          }\n                }\n            ],\n            dataLabels: {\n                enabled: false\n            },\n\n        },\n        series: [\n            {\n                name: \"series-1\",\n                data: props.data,\n            }\n        ]\n    };\n    return (\n        <Card className=\"card\" style={{margin: '2px', height: '100%'}}>\n            <Card.Title className=\"card-header-first\">Profit and Loss</Card.Title>\n            <Card.Body style={{padding: '0px'}}>\n                <Chart\n                    options={chartOptions.options}\n                    series={chartOptions.series}\n                    type={'bar'}\n                    width=\"100%\"\n                    height=\"100%\"/>\n\n            </Card.Body>\n        </Card>\n);\n};\n\nexport default RobotTrades;","import React from \"react\";\n\nconst RobotTransactionContext = React.createContext({\n\n});\nexport default RobotTransactionContext;","import Modal from \"react-bootstrap/Modal\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport axios from \"axios\";\nimport {useContext, useState, useRef} from \"react\";\nimport RobotTransactionContext from \"./RobotTransactionContext\";\n\nconst RobotTransactionUpdateModal = (props) => {\n    const saveModalStatus = useContext(RobotTransactionContext)['saveModalDataParameters'];\n    const quantityRef = useRef();\n    const statusRef = useRef();\n    const pnlRef = useRef();\n    const openPriceRef = useRef();\n    const closePriceRef = useRef();\n    const openTimeRef = useRef();\n    const closeTimeRef = useRef();\n    const handleClose = () => {\n        saveModalStatus({'data': [], 'status': false});\n    };\n    const submitHandler = (event) => {\n        event.preventDefault();\n        const quantity = quantityRef.current.value\n        const status = statusRef.current.value\n        const pnl = pnlRef.current.value\n        const openPrice = openPriceRef.current.value\n        const closePrice = closePriceRef.current.value\n        const openTime = openTimeRef.current.value\n        const closeTime = closeTimeRef.current.value\n        axios.post(props.server + 'trade_page/edit_transaction/', {\n            status: status,\n            quantity: quantity,\n            pnl: pnl,\n            open_price: openPrice,\n            close_price: closePrice,\n            open_time: openTime,\n            close_time: closeTime,\n            id: props.data[9],\n        })\n            .catch((error) => {\n                console.error('Error Message:', error);\n            });\n    };\n    return (\n        <Modal show={props.show} onHide={handleClose} animation={false}>\n            <Modal.Header closeButton>\n                <Modal.Title>Edit Transaction - Broker ID - {props.data[8]}</Modal.Title>\n            </Modal.Header>\n            <Modal.Body style={{width: '100%', height: '700px'}}>\n                <Form onSubmit={submitHandler} style={{width: '100%'}}>\n                    <Form.Group className=\"mb-3\" controlId=\"quantity_type\">\n                        <Form.Label>Status</Form.Label>\n                        <Form.Control ref={statusRef} defaultValue={props.data[1]}\n                                      as=\"select\">\n                            <option value={'OPEN'}>OPEN</option>\n                            <option value={'CLOSED'}>CLOSED</option>\n                        </Form.Control>\n                    </Form.Group>\n                    <Form.Group className=\"mb-3\">\n                        <Form.Label>Quantity</Form.Label>\n                        <Form.Control ref={quantityRef} type=\"number\" defaultValue={props.data[0]}\n                                      step={1}/>\n                    </Form.Group>\n                    <Form.Group className=\"mb-3\">\n                        <Form.Label>P&L</Form.Label>\n                        <Form.Control ref={pnlRef} type=\"number\" defaultValue={props.data[2]}\n                                      step={1}/>\n                    </Form.Group>\n                    <Form.Group className=\"mb-3\">\n                        <Form.Label>Open Price</Form.Label>\n                        <Form.Control ref={openPriceRef} type=\"number\" defaultValue={props.data[3]}\n                                      min={0.0}\n                                      step={0.01}/>\n                    </Form.Group>\n                    <Form.Group className=\"mb-3\">\n                        <Form.Label>Close Price</Form.Label>\n                        <Form.Control ref={closePriceRef} type=\"number\" defaultValue={props.data[4]}\n                                      min={0.0}\n                                      step={0.01}/>\n                    </Form.Group>\n                    <Form.Group className=\"mb-3\">\n                        <Form.Label>Open Time</Form.Label>\n                        <Form.Control ref={openTimeRef} type=\"date\" defaultValue={props.data[5]}/>\n                    </Form.Group>\n                    <Form.Group className=\"mb-3\">\n                        <Form.Label>Close Time</Form.Label>\n                        <Form.Control ref={closeTimeRef} type=\"date\" defaultValue={props.data[6]}/>\n                    </Form.Group>\n                </Form>\n            </Modal.Body>\n            <Modal.Footer>\n                <Button variant=\"primary\" onClick={submitHandler}>\n                    Save\n                </Button>\n            </Modal.Footer>\n        </Modal>\n    );\n};\nexport default RobotTransactionUpdateModal;","import Button from \"react-bootstrap/Button\";\nimport {useContext, useState} from \"react\";\nimport RobotTransactionUpdateModal from \"./RobotTransactionUpdateModal\";\nimport RobotTransactionContext from \"./RobotTransactionContext\";\n\nconst RobotTransactionTableRow = (props) => {\n    const saveModalData = useContext(RobotTransactionContext)['saveModalDataParameters'];\n    const getTransactionData = (event) => {\n        const rowData = event.target.parentElement.parentElement.children\n        const rowList = []\n        for (let i = 0; i < rowData.length; i++){\n            rowList.push(rowData[i].innerHTML)\n        }\n        saveModalData({'data': rowList, 'status': true});\n    };\n    return (\n        <>\n            <tr>\n                <td style={{fontSize: 14, verticalAlign: \"middle\"}}>{props.quantity}</td>\n                <td style={{fontSize: 14, verticalAlign: \"middle\"}}>{props.status}</td>\n                <td style={{fontSize: 14, verticalAlign: \"middle\", color: props.pnl < 0 ? '#E32227':'#007500'}}>{props.pnl}</td>\n                <td style={{fontSize: 14, verticalAlign: \"middle\"}}>{props.open_price}</td>\n                <td style={{fontSize: 14, verticalAlign: \"middle\"}}>{props.close_price}</td>\n                <td style={{fontSize: 14, verticalAlign: \"middle\"}}>{props.open_time}</td>\n                <td style={{fontSize: 14, verticalAlign: \"middle\"}}>{props.close_time}</td>\n                <td style={{fontSize: 14, verticalAlign: \"middle\"}}>{props.side}</td>\n                <td style={{fontSize: 14, verticalAlign: \"middle\"}}>{props.broker_id}</td>\n                <td style={{fontSize: 14, verticalAlign: \"middle\"}}>{props.id}</td>\n                <td><Button onClick={getTransactionData}>Update</Button></td>\n            </tr>\n        </>\n    );\n};\nexport default RobotTransactionTableRow","import Table from \"react-bootstrap/Table\";\nimport Card from \"react-bootstrap/Card\";\nimport Button from \"react-bootstrap/Button\";\n\nimport React from \"react\";\nimport RobotTransactionTableRow from \"./RobotTransactionTableRow\";\nimport RobotTransactionUpdateModal from \"./RobotTransactionUpdateModal\";\nimport RobotTransactionContext from \"./RobotTransactionContext\";\nimport {useState} from \"react\";\n\nimport ReactHTMLTableToExcel from 'react-html-table-to-excel';\n\nconst RobotTransactionsTable = (props) => {\n    const [modalDataParameters, setModalDataParameters] = useState({'data': [], status: false});\n    const transactionRows = props.data.map(data =>\n        <RobotTransactionTableRow\n            key={data['id']}\n            quantity={data['quantity']}\n            status={data['status']}\n            pnl={data['pnl']}\n            open_price={data['open_price']} close_price={data['close_price']}\n            open_time={data['open_time']}\n            close_time={data['close_time']}\n            side={data['side']}\n            broker_id={data['broker_id']}\n            id={data['id']}\n        />\n    );\n    console.log(modalDataParameters)\n    return (\n        <RobotTransactionContext.Provider value={{saveModalDataParameters: setModalDataParameters}}>\n            <Card className=\"card\" style={{margin: '2px', height: '100%'}}>\n                <Card.Title className=\"card-header-first\">Transactions</Card.Title>\n                <Card.Subtitle className=\"mb-2 text-muted\"\n                               style={{textAlign: 'left', fontSize: 10, paddingLeft: '15px'}}>\n                    <ReactHTMLTableToExcel\n                        id=\"test-table-xls-button\"\n                        className=\"download-table-xls-button\"\n                        table=\"transaction-table\"\n                        filename=\"transactions\"\n                        sheet=\"transactions\"\n                        buttonText=\"Export to Excel\"/>\n                </Card.Subtitle>\n                <div style={{overflowY: 'scroll', overflowX: 'hidden', height: '100%'}}>\n                    <Table id={'transaction-table'}>\n                        <thead style={{fontSize: 12}}>\n                        <tr>\n                            <th style={{verticalAlign: \"middle\"}}>Quantity</th>\n                            <th style={{verticalAlign: \"middle\"}}>Status</th>\n                            <th style={{verticalAlign: \"middle\"}}>P&L</th>\n                            <th style={{verticalAlign: \"middle\"}}>Open Price</th>\n                            <th style={{verticalAlign: \"middle\"}}>Close Price</th>\n                            <th style={{verticalAlign: \"middle\"}}>Open Time</th>\n                            <th style={{verticalAlign: \"middle\"}}>Close Time</th>\n                            <th style={{verticalAlign: \"middle\"}}>Side</th>\n                            <th style={{verticalAlign: \"middle\"}}>Broker ID</th>\n                            <th style={{verticalAlign: \"middle\"}}>ID</th>\n                            <th style={{verticalAlign: \"middle\"}}></th>\n                        </tr>\n                        </thead>\n                        <tbody style={{height: '100%', overflow: 'scroll'}}>\n                        {transactionRows}\n                        </tbody>\n                    </Table>\n                </div>\n                <RobotTransactionUpdateModal server={props.server} show={modalDataParameters['status']} data={modalDataParameters['data']}/>\n            </Card>\n        </RobotTransactionContext.Provider>\n    );\n};\nexport default RobotTransactionsTable;","import Card from \"react-bootstrap/Card\";\nimport Row from 'react-bootstrap/Row';\nimport Chart from \"react-apexcharts\";\nimport Col from 'react-bootstrap/Col';\n\nimport \"../../../MainCSS.css\"\n\nconst RobotTradesQuantiy = (props) => {\n    const chartOptions = {\n        options: {\n            chart: {\n                toolbar: false,\n                id: \"basic-bar\"\n            },\n            xaxis: {\n                categories: [],\n                labels: {show: false}\n            },\n            yaxis: [\n                {\n                    labels: {\n                        formatter: function (val) {\n                            return val.toFixed(0);\n                        }\n                    },\n                    title: {\n            text: 'Quantity'\n          }\n                }\n            ],\n            dataLabels: {\n                enabled: false\n            },\n        },\n        series: [\n            {\n                name: \"series-1\",\n                data: props.data,\n            }\n        ]\n    };\n    return (\n        <Card className=\"card\" style={{margin: '2px', height:'100%'}}>\n            <Card.Title className=\"card-header-first\">Quantity</Card.Title>\n            <Card.Body style={{padding: '0px'}}>\n                        <Chart\n                            options={chartOptions.options}\n                            series={chartOptions.series}\n                            type={'bar'}\n                            width=\"100%\"\n                            height=\"100%\"/>\n            </Card.Body>\n        </Card>\n);\n};\n\nexport default RobotTradesQuantiy;","import RobotTrades from \"./RobotTrades\";\nimport RobotTransactionsTable from \"./RobotTransactionsTable\";\nimport DateSelectorRobotPage from \"../../DateSelectorRobotPage\";\nimport RobotTradesStatistics from \"./RobotTradesStatistics\";\nimport RobotTradesQuantiy from \"./RobotTradesQuantity\";\n// Bootstrap\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col'\nimport Container from \"react-bootstrap/Container\";\nimport {useContext, useEffect, useState} from \"react\";\nimport axios from \"axios\";\nimport DateContext from \"../../../../context/date-context\";\n\nconst RobotTransactionsPage = (props) => {\n    const [transactionData, setTransactionData] = useState([]);\n    const pnlData = transactionData.map(data => data['pnl'])\n    const quantityData = transactionData.map(data => data['quantity'])\n    const startDate = useContext(DateContext)['startDate'];\n    const endDate = useContext(DateContext)['endDate'];\n\n    useEffect(() => {\n            axios.get(props.server + 'robots/trades/', {\n                params: {\n                    robot: props.robot,\n                    start_date: startDate,\n                    end_date: endDate,\n                }\n            })\n                .then(data => setTransactionData(data['data']))\n                .catch((error) => {\n                    console.error('Error Message:', error);\n                });\n        }, [props]\n    );\n\n    return (\n        <Container fluid>\n            <Row style={{width: '100%', height: '800px', margin: '0px', padding: '0px'}}>\n                <Col style={{margin: '0px', width: '50%', padding: '0px'}}>\n                    <Row style={{height: '100%', width: '100%', margin: '0px'}}>\n                        <Row style={{height: '50%', width: '100%', padding: '5px', margin: '0px'}}>\n                            <RobotTrades data={pnlData}/>\n                        </Row>\n                        <Row style={{height: '50%', width: '100%', padding: '5px', margin: '0px'}}>\n                            <RobotTradesQuantiy data={quantityData}/>\n                        </Row>\n                    </Row>\n                </Col>\n                <Col style={{margin: '0px', width: '50%', height: '100%', padding: '0px'}}>\n                    <Row style={{height: '100%', width: '100%', padding: '5px', margin: '0px'}}>\n                        <RobotTransactionsTable server={props.server} data={transactionData}/>\n                    </Row>\n                </Col>\n            </Row>\n            {/*<Col style={{margin: '0px', width: '100%', height: '100%', padding: '0px', background: 'green'}}>*/}\n            {/*    <RobotTradesStatistics data={pnlData}/>*/}\n            {/*</Col>*/}\n        </Container>\n    );\n};\n\nexport default RobotTransactionsPage;","import RobotDrawDown from \"./RobotDrawDown\";\nimport DateSelectorRobotPage from \"../../DateSelectorRobotPage\";\n// Bootstrap\nimport Container from \"react-bootstrap/Container\";\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport {useState} from \"react\";\n\nconst RobotRiskPage = (props) => {\n    return (\n        <Container fluid>\n            <Row style={{width: '100%', height: '100%', margin: '0px'}}>\n                <Row style={{width: '100%', height: '400px', margin: '0px'}}>\n                    <RobotDrawDown robot={props.robot} server={props.server}/>\n                </Row>\n            </Row>\n        </Container>\n    );\n};\n\nexport default RobotRiskPage;","import Card from \"react-bootstrap/Card\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Chart from \"react-apexcharts\";\nimport {useEffect, useState} from \"react\";\nimport axios from \"axios\";\n\nconst RobotDailyReturns = (props) => {\n    const [chartData, setChartData] = useState([]);\n    const dailyReturnList = chartData.map(data => Math.round(data['ret']*10000)/100)\n    useEffect(() => {\n            axios.get(props.server + 'robots/get_balance/', {\n                params: {\n                    robot: props.robot,\n                    start_date: props.start_date,\n                    end_date: props.end_date\n                }\n            })\n                .then(response => response['data'].map(data=>data))\n                .then(data=>setChartData(data))\n                .catch((error) => {\n                    console.error('Error Message:', error);\n                });\n        }, [props]\n    );\n    const chartOptions = {\n        options: {\n            chart: {\n                toolbar: false,\n                id: \"basic-bar\"\n            },\n            colors: [function(value){\n                if (value['value'] < 0){\n                    return '#E32227'\n                }else {\n                    return '#007500'\n                }\n            }],\n            annotations: {\n                yaxis: [\n                    {\n                        y: -5,\n                        borderColor: '#BF4737',\n                        label: {\n                            borderColor: '#BF4737',\n                            style: {\n                                color: '#fff',\n                                background: '#BF4737'\n                            },\n                            text: 'Daily Risk Limit'\n                        }\n                    }\n                ]\n            },\n            xaxis: {\n                categories: [],\n                labels: {show: false}\n            },\n            yaxis: [\n                {\n                    tickAmount: 10,\n                    labels: {\n                        formatter: function (val) {\n                            return val.toFixed(0);\n                        }\n                    }\n                }\n            ],\n            dataLabels: {\n                enabled: false,\n                textAnchor: 'middle',\n                style: {\n                    fontSize: '14px',\n                    fontFamily: 'Helvetica, Arial, sans-serif',\n                    fontWeight: 'bold',\n                    colors: undefined\n                },\n            },\n        },\n        series: [\n            {\n                name: \"Daily Retur\",\n                data: dailyReturnList,\n            }\n        ]\n    };\n\n    return (\n        <Card className=\"card\" style={{margin: '0px'}}>\n            <Card.Title className=\"card-header-first\">Daily Returns</Card.Title>\n            <Card.Body style={{padding: '0px'}}>\n                <Row style={{height: '100%', width: '100%', margin: '0px'}}>\n                    <Col style={{height: '100%'}}>\n                        <Chart\n                            options={chartOptions.options}\n                            series={chartOptions.series}\n                            type={'bar'}\n                            width=\"100%\"\n                            height=\"100%\"\n                        />\n                    </Col>\n                </Row>\n            </Card.Body>\n        </Card>\n    );\n};\n\nexport default RobotDailyReturns;","import Card from \"react-bootstrap/Card\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Chart from \"react-apexcharts\";\nimport {useEffect, useState} from \"react\";\nimport axios from \"axios\";\n\nconst RobotMonthlyReturns = (props) => {\n    const [monthlyChartData, setMonthlyChartData] = useState([]);\n    useEffect(() => {\n            axios.get(props.server + 'robots/monthly_returns_calc/', {\n                params: {\n                    robot: props.robot,\n                    year: '2022'\n                }\n            })\n                .then(response => setMonthlyChartData(response['data']))\n                .catch((error) => {\n                    console.error('Error Message:', error);\n                });\n        }, [props]\n    );\n    const chartOptions = {\n        options: {\n            chart: {\n                toolbar: false,\n                id: \"basic-bar\"\n            },\n            colors: [function(value){\n                if (value['value'] < 0){\n                    return '#E32227'\n                }else {\n                    return '#007500'\n                }\n            }],\n            annotations: {\n                yaxis: [\n                    {\n                        y: -10,\n                        borderColor: '#BF4737',\n                        label: {\n                            borderColor: '#BF4737',\n                            style: {\n                                color: '#fff',\n                                background: '#BF4737'\n                            },\n                            text: 'Monthly Risk Limit'\n                        }\n                    }\n                ]\n            },\n            xaxis: {\n                // categories: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\n                // labels: {show: true}\n            },\n            yaxis: [\n                {\n                    labels: {\n                        formatter: function (val) {\n                            return val.toFixed(0);\n                        }\n                    }\n                }\n            ],\n            dataLabels: {\n                enabled: false\n            },\n        },\n        series: [\n            {\n                name: \"Monthly Return\",\n                data: monthlyChartData,\n            }\n        ]\n    };\n    return (\n        <Card className=\"card\" style={{margin: '0px'}}>\n            <Card.Title className=\"card-header-first\">Monthly Returns</Card.Title>\n            <Card.Body style={{padding: '0px'}}>\n                <Row style={{height: '100%', width: '100%', margin: '0px'}}>\n                    <Col style={{height: '100%'}}>\n                        <Chart\n                            options={chartOptions.options}\n                            series={chartOptions.series}\n                            type={'bar'}\n                            width=\"100%\"\n                            height=\"100%\"\n                        />\n                    </Col>\n                </Row>\n            </Card.Body>\n        </Card>\n    );\n};\nexport default RobotMonthlyReturns;","import RobotReturn from \"./RobotReturn\";\nimport RobotDailyReturns from \"./RobotDailyReturns\";\nimport RobotMonthlyReturns from \"./RobotMonthlyReturns\";\n\n// Bootstrap\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Container from \"react-bootstrap/Container\";\nimport {useContext, useEffect, useState} from \"react\";\nimport DateContext from \"../../../../context/date-context\";\nimport axios from \"axios\";\n\nconst RobotReturnPage = (props) => {\n    const startDate = useContext(DateContext)['startDate'];\n    const endDate = useContext(DateContext)['endDate'];\n\n    return (\n        <Container fluid>\n            <Row style={{width: '100%', height: '100%', margin: '0px'}}>\n                <Col style={{width: '50%', height: '100%'}}>\n                    <Row style={{height: '60%', padding: '4px'}}>\n                        <RobotReturn robot={props.robot} start_date={startDate} end_date={endDate}\n                                     server={props.server}/>\n                    </Row>\n                    <Row style={{height: '40%', padding: '4px'}}>\n                        <RobotDailyReturns robot={props.robot} start_date={startDate} end_date={endDate}\n                                           server={props.server}/>\n                    </Row>\n                </Col>\n                <Col>\n                    <Row style={{height: '40%', padding: '4px'}}>\n                        <RobotMonthlyReturns robot={props.robot} start_date={startDate} end_date={endDate}\n                                           server={props.server}/>\n                    </Row>\n                </Col>\n            </Row>\n        </Container>\n    );\n};\n\nexport default RobotReturnPage;","import CardWidget from \"../../../../components/CardWidget\";\n\nimport Form from 'react-bootstrap/Form'\nimport Button from \"react-bootstrap/Button\";\nimport {useEffect, useState} from \"react\";\nimport axios from \"axios\";\n\nconst RobotRiskSettings = (props) => {\n    const [dailyRiskPerc, setDailyRiskPerc] = useState();\n    const [dailyTradeLimit, setDailyTradeLimit] = useState();\n    const [riskPerTrade, setRiskPerTrade] = useState();\n    const [quantityType, setQuantityType] = useState();\n    const [quantity, setQuantity] = useState();\n    const [sl, setSl] = useState();\n    const [winExp, setWinExp] = useState();\n    // Fetching robot risk data from database\n    useEffect(() => {\n            fetch(props.server + 'risk/get_risk/' + props.robot)\n                .then(response => response.json())\n                .then(function(data){\n                    setDailyRiskPerc(data['daily_risk_perc']);\n                    setDailyTradeLimit(data['daily_trade_limit']);\n                    setRiskPerTrade(data['risk_per_trade']);\n                    setQuantityType(data['quantity_type']);\n                    setQuantity(data['quantity']);\n                    setSl(data['sl']);\n                    setWinExp(data['win_exp']);\n                })\n                .catch((error) => {\n                    console.error('Error Message:', error);\n                });\n        }, [props]\n    );\n    const submitForm = (event) => {\n        event.preventDefault();\n        axios.post(props.server + 'risk/update_robot_risk/', {\n            robot: props.robot,\n            daily_risk: dailyRiskPerc,\n            nbm_trades: dailyTradeLimit,\n            risk_per_trade: riskPerTrade,\n            pyramiding_level: 1,\n            quantity_type: quantityType,\n            quantity: quantity,\n            sl: sl,\n            win_exp: winExp,\n        })\n            .then(response => alert('Risk is updated for ' + props.robot))\n            .catch((error) => {\n                console.error('Error Message:', error);\n            });\n    };\n    return (\n        <CardWidget title={\"Risk Settings\"}>\n            <Form>\n                <Form.Group className=\"mb-3\" controlId=\"daily_risk_perc\">\n                    <Form.Label>Daily Loss Limit</Form.Label>\n                    <Form.Control onChange={(e) => setDailyRiskPerc(e.target.value)} type=\"number\" value={dailyRiskPerc}\n                                  min={0.0} max={1}\n                                  step={0.01}/>\n                </Form.Group>\n                <Form.Group className=\"mb-3\" controlId=\"daily_trade_limit\">\n                    <Form.Label>Max Number of Trades per Day</Form.Label>\n                    <Form.Control onChange={(e) => setDailyTradeLimit(e.target.value)} type=\"number\" value={dailyTradeLimit} min={0.0}/>\n                </Form.Group>\n                <Form.Group className=\"mb-3\" controlId=\"risk_per_trade\">\n                    <Form.Label>Risk Exposure per Trade</Form.Label>\n                    <Form.Control onChange={(e) => setRiskPerTrade(e.target.value)} type=\"number\" value={riskPerTrade} min={0.0} step={0.005}/>\n                </Form.Group>\n                <Form.Group className=\"mb-3\" controlId=\"quantity_type\">\n                    <Form.Label>Quantity Type</Form.Label>\n                    <Form.Control onChange={(e) => setQuantityType(e.target.value)} value={quantityType} as=\"select\">\n                        <option value={'Stop Based'}>Stop Based</option>\n                        <option value={'Fix'}>Fix</option>\n                    </Form.Control>\n                </Form.Group>\n                <Form.Group className=\"mb-3\" controlId=\"quantity\">\n                    <Form.Label>Quantity</Form.Label>\n                    <Form.Control onChange={(e) => setQuantity(e.target.value)} type=\"number\" placeholder={quantity} min={0.0}/>\n                </Form.Group>\n                <Form.Group className=\"mb-3\" controlId=\"sl\">\n                    <Form.Label>Stop Loss</Form.Label>\n                    <Form.Control onChange={(e) => setSl(e.target.value)} type=\"number\" placeholder={sl} min={0.0}/>\n                </Form.Group>\n                <Form.Group className=\"mb-3\" controlId=\"win_exp\">\n                    <Form.Label>Winning Exposure per Trade</Form.Label>\n                    <Form.Control onChange={(e) => setWinExp(e.target.value)} type=\"number\" placeholder={winExp} min={0.0}/>\n                </Form.Group>\n                <Button onClick={submitForm} variant=\"primary\" type=\"submit\">\n                    Save\n                </Button>\n            </Form>\n        </CardWidget>\n    );\n};\n\nexport default RobotRiskSettings;\n","import CardWidget from \"../../../../components/CardWidget\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport axios from \"axios\";\nimport {useState} from \"react\";\n\nconst RobotSettings = (props) => {\n    const [status, setStatus] = useState();\n    const submitForm = (event) => {\n        event.preventDefault();\n        axios.post(props.server + 'robots/update_status/', {\n            robot: props.robot,\n            status: status,\n        })\n            .then(response => alert('Risk is updated for ' + props.robot))\n            .catch((error) => {\n                console.error('Error Message:', error);\n            });\n    };\n    return (\n        <CardWidget title={'Settings'} style={{margin:'5px'}}>\n            <Form>\n                <Form.Group className=\"mb-3\" controlId=\"quantity_type\">\n                    <Form.Label>Status</Form.Label>\n                    <Form.Control onChange={(e) => setStatus(e.target.value)} defaultValue={'active'} as=\"select\">\n                        <option value={'active'}>Active</option>\n                        <option value={'inactive'}>Inactive</option>\n                    </Form.Control>\n                </Form.Group>\n                <Button onClick={submitForm} variant=\"primary\" type=\"submit\">\n                    Save\n                </Button>\n            </Form>\n        </CardWidget>\n    );\n};\n\nexport default RobotSettings","import RobotRiskSettings from \"./RobotRiskSettings\";\nimport RobotSettings from \"./RobotSettings\";\n\n// Bootstrap\nimport Container from \"react-bootstrap/Container\";\nimport Table from \"react-bootstrap/Table\";\nimport Button from \"react-bootstrap/Button\";\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport {useEffect, useState} from \"react\";\n\nconst RobotSettingsPage = (props) => {\n    return (\n        <Row style={{height: '100%', width: '100%', margin:'0px'}}>\n            <Col>\n                <RobotRiskSettings robot={props.robot} server={props.server}/>\n            </Col>\n            <Col>\n                <RobotSettings robot={props.robot} server={props.server}/>\n            </Col>\n        </Row>\n    );\n};\n\nexport default RobotSettingsPage;","import {useState, useEffect, useContext} from \"react\";\n\nimport NewRobotForm from \"./Robot/NewRobotForm\";\nimport RobotTable from \"./Robot/RobotTable\";\nimport RobotBalanceCalculation from \"./Robot/Calculations/RobotBalanceCalculation\";\n\nimport RobotCashFlow from \"./Robot/RobotCashFlow\";\nimport RobotNav from \"./Robot/RobotNav\";\n\nimport RobotProcesses from \"./Robot/RobotProcesses\";\n\n// Forms\nimport RobotPricingForm from \"./Robot/Calculations/RobotPricingForm\";\n\nimport axios from \"axios\";\n\n// Sidebar\nimport { ProSidebar, Menu, MenuItem, SubMenu } from 'react-pro-sidebar';\nimport 'react-pro-sidebar/dist/css/styles.css';\n\n// Subpages\nimport RobotDashBoardPage from \"./Robot/SubPages/RobotDashboard/RobotDashBoardPage\";\nimport RobotTransactionsPage from \"./Robot/SubPages/RobotTransactions/RobotTransactionsPage\";\nimport RobotRiskPage from \"./Robot/SubPages/RobotRisk/RobotRiskPage\";\nimport RobotReturnPage from \"./Robot/SubPages/RobotReturn/RobotReturnPage\";\nimport RobotSettingsPage from \"./Robot/SubPages/RobotSettings/RobotSettingsPage\";\n\n// Bootstrap\nimport Container from \"react-bootstrap/Container\";\nimport Table from \"react-bootstrap/Table\";\nimport Button from \"react-bootstrap/Button\";\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\n\n// Context\nimport ServerContext from \"../context/server-context\";\nimport EnvContext from \"../context/env-context\";\nimport RobotContext from \"../context/robot-context\";\nimport {Card} from \"react-bootstrap\";\nimport Form from \"react-bootstrap/Form\";\nimport {Link, Route, Switch} from \"react-router-dom\";\nimport DateContext from \"../context/date-context\";\n\n// Icons\nimport { BsFillPlusSquareFill, BsCalculator, BsCash, BsGrid3X2Gap, BsExclamationDiamond, BsBarChart, BsGear, BsCaretRight } from 'react-icons/bs';\nimport { TiCalculator, TiChartPieOutline } from \"react-icons/ti\";\n\nconst RobotPage = (props) => {\n    const server = useContext(ServerContext)['server'];\n    const env = useContext(EnvContext)['environment'];\n    const defaultRobots = useContext(RobotContext)['robots'];\n    const [robot, setRobot] = useState(defaultRobots[0]['name']);\n\n    const changeRobot = (rob) => {\n        setRobot(rob);\n    };\n\n    // New robot form\n    const [showNewRobot, setNewRobot] = useState(false);\n    const showNewRobotForm = () => {\n        setNewRobot(true);\n    };\n    const hideNewRobotForm = () => {\n        setNewRobot(false);\n    };\n\n    const [showRobotBalanceCalc, setRobotBalanceCalc] = useState(false);\n    const showRobotCalcForm = () => {\n        setRobotBalanceCalc(true);\n    };\n    const hideRobotBalanceCalcForm = () => {\n        setRobotBalanceCalc(false);\n    };\n\n    const [showRobotPricingCalc, setRobotPricingCalc] = useState(false);\n    const showRobotPricingForm = () => {\n        setRobotPricingCalc(true);\n    };\n    const hideRobotPricingCalcForm = () => {\n        setRobotPricingCalc(false);\n    };\n\n    return (\n        <Container style={{background: '#FBFAFA', width: \"100%\", height: window.innerHeight, padding: '0px'}} fluid>\n            <Row style={{height: '100%', margin:'0px'}}>\n                <ProSidebar>\n                    <Menu iconShape=\"square\">\n                        <SubMenu title=\"Robot\" icon={<BsCaretRight size={20} className=\"rounded-circle\"/>}>\n                            <MenuItem style={{padding: '5px'}}><RobotNav robots={defaultRobots}\n                                                                         server={server}\n                                                                         env={env}\n                                                                         robotChange={changeRobot}\n                            />\n                            </MenuItem>\n                        </SubMenu>\n                        <MenuItem onClick={showNewRobotForm}\n                                  icon={<BsFillPlusSquareFill size={20} className=\"rounded-circle\"/>}>New\n                            Robot</MenuItem>\n                        <MenuItem icon={<TiChartPieOutline size={20}/>}>Dashboard\n                            <Link to=\"/robot/dashboard\"/>\n                        </MenuItem>\n                        <SubMenu title=\"Trade\" icon={<BsCash size={20}/>}>\n                            <MenuItem>Robot</MenuItem>\n                        </SubMenu>\n                        <SubMenu title=\"Calculations\" icon={<BsCalculator size={20} className=\"rounded-circle\"/>}>\n                            <MenuItem onClick={showRobotCalcForm}>Balance</MenuItem>\n                            <MenuItem onClick={showRobotPricingForm}>Pricing</MenuItem>\n                        </SubMenu>\n                        <MenuItem icon={<BsGrid3X2Gap size={20} className=\"rounded-circle\"/>}>Transactions\n                            <Link to=\"/robot/transactions\"/>\n                        </MenuItem>\n                        <MenuItem icon={<BsExclamationDiamond size={20}/>}>Risk\n                            <Link to=\"/robot/risk\"/>\n                        </MenuItem>\n                        <MenuItem icon={<BsBarChart size={20}/>}>Return\n                            <Link to=\"/robot/return\"/>\n                        </MenuItem>\n                        <MenuItem icon={<BsGear size={20}/>}>Settings\n                            <Link to=\"/robot/settings\"/>\n                        </MenuItem>\n                    </Menu>\n                </ProSidebar>\n                <Col style={{width: '50%'}}>\n                    <Row style={{padding:'15px', height:window.innerHeight, width:'100%', margin:'0px'}}>\n                        <Switch>\n                            <Route path=\"/robot/dashboard\">\n                                <RobotDashBoardPage server={server} robot={robot} default={defaultRobots[0]}/>\n                            </Route>\n                            <Route path=\"/robot/transactions\">\n                                <RobotTransactionsPage robot={robot} server={server}/>\n                            </Route>\n                            <Route path=\"/robot/risk\">\n                                <RobotRiskPage robot={robot} server={server}/>\n                            </Route>\n                            <Route path=\"/robot/return\">\n                                <RobotReturnPage robot={robot} server={server}/>\n                            </Route>\n                            <Route path=\"/robot/settings\">\n                                <RobotSettingsPage robot={robot} server={server}/>\n                            </Route>\n                        </Switch>\n                    </Row>\n                </Col>\n            </Row>\n            {/*<Row style={{height:'500px', padding:'5px'}}>*/}\n            {/*    <Col >*/}\n            {/*        <Row style={{height:'100%'}}>*/}\n            {/*            <Col style={{height: '100%'}}>*/}\n            {/*                <RobotProcesses robot={robot} start_date={startDate} end_date={endDate} server={server}/>*/}\n            {/*            </Col>*/}\n            {/*        </Row>*/}\n            {/*    </Col>*/}\n            {/*</Row>*/}\n            {/*<Row style={{height:'500px', padding:'5px'}}>*/}\n            {/*    <Col>*/}\n            {/*        <Card>*/}\n            {/*            <RobotTable server={server} env={env}/>*/}\n            {/*        </Card>*/}\n            {/*    </Col>*/}\n            {/*</Row>*/}\n            <NewRobotForm show={showNewRobot} hide={hideNewRobotForm} server={server} style={{height: '400px'}}/>\n            <RobotBalanceCalculation show={showRobotBalanceCalc} hide={hideRobotBalanceCalcForm} server={server}\n                                     robot={robot}/>\n            <RobotPricingForm show={showRobotPricingCalc} hide={hideRobotPricingCalcForm} server={server} robot={robot}/>\n        </Container>\n    );\n};\n\nexport default RobotPage;","import React from \"react\";\n\nconst InstrumentSearchContext = React.createContext({\n\n});\n\nexport default InstrumentSearchContext;","import React from \"react\";\n\nconst BrokerContext = React.createContext({\n\n});\n\nexport default BrokerContext;","import Modal from \"react-bootstrap/Modal\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport axios from \"axios\";\nimport {useState} from \"react\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\n\nconst InstrumentNew = (props) => {\n    const [showNewInstrumentModal, setShowNewInstrumentModal] = useState(false);\n    const [name, setName] = useState();\n    const [broker, setBroker] = useState(\"ffm_system\");\n    const [sourceCode, setSourceCode] = useState();\n    const [currency, setCurrency] = useState(\"USD\");\n    const [type, setType] = useState(\"Cash\");\n\n    const handleClose = () => {\n        setShowNewInstrumentModal(false);\n    };\n    const submitHandler = (event) => {\n        event.preventDefault();\n        axios.post(props.server + 'instruments/new/', {\n            inst_name: name,\n            currency: currency,\n            instrument_type: type,\n        })\n            .then(function (response) {\n                if (response['data'] == 'New Portfolio is created!') {\n                    alert('New portfolio is created!')\n                    props.hide();\n                } else {\n                    alert(response['data']);\n                }\n            })\n            .catch((error) => {\n                console.error('Error Message:', error);\n            });\n    };\n    return (\n        <div>\n            <Button variant=\"primary\" onClick={()=>setShowNewInstrumentModal(true)}>\n                New Security\n            </Button>\n            <Modal show={showNewInstrumentModal} onHide={handleClose}>\n                <Modal.Header closeButton>\n                    <Modal.Title>New Instrument</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    <Form onSubmit={submitHandler} style={{width: '100%'}}>\n                        <Form.Group>\n                            <Form.Label>Name</Form.Label>\n                            <Form.Control onChange={(e)=>setName(e.target.value)} type=\"text\" required/>\n                        </Form.Group>\n                        <Form.Group className=\"form-group\">\n                            <Form.Label style={{textAlign: 'left'}}>Type</Form.Label>\n                            <Form.Control onChange={(e)=>setType(e.target.value)} as={'select'}>\n                                <option value={'Cash'}>Cash</option>\n                                <option value={'Commodity'}>Commodity</option>\n                                <option value={'CFD'}>CFD</option>\n                                <option value={'Equity'}>Equity</option>\n                                <option value={'Fixed Income'}>Fixed Income</option>\n                                <option value={'Futures'}>Futures</option>\n                                <option value={'Mutual Fund'}>Mutual Fund</option>\n                                <option value={'Robot'}>Robot</option>\n                            </Form.Control>\n                        </Form.Group>\n                        <Form.Group>\n                            <Form.Label>Currency</Form.Label>\n                            <Form.Control onChange={(e)=>setCurrency(e.target.value)} type=\"text\" required as={\"select\"}>\n                                <option value={\"USD\"}>USD</option>\n                                <option value={\"EUR\"}>EUR</option>\n                                <option value={\"HUF\"}>HUF</option>\n                            </Form.Control>\n                        </Form.Group>\n                    </Form>\n                </Modal.Body>\n                <Modal.Footer>\n                    <Button variant=\"secondary\" onClick={handleClose}>\n                        Close\n                    </Button>\n                    <Button variant=\"primary\" onClick={submitHandler}>\n                        Save\n                    </Button>\n                </Modal.Footer>\n            </Modal>\n        </div>\n    );\n};\nexport default InstrumentNew;","import Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Card from \"react-bootstrap/Card\";\nimport Button from \"react-bootstrap/Button\";\nimport Table from \"react-bootstrap/Table\";\nimport Form from 'react-bootstrap/Form'\n\n//CSS\nimport \"./InstrumentSearch.css\"\nimport axios from \"axios\";\nimport {useState, useContext} from \"react\";\n\n//Context\nimport InstrumentSearchContext from \"./InstrumentPageContext/instrument-search-context\";\nimport BrokerContext from \"../../context/broker-context\";\n\nimport InstrumentNew from \"./InstrumentNew\";\nimport NewPortfolioForm from \"../PortfolioPage/NewPortfolioForm\";\n\nconst InstrumentSearch = (props) => {\n    const setResponseData = useContext(InstrumentSearchContext)['saveInstrumentSearchResults']\n    const brokerData = useContext(BrokerContext)['brokerData']\n    const [instrumentName, setInstrumentName] = useState();\n    const [instrumentType, setInstrumentType] = useState();\n    const [currency, setCurrency] = useState();\n    const [code, setCode] = useState();\n    const [source, setSource] = useState();\n    const brokers = brokerData.map((data) => <option value={data['broker_code']} key={data['id']}>{data['broker']}</option>)\n    const searchInstrument = () => {\n        axios.get(props.server + 'instruments/get_instruments/', {\n            params: {\n                instrument_name: instrumentName,\n                currency: currency,\n                code: code,\n                instrument_type: instrumentType,\n            }\n        })\n            .then(response => setResponseData(response['data']))\n            .catch((error) => {\n                console.error('Error Message:', error);\n            });\n    };\n    return (\n        <Card className=\"card main-layout\">\n            <Card.Title className=\"card-header-first\">Search</Card.Title>\n            <Form>\n                <Form.Group as={Row} className=\"form-group\">\n                    <Col className={'search-parameter'} sm={4}>\n                        <Form.Label>Name</Form.Label>\n                    </Col>\n                    <Col sm={8}>\n                        <Form.Control onChange={(e)=>setInstrumentName(e.target.value)} size=\"sm\" type=\"text\"/>\n                    </Col>\n                </Form.Group>\n                <Form.Group as={Row} className=\"form-group\">\n                    <Col className={'search-parameter'} sm={4}>\n                        <Form.Label>Code</Form.Label>\n                    </Col>\n                    <Col sm={8}>\n                        <Form.Control onChange={(e)=>setCode(e.target.value)} size=\"sm\" type=\"text\"/>\n                    </Col>\n                </Form.Group>\n                <Form.Group as={Row} className=\"form-group\">\n                    <Col className={'search-parameter'} sm={4}>\n                        <Form.Label style={{textAlign: 'left'}}>Type</Form.Label>\n                    </Col>\n                    <Col sm={8}>\n                        <Form.Control onChange={(e) => setInstrumentType(e.target.value)} size=\"sm\" as={'select'}>\n                            <option value={'Cash'}>Cash</option>\n                            <option value={'Commodity'}>Commodity</option>\n                            <option value={'CFD'}>CFD</option>\n                            <option value={'Equity'}>Equity</option>\n                            <option value={'Fixed Income'}>Fixed Income</option>\n                            <option value={'Futures'}>Futures</option>\n                            <option value={'Mutual Fund'}>Mutual Fund</option>\n                            <option value={'Robot'}>Robot</option>\n                        </Form.Control>\n                    </Col>\n                </Form.Group>\n                <Form.Group as={Row} className=\"form-group\">\n                    <Col className={'search-parameter'} sm={4}>\n                        <Form.Label style={{textAlign: 'left'}}>Currency</Form.Label>\n                    </Col>\n                    <Col sm={8}>\n                        <Form.Control onChange={(e) => setCurrency(e.target.value)} size=\"sm\" as={'select'}>\n                            <option value={'USD'}>USD</option>\n                            <option value={'EUR'}>EUR</option>\n                            <option value={'HUF'}>HUF</option>\n                        </Form.Control>\n                    </Col>\n                </Form.Group>\n            </Form>\n            <Row>\n                <Col>\n                    <Button onClick={searchInstrument} variant=\"primary\" type=\"submit\">Search</Button>\n                </Col>\n                <Col>\n                    <InstrumentNew server={props.server}/>\n                </Col>\n            </Row>\n        </Card>\n    );\n};\nexport default InstrumentSearch;","import Card from \"react-bootstrap/Card\";\nimport Table from \"react-bootstrap/Table\";\n\n//CSS\nimport \"./InstrumentResultTable.css\"\n\n//Context\nimport InstrumentSearchContext from \"./InstrumentPageContext/instrument-search-context\";\n\nimport {useContext, useState} from \"react\";\nimport axios from \"axios\";\n\nconst InstrumentResultTable = (props) => {\n    const searchResults = useContext(InstrumentSearchContext)['searchResults']\n    const saveSelectedInstrument = useContext(InstrumentSearchContext)['saveSelectedInstrument']\n    const searchRecords = searchResults.map((data) => <tr onDoubleClick={()=>getInstrumentData(data['id'])} key={data['id']}>\n        <td className={'table-row'}>{data['instrument_name']}</td>\n        <td className={'table-row'}>{data['instrument_type']}</td>\n        <td className={'table-row'}>{data['currency']}</td>\n    </tr>)\n    const getInstrumentData = (instrumentId) => {\n        axios.get(props.server + 'instruments/get_instruments/', {\n            params: {\n                id: instrumentId,\n            }\n        })\n            .then(response => saveSelectedInstrument(response['data']))\n            .catch((error) => {\n                console.error('Error Message:', error);\n            });\n    };\n    return (\n        <Card className=\"card main-layout\">\n            <Card.Title className=\"card-header-first\">Available Instruments</Card.Title>\n            <div style={{height: '100%', overflowY: 'scroll', overflowX: 'hidden'}}>\n                <Table>\n                    <thead className=\"table-header-row\">\n                    <tr>\n                        <td className=\"table-header-row\">Name</td>\n                        <td className=\"table-header-row\">Instrument Type</td>\n                        <td className=\"table-header-row\">Currency</td>\n                    </tr>\n                    </thead>\n                    <tbody style={{height: '100%', overflow: 'scroll'}}>\n                    {searchRecords}\n                    </tbody>\n                </Table>\n            </div>\n        </Card>\n    );\n};\nexport default InstrumentResultTable;","import Button from \"react-bootstrap/Button\";\nimport axios from \"axios\";\nimport Modal from \"react-bootstrap/Modal\";\nimport Form from \"react-bootstrap/Form\";\nimport {useContext, useRef, useState} from \"react\";\n\n//Context\nimport InstrumentSearchContext from \"../InstrumentPageContext/instrument-search-context\";\nimport DateContext from \"../../../context/date-context\";\nimport BrokerContext from \"../../../context/broker-context\";\n\nconst NewInstrumentTickerModal = (props) => {\n    const selectedInstrumentData = useContext(InstrumentSearchContext)['selectedInstrument'];\n    const brokerData = useContext(BrokerContext)['brokerData']\n    const [showModal, setShowModal] = useState(false);\n    const intCodeRef = useRef();\n    const sourceTickerRef = useRef();\n    const [source, setSource] = useState('ffm_system');\n    const brokers = brokerData.map((data) => <option value={data['broker_code']} key={data['id']}>{data['broker']}</option>)\n    const handleClose = () => {\n        setShowModal(false);\n    };\n    const submitHandler = (event) => {\n        event.preventDefault();\n        console.log(source)\n        axios.post(props.server + 'instruments/new/ticker/', {\n            inst_code: selectedInstrumentData[0]['id'],\n            internal_ticker: intCodeRef.current.value,\n            source_ticker: sourceTickerRef.current.value,\n            source: source,\n        })\n            .then(function (response) {\n                if (response['data'] == 'New Portfolio is created!') {\n                    alert('New portfolio is created!')\n                    props.hide();\n                } else {\n                    alert(response['data']);\n                }\n            })\n            .catch((error) => {\n                console.error('Error Message:', error);\n            });\n    };\n    return(\n        <div>\n            <Button className={\"operation-button\"} onClick={()=>setShowModal(true)}>New</Button>\n            <Modal show={showModal} onHide={handleClose}>\n                <Modal.Header closeButton>\n                    <Modal.Title>New Source Ticker</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    <Form onSubmit={submitHandler} style={{width: '100%'}}>\n                        <Form.Group>\n                            <Form.Label>Id</Form.Label>\n                            <Form.Control type=\"text\" placeHolder={selectedInstrumentData[0]['id']} disabled/>\n                        </Form.Group>\n                        <Form.Group>\n                            <Form.Label>Internal Code</Form.Label>\n                            <Form.Control ref={intCodeRef} type=\"text\"/>\n                        </Form.Group>\n                        <Form.Group>\n                            <Form.Label>Source</Form.Label>\n                            <Form.Control onChange={(e)=>setSource(e.target.value)} type=\"text\" required as={\"select\"}>\n                                {brokers}\n                            </Form.Control>\n                        </Form.Group>\n                        <Form.Group>\n                            <Form.Label>Source Ticker</Form.Label>\n                            <Form.Control ref={sourceTickerRef} type=\"text\"/>\n                        </Form.Group>\n                    </Form>\n                </Modal.Body>\n                <Modal.Footer>\n                    <Button variant=\"secondary\" onClick={handleClose}>\n                        Close\n                    </Button>\n                    <Button variant=\"primary\" onClick={submitHandler}>\n                        Save\n                    </Button>\n                </Modal.Footer>\n            </Modal>\n        </div>\n    );\n};\nexport default NewInstrumentTickerModal;","import Card from \"react-bootstrap/Card\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Button from \"react-bootstrap/Button\";\nimport Table from \"react-bootstrap/Table\";\n\n//Contexts\nimport ServerContext from \"../../../context/server-context\";\nimport InstrumentSearchContext from \"../InstrumentPageContext/instrument-search-context\";\n\nimport axios from \"axios\";\nimport {useContext, useEffect, useState} from \"react\";\n\nimport NewInstrumentTickerModal from \"./NewInstrumentTickerModal\";\n\nconst InstrumentSettings = (props) => {\n    const server = useContext(ServerContext)['server'];\n    const selectedInstrumentData = useContext(InstrumentSearchContext)['selectedInstrument'];\n    const [tickerData, setTickerData] = useState([]);\n    const tickers = tickerData.map((data)=><tr key={data['id']}>\n        <td className={'table-row'}>{data['internal_ticker']}</td>\n        <td className={'table-row'}>{data['source']}</td>\n        <td className={'table-row'}>{data['source_ticker']}</td>\n    </tr>);\n    const dateHandler = () => {\n        axios.get(server + 'instruments/get/tickers/', {\n            params: {\n                inst_code: selectedInstrumentData[0]['id'],\n            }\n        })\n            .then(response => setTickerData(response['data']))\n            .catch((error) => {\n                console.error('Error Message:', error);\n            });\n    };\n    useEffect(() => {\n        dateHandler();\n    }, [props])\n\n    return (\n        <Card className=\"card main-layout\">\n            <Card.Title className=\"card-header-first\">\n                <Row>\n                    <Col>\n                        Source Tickers\n                    </Col>\n                    <Col>\n                        <NewInstrumentTickerModal server={server}/>\n                    </Col>\n                    <Col>\n                        <Button className={\"operation-button\"}>Delete</Button>\n                    </Col>\n                </Row>\n            </Card.Title>\n            <div style={{height: '100%', overflowY: 'scroll', overflowX: 'hidden'}}>\n                <Table>\n                    <thead className=\"table-header-row\">\n                    <tr>\n                        <td className=\"table-header-row\">Internal Ticker</td>\n                        <td className=\"table-header-row\">Source</td>\n                        <td className=\"table-header-row\">Source Ticker</td>\n                    </tr>\n                    </thead>\n                    <tbody style={{height: '100%', overflow: 'scroll'}}>\n                    {tickers}\n                    </tbody>\n                </Table>\n            </div>\n        </Card>\n    );\n};\nexport default InstrumentSettings;","import Button from \"react-bootstrap/Button\";\nimport axios from \"axios\";\n\nconst InstrumentDelete = (props) => {\n    const deleteInstrument = () => {\n        axios.post(props.server + 'instruments/delete_instrument/', {\n            id: props.instrumentID,\n        })\n            .then(response => alert(response['data']))\n            .catch((error) => {\n                console.error('Error Message:', error);\n            });\n    };\n    return(\n        <Button onClick={deleteInstrument}>Delete</Button>\n    );\n};\nexport default InstrumentDelete;","import Card from \"react-bootstrap/Card\";\nimport Form from \"react-bootstrap/Form\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Button from \"react-bootstrap/Button\";\n\n\nimport {useRef} from \"react\";\nimport axios from \"axios\";\n\nimport InstrumentDelete from \"./InstrumentDelete\";\n\nconst InstrumentDetailsGeneral = (props) => {\n    const nameRef = useRef();\n    const instCodeRef = useRef();\n    const currencyRef = useRef();\n    const sourceCodeRef = useRef();\n    const typeRef = useRef();\n\n    const updateInstrument = () => {\n        axios.post(props.server + 'instruments/update_instrument/', {\n            id: props.data['id'],\n            inst_code: instCodeRef.current.value,\n            currency: currencyRef.current.value,\n            instrument_name: nameRef.current.value,\n            source_code: sourceCodeRef.current.value,\n            instrument_type: typeRef.current.value,\n        })\n            .then(response => console.log(response['data']))\n            .catch((error) => {\n                console.error('Error Message:', error);\n            });\n    };\n    return (\n        <div>\n            <Form>\n                <Form.Group as={Row} className=\"form-group\">\n                    <Col className={'search-parameter'} sm={4}>\n                        <Form.Label>Name</Form.Label>\n                    </Col>\n                    <Col sm={8}>\n                        <Form.Control ref={nameRef} size=\"sm\" defaultValue={props.data['instrument_name']} key={props.data['instrument_name']} type=\"text\"/>\n                    </Col>\n                </Form.Group>\n                <Form.Group as={Row} className=\"form-group\">\n                    <Col className={'search-parameter'} sm={4}>\n                        <Form.Label>Instrument Code</Form.Label>\n                    </Col>\n                    <Col sm={8}>\n                        <Form.Control ref={instCodeRef} size=\"sm\" defaultValue={props.data['inst_code']} key={props.data['inst_code']} type=\"text\"/>\n                    </Col>\n                </Form.Group>\n                <Form.Group as={Row} className=\"form-group\">\n                    <Col className={'search-parameter'} sm={4}>\n                        <Form.Label>Currency</Form.Label>\n                    </Col>\n                    <Col sm={8}>\n                        <Form.Control ref={currencyRef} size=\"sm\"\n                                       as={\"select\"}>\n                            <option hidden>Please select a currency</option>\n                            <option value={'USD'}>USD</option>\n                            <option value={'EUR'}>EUR</option>\n                            <option value={'HUF'}>HUF</option>\n                        </Form.Control>\n                    </Col>\n                </Form.Group>\n                <Form.Group as={Row} className=\"form-group\">\n                    <Col className={'search-parameter'} sm={4}>\n                        <Form.Label>Broker Ticker</Form.Label>\n                    </Col>\n                    <Col sm={8}>\n                        <Form.Control ref={sourceCodeRef} size=\"sm\" defaultValue={props.data['source_code']} key={props.data['source_code']} type=\"text\"/>\n                    </Col>\n                </Form.Group>\n                <Form.Group as={Row} className=\"form-group\">\n                    <Col className={'search-parameter'} sm={4}>\n                        <Form.Label>Instrument Type</Form.Label>\n                    </Col>\n                    <Col sm={8}>\n                        <Form.Control ref={typeRef} size=\"sm\"\n                                      as={\"select\"}>\n                            <option hidden>Please select an instrument type</option>\n                            <option value={'Cash'}>Cash</option>\n                            <option value={'Commodity'}>Commodity</option>\n                            <option value={'CFD'}>CFD</option>\n                            <option value={'Equity'}>Equity</option>\n                            <option value={'Fixed Income'}>Fixed Income</option>\n                            <option value={'Futures'}>Futures</option>\n                            <option value={'Mutual Fund'}>Mutual Fund</option>\n                            <option value={'Robot'}>Robot</option>\n                        </Form.Control>\n                    </Col>\n                </Form.Group>\n            </Form>\n            <Button onClick={updateInstrument}>Save</Button>\n            <InstrumentDelete server={props.server} instrumentID={props.data['id']}/>\n        </div>\n    );\n};\nexport default InstrumentDetailsGeneral;","import Button from \"react-bootstrap/Button\";\nimport axios from \"axios\";\nimport Modal from \"react-bootstrap/Modal\";\nimport Form from \"react-bootstrap/Form\";\nimport {useContext, useRef, useState} from \"react\";\n\n//Context\nimport InstrumentSearchContext from \"../InstrumentPageContext/instrument-search-context\";\nimport DateContext from \"../../../context/date-context\";\nimport BrokerContext from \"../../../context/broker-context\";\n\nconst NewInstrumentPriceModal = (props) => {\n    const selectedInstrumentData = useContext(InstrumentSearchContext)['selectedInstrument'];\n    const brokerData = useContext(BrokerContext)['brokerData']\n    const currentDate = useContext(DateContext)['currentDate'];\n    const [showModal, setShowModal] = useState(false);\n    const priceRef = useRef();\n    const dateRef = useRef();\n    const [source, setSource] = useState('ffm_system');\n    const brokers = brokerData.map((data) => <option value={data['broker_code']} key={data['id']}>{data['broker']}</option>)\n    const handleClose = () => {\n        setShowModal(false);\n    };\n    const submitHandler = (event) => {\n        event.preventDefault();\n        console.log(source)\n        axios.post(props.server + 'instruments/new/price/', {\n            inst_code: selectedInstrumentData[0]['id'],\n            price: priceRef.current.value,\n            date: dateRef.current.value,\n            source: source,\n        })\n            .then(function (response) {\n                if (response['data'] == 'New Portfolio is created!') {\n                    alert('New portfolio is created!')\n                    props.hide();\n                } else {\n                    alert(response['data']);\n                }\n            })\n            .catch((error) => {\n                console.error('Error Message:', error);\n            });\n    };\n    return(\n        <div>\n            <Button className={\"operation-button\"} onClick={()=>setShowModal(true)}>New</Button>\n            <Modal show={showModal} onHide={handleClose}>\n                <Modal.Header closeButton>\n                    <Modal.Title>New Price</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    <Form onSubmit={submitHandler} style={{width: '100%'}}>\n                        <Form.Group>\n                            <Form.Label>Name</Form.Label>\n                            <Form.Control type=\"text\" placeHolder={selectedInstrumentData[0]['instrument_name']} disabled/>\n                        </Form.Group>\n                        <Form.Group>\n                            <Form.Label>Internal Code</Form.Label>\n                            <Form.Control type=\"text\" placeHolder={selectedInstrumentData[0]['id']} disabled/>\n                        </Form.Group>\n                        <Form.Group>\n                            <Form.Label>Price</Form.Label>\n                            <Form.Control ref={priceRef} type=\"text\"/>\n                        </Form.Group>\n                        <Form.Group>\n                            <Form.Label>Dater</Form.Label>\n                            <Form.Control ref={dateRef} type=\"date\" defaultValue={currentDate} required/>\n                        </Form.Group>\n                        <Form.Group>\n                            <Form.Label>Source</Form.Label>\n                            <Form.Control onChange={(e)=>setSource(e.target.value)} type=\"text\" required as={\"select\"}>\n                                {brokers}\n                            </Form.Control>\n                        </Form.Group>\n                    </Form>\n                </Modal.Body>\n                <Modal.Footer>\n                    <Button variant=\"secondary\" onClick={handleClose}>\n                        Close\n                    </Button>\n                    <Button variant=\"primary\" onClick={submitHandler}>\n                        Save\n                    </Button>\n                </Modal.Footer>\n            </Modal>\n        </div>\n    );\n};\nexport default NewInstrumentPriceModal;","import Card from \"react-bootstrap/Card\";\nimport Table from \"react-bootstrap/Table\";\nimport Form from \"react-bootstrap/Form\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\n\nimport {useContext, useEffect, useRef, useState} from \"react\";\n\n//Context\nimport InstrumentSearchContext from \"../InstrumentPageContext/instrument-search-context\";\nimport DateContext from \"../../../context/date-context\";\nimport axios from \"axios\";\n\n//CSS\nimport \"./InstrumentPricesTable.css\"\n\nimport NewInstrumentPriceModal from \"./NewInstrumentPriceModal\";\nimport Button from \"react-bootstrap/Button\";\n\nconst InstrumentPricesTable = (props) => {\n    const [priceData, setPriceData] = useState([]);\n    const selectedInstrumentData = useContext(InstrumentSearchContext)['selectedInstrument'];\n    const currentDate = useContext(DateContext)['currentDate'];\n    const dateRef = useRef();\n    const prices = priceData.map((data)=><tr key={data['id']}>\n        <td className={'table-row'}>{data['price']}</td>\n        <td className={'table-row'}>{data['date']}</td>\n        <td className={'table-row'}>{data['source']}</td>\n    </tr>);\n    const dateHandler = () => {\n        axios.get(props.server + 'instruments/get/prices/by_date', {\n            params: {\n                date: dateRef.current.value,\n                inst_code: selectedInstrumentData[0]['id'],\n                source: selectedInstrumentData[0]['source'],\n            }\n        })\n            .then(response => setPriceData(response['data']))\n            .catch((error) => {\n                console.error('Error Message:', error);\n            });\n    };\n    useEffect(() => {\n        dateHandler();\n    }, [props])\n\n    return(\n        <Card className=\"card main-layout\">\n            <Card.Title className=\"card-header-first\">\n                <Row>\n                    <Col>\n                        Prices\n                    </Col>\n                    <Col>\n                        <Form.Control ref={dateRef} onChange={dateHandler} type=\"date\" defaultValue={currentDate} required/>\n                    </Col>\n                    <Col>\n                        <NewInstrumentPriceModal server={props.server}/>\n                    </Col>\n                    <Col>\n                        <Button className={\"operation-button\"}>Delete</Button>\n                    </Col>\n                    <Col>\n                        <Button className={\"operation-button\"}>Import</Button>\n                    </Col>\n                </Row>\n            </Card.Title>\n            <div style={{height: '100%', overflowY: 'scroll', overflowX: 'hidden'}}>\n                <Table>\n                    <thead className=\"table-header-row\">\n                    <tr>\n                        <td className=\"table-header-row\">Price</td>\n                        <td className=\"table-header-row\">Date</td>\n                        <td className=\"table-header-row\">Source</td>\n                    </tr>\n                    </thead>\n                    <tbody style={{height: '100%', overflow: 'scroll'}}>\n                    {prices}\n                    </tbody>\n                </Table>\n            </div>\n        </Card>\n    );\n};\nexport default InstrumentPricesTable;","import Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\n\n//CSS\nimport \"./InstrumentPrices.css\"\n\nimport InstrumentPricesTable from \"./InstrumentPricesTable\";\nimport InstrumentPriceOperations from \"./InstrumentPriceOperations\";\n\n//Contexts\nimport ServerContext from \"../../../context/server-context\";\nimport {useContext} from \"react\";\n\nconst InstrumentPrices = (prop) => {\n    const server = useContext(ServerContext)['server'];\n\n    return(\n\n        <InstrumentPricesTable server={server}/>\n\n    );\n};\nexport default InstrumentPrices;","import Card from \"react-bootstrap/Card\";\nimport Form from \"react-bootstrap/Form\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Button from \"react-bootstrap/Button\";\nimport Tabs from 'react-bootstrap/Tabs'\nimport Tab from 'react-bootstrap/Tab'\n\n//Context\nimport InstrumentSearchContext from \"./InstrumentPageContext/instrument-search-context\";\nimport {useContext, useRef, useState} from \"react\";\nimport axios from \"axios\";\n\nimport InstrumentDetailsGeneral from \"./InstrumentDetailsGeneral\";\nimport InstrumentPrices from \"./InstrumentPrices/InstrumentPrices\";\nimport InstrumentSettings from \"./InstrumentSettings/InstrumentSettings\";\n\n//CSS\nimport \"./InstrumentDetails.css\"\n\nconst InstrumentDetails = (props) => {\n    return (\n        <Card className=\"card main-layout\">\n            <Tabs style={{width: '100%', margin: '0px', padding: '10px'}}\n                  defaultActiveKey=\"general\"\n                  id=\"fill-tab-example\"\n                  className=\"mb-3\"\n                  fill\n            >\n                <Tab eventKey=\"general\" title=\"General\" style={{ margin: '5px'}}>\n                    <InstrumentDetailsGeneral data={props.data}/>\n                </Tab>\n                <Tab eventKey=\"fixed\" title=\"Fixed Income\">\n\n                </Tab>\n                <Tab eventKey=\"settings\" title=\"Settings\">\n                    <InstrumentSettings data={props.data}/>\n                </Tab>\n                <Tab className={\"tab-body\"} eventKey=\"prices\" title=\"Prices\">\n                    <InstrumentPrices data={props.data}/>\n                </Tab>\n            </Tabs>\n        </Card>\n    );\n};\nexport default InstrumentDetails;","import InstrumentSearch from \"./InstrumentSearch\";\nimport InstrumentResultTable from \"./InstrumentResultTable\";\nimport InstrumentSettings from \"./InstrumentSettings/InstrumentSettings\";\nimport InstrumentDetails from \"./InstrumentDetails\";\n\n// Bootstrap\nimport Col from 'react-bootstrap/Col';\nimport Container from 'react-bootstrap/Container'\nimport Button from \"react-bootstrap/Button\";\nimport Form from \"react-bootstrap/Form\";\nimport Row from 'react-bootstrap/Row';\n\n//CSS\nimport \"./InstrumentPage.css\"\nimport {useContext, useState} from \"react\";\n\n//Contexts\nimport ServerContext from \"../../context/server-context\";\nimport EnvContext from \"../../context/env-context\";\nimport InstrumentSearchContext from \"./InstrumentPageContext/instrument-search-context\";\n\nconst InstrumentPage = () => {\n    const [instrumentSearchResults, setInstrumentSearchResults] = useState([{\n        'id': '',\n        'instrument_name': '',\n        'currency': '',\n        'inst_code': '',\n        'instrument_type': '',\n        'source': '',\n    }]);\n    const [selectedInstrument, setSelectedInstrument] = useState([{'inst_code': ''}]);\n    const server = useContext(ServerContext)['server'];\n    const env = useContext(EnvContext)['environment'];\n\n    return (\n        <InstrumentSearchContext.Provider\n            value={{\n                searchResults: instrumentSearchResults,\n                saveInstrumentSearchResults: setInstrumentSearchResults,\n                selectedInstrument: selectedInstrument,\n                saveSelectedInstrument: setSelectedInstrument,\n            }}>\n            <Container style={{background: '#FBFAFA', width: \"100%\", height: window.innerHeight, padding: '0px'}} fluid>\n                <Row className={\"row\"} style={{height: '90%', width: '100%'}}>\n                    <Col style={{height:'100%'}} sm={4}>\n                        <Row style={{height: '50%'}}>\n                            <InstrumentSearch server={server}/>\n                        </Row>\n                        <Row style={{height: '50%'}}>\n                            <InstrumentDetails server={server} data={selectedInstrument[0]}/>\n                        </Row>\n                    </Col>\n                    <Col style={{height:'100%'}} sm={8}>\n                        <InstrumentResultTable server={server}/>\n                    </Col>\n                </Row>\n                {/*<Row className={\"row\"} style={{height: '40%', width: '100%'}}>*/}\n                {/*    <Col style={{height:'100%'}}>*/}\n                {/*        */}\n                {/*    </Col>*/}\n                {/*</Row>*/}\n            </Container>\n        </InstrumentSearchContext.Provider>\n    );\n};\n\nexport default InstrumentPage;","import React from \"react\";\n\nconst CalculationContext = React.createContext({\n\n});\n\nexport default CalculationContext;","import Card from \"react-bootstrap/Card\";\nimport Table from \"react-bootstrap/Table\";\n\n// Context\nimport CalculationContext from \"../CalculationPageContext/calculation-context\";\nimport {useContext} from \"react\";\nconst CalculationEntities = (props) => {\n    const entityData = useContext(CalculationContext)['entityData']\n    const entity = useContext(CalculationContext)['entity']\n    const saveSelectedEntity = useContext(CalculationContext)['saveSelectedEntity']\n    const dataRows = entityData.map((data) => <tr onDoubleClick={()=>saveSelectedEntity([data['portfolio_name'], data['portfolio_code']])} key={data['id']}>\n        <td className={'table-row'}>{data['portfolio_name']}</td>\n        <td className={'table-row'}>{entity}</td>\n        <td className={'table-row'}>{data['portfolio_code']}</td>\n    </tr>)\n    return(\n        <Card className=\"card main-layout\">\n            <Card.Title className=\"card-header-first\">Entity</Card.Title>\n            <div style={{height: '100%', overflowY: 'scroll', overflowX: 'hidden'}}>\n                <Table>\n                    <thead className=\"table-header-row\">\n                    <tr>\n                        <td className=\"table-header-row\">Name</td>\n                        <td className=\"table-header-row\">Type</td>\n                        <td className=\"table-header-row\">Code</td>\n                    </tr>\n                    </thead>\n                    <tbody style={{height: '100%', overflow: 'scroll'}}>\n                    {dataRows}\n                    </tbody>\n                </Table>\n            </div>\n        </Card>\n    );\n};\nexport default CalculationEntities","import Modal from \"react-bootstrap/Modal\";\nimport Spinner from 'react-bootstrap/Spinner'\nimport Button from \"react-bootstrap/Button\";\nimport Form from \"react-bootstrap/Form\";\n\nconst ProcessIsLoadingModal = (props) => {\n    let button = <></>\n    let title = <Modal.Title>\n                    <Spinner animation=\"border\"/> Calculating...</Modal.Title>\n    if (props.finishedState === true) {\n        button = <Modal.Footer>\n            <Button onClick={() => props.hide()} variant=\"primary\">\n                Ok\n            </Button>\n        </Modal.Footer>\n        title = <Modal.Title>Calculation Finsihed</Modal.Title>\n    };\n\n    return (\n        <Modal show={props.show}>\n            <Modal.Header closeButton>\n                {title}\n            </Modal.Header>\n            <Modal.Body>\n                <Form.Group>\n                    <Form.Label>Name</Form.Label>\n                </Form.Group>\n            </Modal.Body>\n            {button}\n        </Modal>\n    );\n};\nexport default ProcessIsLoadingModal;","import Card from \"react-bootstrap/Card\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Button from \"react-bootstrap/Button\";\nimport Form from 'react-bootstrap/Form'\n\n// Context\nimport CalculationContext from \"../CalculationPageContext/calculation-context\";\nimport DateContext from \"../../../context/date-context\";\n\nimport ProcessIsLoadingModal from \"../../../components/ProcessIsLoadingModal\";\n\nimport {useContext, useRef, useState} from \"react\";\nimport axios from \"axios\";\n\nconst CalculationOptions = (props) => {\n    const saveEntity = useContext(CalculationContext)['saveEntity'];\n    const selectedEntity = useContext(CalculationContext)['selectedEntity'];\n    const currentDate = useContext(CalculationContext)['currentDate'];\n    const saveDate = useContext(CalculationContext)['saveCalcDate'];\n    const [process, setProcess] = useState('cash');\n    const [loadingModalStatus, setLoadingModalStatus] = useState(false);\n    const [modalFinishedState, setModalFinishedState] = useState(false);\n\n    let url = ''\n    let params = {}\n    console.log(currentDate)\n    if (process === 'holding'){\n        url = 'portfolios/holdings_calc/'\n\n    };\n    params = {\n            portfolio_code: selectedEntity[1],\n            calculation_date: currentDate,\n        };\n    const runCalculation = () => {\n        setLoadingModalStatus(true);\n        axios.post(props.server + 'portfolios/holdings_calc/', params)\n            .then(function(response){\n                setModalFinishedState(true);\n            })\n            .catch((error) => {\n                console.error('Error Message:', error);\n            });\n    };\n    const hideCalculationModal = () => {\n        setLoadingModalStatus(false);\n        setModalFinishedState(false);\n    };\n    return(\n        <Card className=\"card main-layout\">\n            <Card.Body>\n            <Card.Title className=\"card-header-first\">Calculation</Card.Title>\n            <Form>\n                <Form.Group as={Row} className=\"form-group\">\n                    <Col className={'search-parameter'} sm={4}>\n                        <Form.Label style={{textAlign: 'left'}}>Calculation Entity</Form.Label>\n                    </Col>\n                    <Col sm={8}>\n                        <Form.Control onChange={(e)=>saveEntity(e.target.value)} size=\"sm\" as={'select'}>\n                            <option value={'Portfolio'}>Portfolio</option>\n                            <option value={'Robot'}>Robot</option>\n                        </Form.Control>\n                    </Col>\n                </Form.Group>\n                <Form.Group as={Row} className=\"form-group\">\n                    <Col className={'search-parameter'} sm={4}>\n                        <Form.Label style={{textAlign: 'left'}}>Process</Form.Label>\n                    </Col>\n                    <Col sm={8}>\n                        <Form.Control onChange={(e) => setProcess(e.target.value)} size=\"sm\" as={'select'}>\n                            <option value={'cash'}>Cash Holding</option>\n                            <option value={'positions'}>Positions</option>\n                            <option value={'holding'}>Portfolio Holding</option>\n                        </Form.Control>\n                    </Col>\n                </Form.Group>\n                <Form.Group as={Row} className=\"form-group\">\n                    <Col className={'search-parameter'} sm={4}>\n                        <Form.Label style={{textAlign: 'left'}}>Calculation Date</Form.Label>\n                    </Col>\n                    <Col sm={8}>\n                        <Form.Control onChange={(e) => saveDate(e.target.value)} defaultValue={currentDate} size=\"sm\" type={'date'}/>\n                    </Col>\n                </Form.Group>\n            </Form>\n                </Card.Body>\n            <Card.Footer className=\"text-muted\">\n                <Row>\n                    <Col>\n                        {selectedEntity[0]}\n                    </Col>\n                    <Col>\n                        <Button onClick={runCalculation} variant=\"primary\" type=\"submit\">Calculate</Button>\n                    </Col>\n                </Row>\n            </Card.Footer>\n            <ProcessIsLoadingModal show={loadingModalStatus} finishedState={modalFinishedState} hide={hideCalculationModal}/>\n        </Card>\n    );\n};\nexport default CalculationOptions;","import Card from \"react-bootstrap/Card\";\nimport Table from \"react-bootstrap/Table\";\n\n// Context\nimport CalculationContext from \"../CalculationPageContext/calculation-context\";\n\nimport {useContext, useEffect, useState} from \"react\";\nimport axios from \"axios\";\n\n//CSS\nimport \"./CalculationSecurityExceptions.css\"\n\nconst CalculationSecurityExceptions = (props) => {\n    const selectedEntity = useContext(CalculationContext)['selectedEntity'][1];\n    const selectedDate = useContext(CalculationContext)['currentDate'];\n    const [exceptions, setExceptions] = useState([]);\n    const securityExceptions = exceptions.map((data) =>\n        <tr onDoubleClick={() => alert(data['id'])} key={data['id']} style={{color: 'red'}}>\n            <td className=\"table-row\">{data['exception_level']}</td>\n            <td className=\"table-row\">{data['entity_code']}</td>\n            <td className=\"table-row\">{data['exception_type']}</td>\n            <td className=\"table-row\">{data['process']}</td>\n            <td className=\"table-row\">{data['security_id']}</td>\n            <td className=\"table-row\">{data['calculation_date']}</td>\n            <td className=\"table-row\">{data['status']}</td>\n        </tr>);\n    useEffect(() => {\n            axios.get(props.server + 'exceptions/get/', {\n                params:{\n                    entity_code: selectedEntity,\n                    exception_level: 'Security',\n                    calculation_date: props.calcDate,\n                }\n            })\n                .then(response => setExceptions(response['data']))\n                .catch((error) => {\n                    console.error('Error Message:', error);\n                });\n        }, [props]\n    );\n    return(\n        <Card className=\"card main-layout\">\n            <Card.Title className=\"card-header-first\">{props.tableType} Level Exceptions</Card.Title>\n            <div style={{height: '100%', overflowY: 'scroll', overflowX: 'hidden'}}>\n                <Table>\n                    <thead className=\"table-header-row\">\n                    <tr>\n                        <td className=\"table-header-row\">Exception Level</td>\n                        <td className=\"table-header-row\">Entity Code</td>\n                        <td className=\"table-header-row\">Exception Type</td>\n                        <td className=\"table-header-row\">Process</td>\n                        <td className=\"table-header-row\">Security ID</td>\n                        <td className=\"table-header-row\">Calculation Date</td>\n                        <td className=\"table-header-row\">Status</td>\n                    </tr>\n                    </thead>\n                    <tbody style={{height: '100%', overflow: 'scroll'}}>\n                    {securityExceptions}\n                    </tbody>\n                </Table>\n            </div>\n        </Card>\n    );\n};\nexport default CalculationSecurityExceptions;","import Card from \"react-bootstrap/Card\";\nimport Table from \"react-bootstrap/Table\";\n\n// Context\nimport CalculationContext from \"../CalculationPageContext/calculation-context\";\n\nimport {useContext, useEffect, useState} from \"react\";\nimport axios from \"axios\";\n\n// CSS\nimport \"./CalculationPortfolioExceptions.css\"\n\nconst CalculationPortfolioExceptions = (props) => {\n    const selectedEntity = useContext(CalculationContext)['selectedEntity'][1];\n    const [exceptions, setExceptions] = useState([]);\n    const securityExceptions = exceptions.map((data) =>\n        <tr onDoubleClick={() => alert(data['id'])} key={data['id']} style={{color: 'red'}}>\n            <td className=\"table-row\">{data['exception_level']}</td>\n            <td className=\"table-row\">{data['entity_code']}</td>\n            <td className=\"table-row\">{data['exception_type']}</td>\n            <td className=\"table-row\">{data['process']}</td>\n            <td className=\"table-row\">{data['calculation_date']}</td>\n            <td className=\"table-row\">{data['status']}</td>\n        </tr>)\n    useEffect(() => {\n            axios.get(props.server + 'exceptions/get/', {\n                params:{\n                    entity_code: selectedEntity,\n                    exception_level: 'Portfolio',\n                    calculation_date: props.calcDate,\n                }\n            })\n                .then(response => setExceptions(response['data']))\n                .catch((error) => {\n                    console.error('Error Message:', error);\n                });\n        }, [props]\n    );\n    return(\n        <Card className=\"card main-layout\">\n            <Card.Title className=\"card-header-first\">{props.tableType} Level Exceptions</Card.Title>\n            <div style={{height: '100%', overflowY: 'scroll', overflowX: 'hidden'}}>\n                <Table>\n                    <thead className=\"table-header-row\">\n                    <tr>\n                        <td className=\"table-header-row\">Exception Level</td>\n                        <td className=\"table-header-row\">Entity Code</td>\n                        <td className=\"table-header-row\">Exception Type</td>\n                        <td className=\"table-header-row\">Process</td>\n                        <td className=\"table-header-row\">Calculation Date</td>\n                        <td className=\"table-header-row\">Status</td>\n                    </tr>\n                    </thead>\n                    <tbody style={{height: '100%', overflow: 'scroll'}}>\n                    {securityExceptions}\n                    </tbody>\n                </Table>\n            </div>\n        </Card>\n    );\n};\nexport default CalculationPortfolioExceptions;","// React Bootstrap\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from 'react-bootstrap/Col';\n\nimport CalculationEntities from \"./CalculationEntities/CalculationEntities\";\nimport CalculationOptions from \"./CalculationOptions/CalculationOptions\";\nimport CalculationSecurityExceptions from \"./CalculationsExceptions/CalculationSecurityExceptions\";\nimport CalculationPortfolioExceptions from \"./CalculationsExceptions/CalculationPortfolioExceptions\";\n\n//Context\nimport ServerContext from \"../../context/server-context\";\nimport CalculationContext from \"./CalculationPageContext/calculation-context\";\nimport DateContext from \"../../context/date-context\";\n\nimport {useContext, useEffect, useState} from \"react\";\nimport axios from \"axios\";\n\nconst CalculationsPage = (props) => {\n    const server = useContext(ServerContext)['server'];\n    const [entity, setEntity] = useState('Portfolio');\n    const [entityData, setEntityData] = useState([]);\n    const [selectedEntity, setSelectedEntity] = useState([]);\n    const [calcDate, setCalDate] = useState(useContext(DateContext)['currentDate']);\n\n    let url = ''\n    if (entity === 'Portfolio'){\n        url = 'portfolios/get_portfolio_data/all'\n    }else {\n        url = 'robots/get_robots/live'\n    };\n    useEffect(() => {\n            axios.get(server + url)\n                .then(response => setEntityData(response['data']))\n                .catch((error) => {\n                    console.error('Error Message:', error);\n                });\n        }, [entity]\n    );\n\n    console.log(selectedEntity)\n    return (\n        <CalculationContext.Provider value={{\n            entity: entity,\n            saveEntity: setEntity,\n            entityData: entityData,\n            selectedEntity: selectedEntity,\n            saveSelectedEntity: setSelectedEntity,\n            currentDate: calcDate,\n            saveCalcDate: setCalDate,\n        }}>\n            <Container style={{background: '#FBFAFA', width: \"100%\", height: window.innerHeight, padding: '0px'}} fluid>\n                <Row className={\"row\"} style={{height: '90%', width: '100%'}}>\n                    <Col style={{height: '100%'}} sm={4}>\n                        <Row style={{height: '50%'}}>\n                            <CalculationOptions server={server}/>\n                        </Row>\n                        <Row style={{height: '50%'}}>\n                            <CalculationEntities/>\n                        </Row>\n                    </Col>\n                    <Col style={{height: '100%'}} sm={8}>\n                        <Row style={{height: '50%'}}>\n                            <CalculationPortfolioExceptions server={server} tableType={entity} calcDate={calcDate}/>\n                        </Row>\n                        <Row style={{height: '50%'}}>\n                            <CalculationSecurityExceptions server={server} tableType={'Security'} calcDate={calcDate}/>\n                        </Row>\n                    </Col>\n                </Row>\n            </Container>\n        </CalculationContext.Provider>\n    );\n};\nexport default CalculationsPage;","import './App.css';\nimport React, {useContext, useEffect, useState} from \"react\";\nimport {Route, Switch} from \"react-router-dom\";\nimport RiskPage from \"./Pages/RiskPage\";\nimport HomePage from \"./Pages/HomePage\";\nimport PortfolioPage from \"./Pages/PortfolioPage\";\nimport TradePage from \"./Pages/TradePage\";\nimport Navigation from \"./components/NavBar\";\nimport RobotPage from \"./Pages/RobotPage\";\nimport InstrumentPage from \"./Pages/InstrumentPage/InstrumentPage\";\nimport CalculationsPage from \"./Pages/CalculationsPage/CalculationsPage\";\n\n// Contexts\nimport ServerContext from \"./context/server-context\";\nimport EnvContext from \"./context/env-context\";\nimport PortfolioContext from \"./context/portfolio-context\";\nimport RobotContext from \"./context/robot-context\";\nimport DateContext from \"./context/date-context\";\nimport BrokerContext from \"./context/broker-context\";\n\nimport axios from \"axios\";\nimport Button from \"react-bootstrap/Button\";\n\nimport ReactNotification from 'react-notifications-component';\nimport 'react-notifications-component/dist/theme.css';\n\n\nfunction App() {\n    // 'http://127.0.0.1:8000/' 'https://pavliati.pythonanywhere.com/'\n    const [robotEnvData, setRobotEnvData] = useState('live');\n    const [portfolioData, setPortfolioData] = useState([]);\n    const [robotsData, setRobotsData] = useState([]);\n    const [brokerData, setBrokerData] = useState([{'id': 1,'broker': 'System', 'broker_code': 'ffm_system'}]);\n    const server = 'https://pavliati.pythonanywhere.com/'\n\n    const getEnvData = (env) => {\n        setRobotEnvData(env);\n    };\n    // Date variables\n    const date = new Date();\n    const firstDay = new Date(date.getFullYear(), date.getMonth(), 2);\n    const [startDate, setStartDate] = useState(firstDay.toISOString().substr(0,10));\n    const [endDate, setEndDate] = useState(date.toISOString().substr(0,10));\n    const currentDate = date.toISOString().substr(0,10);\n\n    useEffect(() => {\n            axios.get(server + 'portfolios/get_portfolio_data/all')\n                .then(response => setPortfolioData(response['data']))\n                .catch((error) => {\n                    console.error('Error Message:', error);\n                });\n            axios.get(server + 'accounts/get_brokers/')\n                .then(response => setBrokerData(response['data']))\n                .catch((error) => {\n                    console.error('Error Message:', error);\n                });\n        }, []\n    );\n    useEffect(() => {\n            axios.get(server + 'robots/get_robots/' + robotEnvData)\n                .then(response => setRobotsData(response['data']))\n                .catch((error) => {\n                    console.error('Error Message:', error);\n                });\n        }, []\n    );\n\n    return (\n        <ServerContext.Provider value={{server: server}}>\n            <EnvContext.Provider value={{environment: robotEnvData}}>\n                <RobotContext.Provider value={{robots: robotsData}}>\n                    <PortfolioContext.Provider value={{portfolioData}}>\n                        <DateContext.Provider value={{\n                            startDate: startDate,\n                            endDate: endDate,\n                            saveStartDate: setStartDate,\n                            saveEndDate: setEndDate,\n                            currentDate: currentDate,\n                        }}>\n                            <BrokerContext.Provider value={\n                                {\n                                    brokerData: brokerData\n                                }\n                            }>\n                                <ReactNotification/>\n                                <div className=\"App\">\n                                    <Navigation onEnvChange={getEnvData} env={robotEnvData}/>\n                                    <Switch>\n                                        <Route path=\"/risk\">\n                                            <RiskPage/>\n                                        </Route>\n                                        <Route path=\"/home\">\n                                            <HomePage/>\n                                        </Route>\n                                        <Route path=\"/trade\">\n                                            <TradePage/>\n                                        </Route>\n                                        <Route path=\"/portfolio\">\n                                            <PortfolioPage/>\n                                        </Route>\n                                        <Route path=\"/calculations\">\n                                            <CalculationsPage/>\n                                        </Route>\n                                        <Route path=\"/instruments\">\n                                            <InstrumentPage/>\n                                        </Route>\n                                        <Route path=\"/robot\">\n                                            <RobotPage/>\n                                        </Route>\n                                    </Switch>\n                                </div>\n                            </BrokerContext.Provider>\n                        </DateContext.Provider>\n                    </PortfolioContext.Provider>\n                </RobotContext.Provider>\n            </EnvContext.Provider>\n        </ServerContext.Provider>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { BrowserRouter } from 'react-router-dom';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <React.StrictMode>\n        <BrowserRouter>\n            <App/>\n        </BrowserRouter>\n    </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}