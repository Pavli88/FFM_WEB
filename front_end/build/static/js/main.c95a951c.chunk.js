(this.webpackJsonpffm_web_frontend=this.webpackJsonpffm_web_frontend||[]).push([[0],{118:function(e,t,r){},136:function(e,t,r){},159:function(e,t,r){},160:function(e,t,r){},185:function(e,t,r){},189:function(e,t,r){},190:function(e,t,r){},191:function(e,t,r){},192:function(e,t,r){},213:function(e,t,r){},214:function(e,t,r){},215:function(e,t,r){},216:function(e,t,r){},217:function(e,t,r){},218:function(e,t,r){},219:function(e,t,r){},220:function(e,t,r){},221:function(e,t,r){},222:function(e,t,r){},224:function(e,t,r){"use strict";r.r(t);var a=r(2),c=r.n(a),s=r(53),n=r.n(s),i=(r(159),r(4)),l=(r(160),r(29)),o=r(22),j=r(6),d=r(5),b=r(7),h=c.a.createContext({environment:"live"}),u=h,O=r(3),x=r(1),p=r(10),f=r(8),m=r.n(f),g=(r(36),function(e){var t=Object(a.useState)(e.robot),r=Object(i.a)(t,2),c=r[0],s=(r[1],Object(a.useState)(e.dailyRisk)),n=Object(i.a)(s,2),l=n[0],o=n[1],j=Object(a.useState)(e.tradeLimit),d=Object(i.a)(j,2),b=d[0],h=d[1],u=Object(a.useState)(e.riskOnTrade),f=Object(i.a)(u,2),g=f[0],v=f[1],y=Object(a.useState)(e.pLevel),w=Object(i.a)(y,2),C=w[0],S=(w[1],Object(a.useState)(e.qType)),N=Object(i.a)(S,2),_=N[0],k=N[1],E=Object(a.useState)(e.quantity),D=Object(i.a)(E,2),T=D[0],L=D[1],F=Object(a.useState)(e.sl),M=Object(i.a)(F,2),A=M[0],I=M[1],R=Object(a.useState)(e.winExp),B=Object(i.a)(R,2),P=B[0],G=B[1];return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{style:{verticalAlign:"middle"},children:c}),Object(x.jsx)("td",{style:{verticalAlign:"middle"},children:Object(x.jsx)(O.a.Control,{onChange:function(e){o(e.target.value)},type:"number",placeholder:l})}),Object(x.jsx)("td",{style:{verticalAlign:"middle"},children:Object(x.jsx)(O.a.Control,{onChange:function(e){h(e.target.value)},type:"number",placeholder:b})}),Object(x.jsx)("td",{style:{verticalAlign:"middle"},children:Object(x.jsx)(O.a.Control,{onChange:function(e){v(e.target.value)},type:"number",placeholder:g})}),Object(x.jsx)("td",{style:{verticalAlign:"middle"},children:Object(x.jsxs)(O.a.Control,{onChange:function(e){k(e.target.value)},defaultValue:_,as:"select",children:[Object(x.jsx)("option",{value:"Stop Based",children:"Stop Based"}),Object(x.jsx)("option",{value:"Fix",children:"Fix"})]})}),Object(x.jsx)("td",{style:{verticalAlign:"middle"},children:Object(x.jsx)(O.a.Control,{onChange:function(e){L(e.target.value)},type:"number",placeholder:T})}),Object(x.jsx)("td",{style:{verticalAlign:"middle"},children:Object(x.jsx)(O.a.Control,{onChange:function(e){I(e.target.value)},type:"number",placeholder:A})}),Object(x.jsx)("td",{style:{verticalAlign:"middle"},children:Object(x.jsx)(O.a.Control,{onChange:function(e){G(e.target.value)},type:"number",placeholder:P})}),Object(x.jsx)("td",{style:{verticalAlign:"middle"},children:Object(x.jsx)(p.a,{onClick:function(){m.a.post(e.server+"risk/update_robot_risk/",{robot:c,daily_risk:l,nbm_trades:b,risk_per_trade:g,pyramiding_level:C,quantity_type:_,quantity:T,sl:A,win_exp:P}).then((function(e){return alert("Risk is updated for "+c)})).catch((function(e){console.error("Error Message:",e)}))},children:"Update"})})]})}),v=r(17),y=function(e){var t=Object(a.useContext)(u).environment,r=Object(a.useState)([]),c=Object(i.a)(r,2),s=c[0],n=c[1];Object(a.useEffect)((function(){fetch(e.server+"risk/get_robot_risk/"+t).then((function(e){return e.json()})).then((function(e){return n(e)})).catch((function(e){console.error("Error Message:",e)}))}),[e]),console.log(s);var l=s.map((function(t){return Object(x.jsx)(g,{robot:t.robot,dailyRisk:t.daily_risk,tradeLimit:t.daily_trade_limit,riskOnTrade:t.risk_per_trade,pLevel:t.pyramiding_level,qType:t.quantity_type,quantity:t.quantity,sl:t.sl,winExp:t.win_exp,server:e.server},t.id)}));return Object(x.jsxs)(v.a,{children:[Object(x.jsx)("thead",{style:{fontSize:12},children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{style:{verticalAlign:"middle"},children:"Robot"}),Object(x.jsx)("th",{style:{verticalAlign:"middle"},children:"Daily Loss Limit %"}),Object(x.jsx)("th",{style:{verticalAlign:"middle"},children:"Max Number of Trades (Daily)"}),Object(x.jsx)("th",{style:{verticalAlign:"middle"},children:"Risk Exposure %"}),Object(x.jsx)("th",{style:{verticalAlign:"middle"},children:"Quantity Type"}),Object(x.jsx)("th",{style:{verticalAlign:"middle"},children:"Quantity"}),Object(x.jsx)("th",{style:{verticalAlign:"middle"},children:"SL"}),Object(x.jsx)("th",{style:{verticalAlign:"middle"},children:"Win Exp %"}),Object(x.jsx)("th",{})]})}),Object(x.jsx)("tbody",{children:l})]})},w=c.a.createContext(),C=w,S=function(){var e=Object(a.useContext)(C).server;return Object(x.jsx)(o.a,{className:"border",style:{background:"#FBFAFA",width:"100%",height:window.innerHeight,padding:"20px"},fluid:!0,children:Object(x.jsx)(j.a,{children:Object(x.jsx)(d.a,{children:Object(x.jsx)(o.a,{children:Object(x.jsxs)(b.a,{className:"card",children:[Object(x.jsx)(b.a.Title,{className:"card-header-first",children:" Robot Risk Parameters"}),Object(x.jsx)(y,{server:e})]})})})})})},N=r(25),_=(r(136),function(e){var t=Object(a.useState)([]),r=Object(i.a)(t,2),c=r[0],s=r[1];Object(a.useEffect)((function(){m.a.get(e.server+"home/load_robot_stats/"+e.env).then((function(e){return e.data})).then((function(e){return s(e)})).catch((function(e){console.error("Error Message:",e)}))}),[e]);var n=c.map((function(e){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"table-row",children:e.robot.name}),Object(x.jsx)("td",{className:"table-row",style:{color:e.balance<0?"red":"green"},children:e.balance}),Object(x.jsxs)("td",{className:"table-row",style:{color:e.dtd_ret<0?"red":"green"},children:[e.dtd_ret," %"]}),Object(x.jsxs)("td",{className:"table-row",style:{color:e.mtd_ret<0?"red":"green"},children:[e.mtd_ret," %"]}),Object(x.jsxs)("td",{className:"table-row",style:{color:e.ytd_ret<0?"red":"green"},children:[e.ytd_ret," %"]})]},e.robot.id)}));return Object(x.jsx)(j.a,{style:{height:"450px",width:"100%",margin:"15px"},children:Object(x.jsx)(b.a,{className:"card",style:{margin:"0px"},children:Object(x.jsx)("div",{style:{height:"500px",overflowY:"scroll",overflowX:"hidden"},children:Object(x.jsxs)(v.a,{children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{className:"table-header",children:"Robot"}),Object(x.jsx)("th",{className:"table-header",children:"Balance"}),Object(x.jsx)("th",{className:"table-header",children:"DTD"}),Object(x.jsx)("th",{className:"table-header",children:"MTD"}),Object(x.jsx)("th",{className:"table-header",children:"YTD"})]})}),Object(x.jsx)("tbody",{children:n})]})})})})}),k=r(19),E=r.n(k),D=c.a.createContext(),T=D,L=r(11),F=function(e){var t=Object(a.useState)(""),r=Object(i.a)(t,2),c=r[0],s=r[1];return Object(a.useEffect)((function(){m.a.get(e.url,{params:e.params}).then((function(t){return t.data.map((function(t){return Object(x.jsx)("option",{value:t[e.code],children:t[e.value]},t.id)}))})).then((function(e){return s(e)})).catch((function(e){console.error("Error Message:",e)}))}),[e]),c},M=function(e){var t={options:{chart:{type:"bar",toolbar:!1,id:e.id},colors:[function(e){return e.value<0?"#E32227":"#007500"}],xaxis:{categories:[],labels:{show:!1}},yaxis:[{labels:{formatter:function(e){return e.toFixed(0)}},title:{text:"Profit"}}],dataLabels:{enabled:!1}},series:[{name:"series-1",data:e.data}]};return Object(x.jsxs)(b.a,{className:"card",style:{margin:"2px",height:"100%"},children:[Object(x.jsx)(b.a.Title,{className:"card-header-first",children:e.title}),Object(x.jsx)(b.a.Body,{style:{padding:"0px"},children:Object(x.jsx)(E.a,{options:t.options,series:t.series,type:"bar",width:"100%",height:"100%"})})]})},A=function(e){var t,r=Object(a.useState)([]),c=Object(i.a)(r,2),s=c[0],n=c[1];return Object(a.useEffect)((function(){m.a.get(e.server+"home/daily_robot_balances",{params:{env:e.env}}).then((function(e){return n(e.data.map((function(e){return e.y})))})).catch((function(e){console.error("Error Message:",e)}))}),[e]),Object(x.jsxs)(j.a,{style:{height:"600px",width:"100%",margin:"0px",padding:"0px"},children:[Object(x.jsx)(d.a,{style:{height:"100%",width:"50%"},children:Object(x.jsx)(M,{data:(t=s,t.reduce((function(e,t){var r=e.sum,a=e.res;return r+=t,a.push(r),{sum:r,res:a}}),{sum:0,res:[]}).res),title:"Total Cumulative Year to Date P&L",id:"aggregated-pnl-chart"})}),Object(x.jsx)(d.a,{style:{height:"100%",width:"50%"},children:Object(x.jsx)(M,{data:s,title:"Daily P&L",id:"daily-aggregated-pnl-chart"})})]})},I=function(e){return Object(x.jsxs)(b.a,{className:"card",style:{margin:"0px"},children:[Object(x.jsx)(b.a.Title,{style:{margin:"0px"},className:"card-header-first",children:e.title}),Object(x.jsx)(b.a.Body,{style:{display:"flex",justifyContent:"center",padding:"5px"},children:e.children})]})},R=function(e){var t=(new Date).toISOString().substr(0,10),r=Object(a.useState)(0),c=Object(i.a)(r,2),s=c[0],n=c[1],l=Object(a.useState)(0),o=Object(i.a)(l,2),b=o[0],h=o[1],u=Object(a.useState)(0),O=Object(i.a)(u,2),p=O[0],f=O[1];return Object(a.useEffect)((function(){m.a.get(e.server+"home/total_robot_pnl/",{params:{start_date:t,env:e.env}}).then((function(e){return n(e.data[0].data)})).catch((function(e){console.error("Error Message:",e)}))}),[e]),Object(a.useEffect)((function(){m.a.get(e.server+"home/total_robot_pnl/",{params:{start_date:t.substr(0,7)+"-01",env:e.env}}).then((function(e){return h(e.data[0].data)})).catch((function(e){console.error("Error Message:",e)}))}),[e]),Object(a.useEffect)((function(){m.a.get(e.server+"home/total_robot_pnl/",{params:{start_date:t.substr(0,4)+"-01-01",env:e.env}}).then((function(e){return f(e.data[0].data)})).catch((function(e){console.error("Error Message:",e)}))}),[e]),Object(x.jsxs)(j.a,{style:{height:"150px",width:"100%",margin:"0px",padding:"10px"},children:[Object(x.jsx)(d.a,{style:{height:"100%"},children:Object(x.jsx)(I,{title:"DTD",children:Object(x.jsx)("h1",{style:{margin:"auto",verticalAlign:"middle",color:s<0?"red":"green"},children:s})})}),Object(x.jsx)(d.a,{style:{height:"100%"},children:Object(x.jsx)(I,{title:"MTD",children:Object(x.jsx)("h1",{style:{margin:"auto",verticalAlign:"middle",color:b<0?"red":"green"},children:b})})}),Object(x.jsx)(d.a,{style:{height:"100%"},children:Object(x.jsx)(I,{title:"YTD",children:Object(x.jsx)("h1",{style:{margin:"auto",verticalAlign:"middle",color:p<0?"red":"green"},children:p})})})]})},B=function(e){var t={options:{labels:e.labels,dataLabels:{enabled:!0,formatter:function(e){return Math.round(100*e)/100+"%"}}},series:e.data};return Object(x.jsxs)(b.a,{className:"card",style:{margin:"0px"},children:[Object(x.jsx)(b.a.Title,{className:"card-header-first",children:e.title}),Object(x.jsx)(b.a.Body,{style:{padding:"0px"},children:Object(x.jsx)(j.a,{style:{height:"100%"},children:Object(x.jsx)(d.a,{style:{height:"100%"},children:Object(x.jsx)(E.a,{options:t.options,series:t.series,type:"donut",width:"100%",height:"100%"})})})})]})},P=function(e){var t=Object(a.useState)([]),r=Object(i.a)(t,2),c=r[0],s=r[1],n=Object(a.useState)([]),l=Object(i.a)(n,2),o=l[0],b=l[1],h=c.reduce((function(e,t){return e+t}),0);return Object(a.useEffect)((function(){m.a.get(e.server+"home/total_robot_balances_by_date/",{params:{env:e.env}}).then((function(e){s(e.data.map((function(e){return e.y}))),b(e.data.map((function(e){return e.x})))})).catch((function(e){console.error("Error Message:",e)}))}),[e]),Object(x.jsxs)(j.a,{style:{height:"300px",width:"100%",margin:"0px",padding:"0px"},children:[Object(x.jsx)(d.a,{style:{height:"100%"},children:Object(x.jsx)(I,{title:"Total Balance",children:Object(x.jsx)("h1",{style:{margin:"auto",verticalAlign:"middle"},children:Math.round(100*h)/100})})}),Object(x.jsx)(d.a,{style:{height:"100%"},children:Object(x.jsx)(B,{title:"Balance by Robots",data:c,labels:o})})]})},G=r(38),z=function(e){Math.max.apply(Math,Object(G.a)(e.data));console.log(e.data);var t={options:{plotOptions:{bar:{horizontal:e.horizontal}},xaxis:{categories:[],labels:{show:!1}},yaxis:[{tickAmount:10,labels:{show:!0,style:{colors:[],fontSize:"12px",fontFamily:"Helvetica, Arial, sans-serif",fontWeight:400,cssClass:"apexcharts-yaxis-label"}}}],dataLabels:{enabled:!0}},series:[{name:"Aggregated Robot Profit and Loss",data:e.data}]};return Object(x.jsxs)(b.a,{className:"card",style:{margin:"0px"},children:[Object(x.jsx)(b.a.Title,{className:"card-header-first",children:e.title}),Object(x.jsx)(b.a.Body,{style:{padding:"0px"},children:Object(x.jsx)(j.a,{style:{height:"100%"},children:Object(x.jsx)(d.a,{style:{height:"100%"},children:Object(x.jsx)(E.a,{options:t.options,series:t.series,type:"bar",width:"100%",height:"100%"})})})})]})},H=function(e){var t=(new Date).toISOString().substr(0,10),r=Object(a.useState)([]),c=Object(i.a)(r,2),s=c[0],n=c[1],l=Object(a.useState)([]),o=Object(i.a)(l,2),b=o[0],h=o[1],u=Object(a.useState)([]),O=Object(i.a)(u,2),p=O[0],f=O[1];return Object(a.useEffect)((function(){m.a.get(e.server+"home/robot_pnl/",{params:{start_date:t,env:e.env}}).then((function(e){return n(e.data)})).catch((function(e){console.error("Error Message:",e)}))}),[e]),Object(a.useEffect)((function(){m.a.get(e.server+"home/robot_pnl/",{params:{start_date:t.substr(0,7)+"-01",env:e.env}}).then((function(e){return h(e.data)})).catch((function(e){console.error("Error Message:",e)}))}),[e]),Object(a.useEffect)((function(){m.a.get(e.server+"home/robot_pnl/",{params:{start_date:t.substr(0,4)+"-01-01",env:e.env}}).then((function(e){return f(e.data)})).catch((function(e){console.error("Error Message:",e)}))}),[e]),Object(x.jsxs)(j.a,{style:{height:"300px",width:"100%",margin:"0px",padding:"10px"},children:[Object(x.jsx)(d.a,{style:{height:"100%"},children:Object(x.jsx)(z,{data:s,horizontal:!1,xLabel:!0})}),Object(x.jsx)(d.a,{style:{height:"100%"},children:Object(x.jsx)(z,{data:b,horizontal:!1,xLabel:!0})}),Object(x.jsx)(d.a,{style:{height:"100%"},children:Object(x.jsx)(z,{data:p,horizontal:!1,xLabel:!0})})]})},q=(r(184),r(185),function(e){var t=Object(a.useContext)(u).environment,r=Object(a.useContext)(C).server,c=(new Date).toISOString().substr(0,10),s=Object(a.useState)(c),n=Object(i.a)(s,2);n[0],n[1];return Object(x.jsx)(o.a,{style:{background:"#FBFAFA",width:"100%",height:window.innerHeight},fluid:!0,children:Object(x.jsxs)(j.a,{style:{height:window.innerHeight},children:[Object(x.jsxs)(d.a,{style:{height:"800px",width:"50%",margin:"15px"},children:[Object(x.jsx)("h4",{style:{textAlign:"left",marginTop:"0px",marginBottom:"15px"},children:"Balance"}),Object(x.jsx)(P,{server:r,env:t}),Object(x.jsx)("h4",{style:{textAlign:"left",marginTop:"15px"},children:"Total Robot Results"}),Object(x.jsx)(A,{server:r,env:t})]}),Object(x.jsxs)(d.a,{style:{height:"800px",width:"50%",margin:"15px"},children:[Object(x.jsx)("h4",{children:"Profit"}),Object(x.jsx)(R,{server:r,env:t}),Object(x.jsx)(H,{server:r,env:t}),Object(x.jsx)("h4",{children:"Performance"}),Object(x.jsx)(_,Object(N.a)({server:r,env:t},"env",t))]})]})})}),V=r(27),U=function(e){var t=Object(a.useState)(""),r=Object(i.a)(t,2),c=r[0],s=r[1],n=Object(a.useState)(""),l=Object(i.a)(n,2),o=l[0],j=l[1],d=Object(a.useState)("Trade"),b=Object(i.a)(d,2),h=b[0],u=b[1],f=Object(a.useState)("USD"),g=Object(i.a)(f,2),v=g[0],y=g[1],w=Object(a.useState)(),C=Object(i.a)(w,2),S=C[0],N=C[1],_=function(){e.hide()},k=function(t){t.preventDefault(),m.a.post(e.server+"portfolios/new/",{port_name:c,port_type:h,port_currency:v,port_code:o,inception_date:S}).then((function(t){"New Portfolio is created!"==t.data?(alert("New portfolio is created!"),e.hide()):alert(t.data)})).catch((function(e){console.error("Error Message:",e)}))};return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(L.a,{show:e.show,onHide:_,children:[Object(x.jsx)(L.a.Header,{closeButton:!0,children:Object(x.jsx)(L.a.Title,{children:"New Portfolio"})}),Object(x.jsx)(L.a.Body,{children:Object(x.jsxs)(O.a,{onSubmit:k,style:{width:"100%"},children:[Object(x.jsxs)(O.a.Group,{children:[Object(x.jsx)(O.a.Label,{children:"Portfolio Name"}),Object(x.jsx)(O.a.Control,{onChange:function(e){s(e.target.value)},type:"text",placeholder:"Portfolio Name",required:!0})]}),Object(x.jsxs)(O.a.Group,{children:[Object(x.jsx)(O.a.Label,{children:"Portfolio Code"}),Object(x.jsx)(O.a.Control,{onChange:function(e){j(e.target.value)},type:"text",placeholder:"Portfolio Code",required:!0})]}),Object(x.jsxs)(O.a.Group,{children:[Object(x.jsx)(O.a.Label,{children:"Portfolio Type"}),Object(x.jsxs)(O.a.Control,{onChange:function(e){u(e.target.value)},as:"select",children:[Object(x.jsx)("option",{value:"Trade",children:"Trade"}),Object(x.jsx)("option",{value:"Savings",children:"Savings"}),Object(x.jsx)("option",{value:"Investment",children:"Investment"})]})]}),Object(x.jsxs)(O.a.Group,{children:[Object(x.jsx)(O.a.Label,{children:"Portfolio Currency"}),Object(x.jsxs)(O.a.Control,{onChange:function(e){y(e.target.value)},as:"select",children:[Object(x.jsx)("option",{value:"USD",children:"USD"}),Object(x.jsx)("option",{value:"HUF",children:"HUF"}),Object(x.jsx)("option",{value:"EUR",children:"EUR"})]})]}),Object(x.jsxs)(O.a.Group,{children:[Object(x.jsx)(O.a.Label,{children:"Portfolio Inception Date"}),Object(x.jsx)(O.a.Control,{onChange:function(e){N(e.target.value)},type:"date",defaultValue:S})]})]})}),Object(x.jsxs)(L.a.Footer,{children:[Object(x.jsx)(p.a,{variant:"secondary",onClick:_,children:"Close"}),Object(x.jsx)(p.a,{variant:"primary",onClick:k,children:"Save"})]})]})})},Y=r(18),X=(r(138),r(245)),Q=r(72),W=r.n(Q),K=r(73),J=r.n(K),Z=r(242),$=function(e){var t=new Date,r=new Date(t.getFullYear(),t.getMonth(),1),c=Object(a.useState)(r.toISOString().substr(0,10)),s=Object(i.a)(c,2),n=s[0],l=s[1],o=Object(a.useState)(t.toISOString().substr(0,10)),b=Object(i.a)(o,2),h=b[0],u=b[1],f=Object(a.useState)([]),g=Object(i.a)(f,2),v=g[0],y=g[1],w=v.map((function(e,t){return Object(x.jsx)(Z.a,{nodeId:t.toString(),label:e.portfolio,children:e.response.map((function(e,r){return Object(x.jsx)(Z.a,{nodeId:t.toString()+r.toString(),label:e.date,children:e.msgs.map((function(e){return Object(x.jsx)(Z.a,{label:e.msg})}))})}))})})),C=function(e){e.target.checked},S=function(t){t.preventDefault(),m.a.post(e.server+"portfolios/positions/",{portfolio:e.portfolio,start_date:n,end_date:h}).then((function(e){return y(e.data)})).catch((function(e){console.error("Error Message:",e)}))};return Object(x.jsxs)(L.a,{show:e.show,onHide:function(){e.hide()},size:"xl",children:[Object(x.jsx)(L.a.Header,{closeButton:!0,children:Object(x.jsxs)(L.a.Title,{children:["Portfolio Position Calculation - ",e.portfolio]})}),Object(x.jsx)(L.a.Body,{style:{height:"300px"},children:Object(x.jsxs)(j.a,{style:{height:"100%"},children:[Object(x.jsx)(d.a,{style:{height:"100%"},children:Object(x.jsx)(O.a,{onSubmit:S,style:{width:"100%",height:"100%"},children:Object(x.jsxs)(j.a,{style:{height:"60px",width:"100%",padding:"5px",margin:"5px"},children:[Object(x.jsx)(j.a,{style:{width:"100%",margin:"0px"},children:Object(x.jsxs)(O.a.Group,{style:{width:"100%",margin:"0px"},children:[Object(x.jsx)(O.a.Label,{className:"form-label-first",column:!0,sm:2,children:"From"}),Object(x.jsx)(d.a,{sm:10,children:Object(x.jsx)(O.a.Control,{type:"date",onChange:function(e){l(e.target.value)},defaultValue:r.toISOString().substr(0,10)})})]})}),Object(x.jsx)(j.a,{style:{width:"100%",margin:"0px"},children:Object(x.jsxs)(O.a.Group,{style:{width:"100%"},children:[Object(x.jsx)(O.a.Label,{className:"form-label-first",column:!0,sm:2,children:"To"}),Object(x.jsx)(d.a,{sm:10,children:Object(x.jsx)(O.a.Control,{type:"date",onChange:function(e){u(e.target.value)},defaultValue:t.toISOString().substr(0,10)})})]})})]})})}),Object(x.jsx)(d.a,{style:{height:"100%"},children:Object(x.jsx)(X.a,{"aria-label":"file system navigator",defaultCollapseIcon:Object(x.jsx)(W.a,{}),defaultExpandIcon:Object(x.jsx)(J.a,{}),sx:{height:"100%",flexGrow:1,maxWidth:"100%",overflowY:"auto"},children:w})})]})}),Object(x.jsx)(L.a.Footer,{style:{width:"100%",margin:"0px"},children:Object(x.jsxs)(j.a,{style:{width:"100%",margin:"0px"},children:[Object(x.jsx)(d.a,{children:Object(x.jsxs)(j.a,{children:[Object(x.jsx)(d.a,{children:Object(x.jsx)(O.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:Object(x.jsx)(O.a.Check,{onClick:C,type:"checkbox",label:"All Portfolios"})})}),Object(x.jsx)(d.a,{children:Object(x.jsx)(O.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:Object(x.jsx)(O.a.Check,{onClick:C,type:"checkbox",label:"Since Inception"})})})]})}),Object(x.jsx)(d.a,{children:Object(x.jsx)(O.a.Group,{style:{width:"100%"},children:Object(x.jsx)(d.a,{sm:10,children:Object(x.jsx)(p.a,{variant:"primary",onClick:S,style:{width:"100%"},children:"Calculate"})})})})]})})]})},ee=function(e){var t=new Date,r=new Date(t.getFullYear(),t.getMonth(),1),c=Object(a.useState)(r.toISOString().substr(0,10)),s=Object(i.a)(c,2),n=s[0],l=s[1],o=Object(a.useState)(t.toISOString().substr(0,10)),b=Object(i.a)(o,2),h=b[0],u=b[1],f=Object(a.useState)([]),g=Object(i.a)(f,2),v=g[0],y=g[1],w=Object(a.useState)(e.portfolio),C=Object(i.a)(w,2),S=(C[0],C[1]),N=v.map((function(e,t){var r=e.response.map((function(e){return Object(x.jsx)(Z.a,{label:e.date+" "+e.msg})}));return Object(x.jsx)(Z.a,{nodeId:t.toString(),label:e.portfolio,children:r})})),_=function(t){t.preventDefault(),m.a.post(e.server+"portfolios/cash_holding/",{portfolio:e.portfolio,start_date:n,end_date:h}).then((function(e){return y(e.data)})).catch((function(e){console.error("Error Message:",e)}))};return Object(x.jsxs)(L.a,{show:e.show,onHide:function(){e.hide()},size:"xl",children:[Object(x.jsx)(L.a.Header,{closeButton:!0,children:Object(x.jsxs)(L.a.Title,{children:["Cash Holding Calculation - ",e.portfolio]})}),Object(x.jsx)(L.a.Body,{style:{width:"100%",height:"300px"},children:Object(x.jsxs)(j.a,{style:{height:"100%"},children:[Object(x.jsx)(d.a,{style:{height:"100%"},children:Object(x.jsx)(O.a,{onSubmit:_,style:{width:"100%",height:"100%"},children:Object(x.jsxs)(j.a,{style:{height:"60px",width:"100%",padding:"5px",margin:"5px"},children:[Object(x.jsx)(j.a,{style:{width:"100%",margin:"0px"},children:Object(x.jsxs)(O.a.Group,{style:{width:"100%",margin:"0px"},children:[Object(x.jsx)(O.a.Label,{className:"form-label-first",column:!0,sm:2,children:"From"}),Object(x.jsx)(d.a,{sm:10,children:Object(x.jsx)(O.a.Control,{type:"date",onChange:function(e){l(e.target.value)},defaultValue:r.toISOString().substr(0,10)})})]})}),Object(x.jsx)(j.a,{style:{width:"100%",margin:"0px"},children:Object(x.jsxs)(O.a.Group,{style:{width:"100%"},children:[Object(x.jsx)(O.a.Label,{className:"form-label-first",column:!0,sm:2,children:"To"}),Object(x.jsx)(d.a,{sm:10,children:Object(x.jsx)(O.a.Control,{type:"date",onChange:function(e){u(e.target.value)},defaultValue:t.toISOString().substr(0,10)})})]})})]})})}),Object(x.jsx)(d.a,{style:{height:"100%"},children:Object(x.jsx)(X.a,{"aria-label":"file system navigator",defaultCollapseIcon:Object(x.jsx)(W.a,{}),defaultExpandIcon:Object(x.jsx)(J.a,{}),sx:{height:"100%",flexGrow:1,maxWidth:"100%",overflowY:"auto"},children:N})})]})}),Object(x.jsx)(L.a.Footer,{style:{width:"100%",margin:"0px"},children:Object(x.jsxs)(j.a,{style:{width:"100%",margin:"0px"},children:[Object(x.jsx)(d.a,{children:Object(x.jsx)(O.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:Object(x.jsx)(O.a.Check,{onClick:function(t){t.target.checked?S("ALL"):S(e.portfolio),console.log(t.target.checked)},type:"checkbox",label:"All Portfolios"})})}),Object(x.jsx)(d.a,{children:Object(x.jsx)(O.a.Group,{style:{width:"100%"},children:Object(x.jsx)(d.a,{sm:10,children:Object(x.jsx)(p.a,{variant:"primary",onClick:_,style:{width:"100%"},children:"Calculate"})})})})]})})]})},te=(r(118),function(e){var t=Object(a.useState)(""),r=Object(i.a)(t,2),c=r[0],s=r[1],n=Object(a.useState)(""),l=Object(i.a)(n,2),o=l[0],j=l[1],d=Object(a.useState)(""),b=Object(i.a)(d,2),h=b[0],u=b[1],f=Object(a.useState)("live"),g=Object(i.a)(f,2),v=g[0],y=g[1],w=Object(a.useState)("USD"),C=Object(i.a)(w,2),S=C[0],N=C[1],_=function(){e.hide()};return Object(x.jsxs)(L.a,{show:e.show,onHide:_,animation:!1,children:[Object(x.jsx)(L.a.Header,{closeButton:!0,children:Object(x.jsx)(L.a.Title,{children:"New Account"})}),Object(x.jsxs)(L.a.Body,{children:[Object(x.jsx)(O.a.Group,{children:Object(x.jsx)(O.a.Control,{onChange:function(e){s(e.target.value)},type:"text",placeholder:"Broker Name"})}),Object(x.jsx)(O.a.Group,{children:Object(x.jsx)(O.a.Control,{onChange:function(e){j(e.target.value)},type:"text",placeholder:"Account Number"})}),Object(x.jsx)(O.a.Group,{children:Object(x.jsx)(O.a.Control,{onChange:function(e){u(e.target.value)},type:"text",placeholder:"Token"})}),Object(x.jsxs)(O.a.Group,{children:[Object(x.jsx)(O.a.Label,{children:"Environment"}),Object(x.jsxs)(O.a.Control,{onChange:function(e){y(e.target.value)},as:"select",children:[Object(x.jsx)("option",{value:"live",children:"Live"}),Object(x.jsx)("option",{value:"demo",children:"Demo"})]})]}),Object(x.jsxs)(O.a.Group,{children:[Object(x.jsx)(O.a.Label,{children:"Currency"}),Object(x.jsxs)(O.a.Control,{onChange:function(e){N(e.target.value)},as:"select",children:[Object(x.jsx)("option",{value:"USD",children:"USD"}),Object(x.jsx)("option",{value:"EUR",children:"EUR"})]})]})]}),Object(x.jsxs)(L.a.Footer,{children:[Object(x.jsx)(p.a,{variant:"secondary",onClick:_,children:"Close"}),Object(x.jsx)(p.a,{variant:"primary",onClick:function(){m.a.post(e.server+"accounts/new_account/",{broker_name:c,account_number:o,env:v,token:h,currency:S}).then((function(e){return alert(e.data)})).catch((function(e){console.error("Error Message:",e)})),s(""),j(""),u(""),y("live"),N("USD"),e.hide()},children:"Save"})]})]})}),re=c.a.createContext(),ae=function(e){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("h2",{children:"Portfolio Risk"})})},ce=function(){var e=new Date,t=Object(a.useState)(e.toISOString().substr(0,10)),r=Object(i.a)(t,2),c=(r[0],r[1]);return Object(x.jsxs)(b.a,{className:"card",children:[Object(x.jsxs)(j.a,{children:[Object(x.jsx)(d.a,{children:Object(x.jsx)(b.a.Title,{className:"card-header-first",children:"Holdings"})}),Object(x.jsx)(d.a,{children:Object(x.jsxs)(O.a.Group,{as:j.a,style:{margin:"0px",padding:"5px"},children:[Object(x.jsx)(O.a.Label,{className:"form-label-first",column:!0,sm:2,children:"Date"}),Object(x.jsx)(d.a,{sm:10,children:Object(x.jsx)(O.a.Control,{type:"date",onChange:function(e){c(e.target.value)},defaultValue:e.toISOString().substr(0,10)})})]})})]}),Object(x.jsx)("div",{style:{height:"100%",overflowY:"scroll",overflowX:"hidden"},children:Object(x.jsxs)(v.a,{children:[Object(x.jsx)("thead",{className:"table-header-first",children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"table-header-row",children:"Starting Quantity"}),Object(x.jsx)("td",{className:"table-header-row",children:"Price"}),Object(x.jsx)("td",{className:"table-header-row",children:"Market Value"}),Object(x.jsx)("td",{className:"table-header-row",children:"Trade Date"}),Object(x.jsx)("td",{className:"table-header-row",children:"Instrument"}),Object(x.jsx)("td",{className:"table-header-row",children:"Instrument Type"}),Object(x.jsx)("td",{className:"table-header-row",children:"Source"})]})}),Object(x.jsx)("tbody",{})]})})]})},se=function(e){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(ce,{})})},ne=(r(189),function(e){return Object(x.jsxs)(b.a,{className:"card",style:{margin:"0px"},children:[Object(x.jsx)(b.a.Title,{className:"card-header-first",children:"Portfolio Summary"}),Object(x.jsx)(b.a.Body,{children:Object(x.jsx)("div",{style:{height:"100%"},children:Object(x.jsx)(v.a,{id:"cash-flow-table",children:Object(x.jsxs)("tbody",{style:{height:"100%",overflow:"scroll"},children:[Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"table-row-text",children:"Portfolio Name"}),Object(x.jsx)("td",{className:"table-row",children:e.data[0].portfolio_name})]},1),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"table-row-text",children:"Portfolio Code"}),Object(x.jsx)("td",{className:"table-row",children:e.data[0].portfolio_code})]},2),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"table-row-text",children:"Portfolio Type"}),Object(x.jsx)("td",{className:"table-row",children:e.data[0].portfolio_type})]},3),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"table-row-text",children:"Manager"}),Object(x.jsx)("td",{className:"table-row",children:"Pavlicsek Attila"})]},4),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"table-row-text",children:"Inception Date"}),Object(x.jsx)("td",{className:"table-row",children:e.data[0].inception_date})]},5),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"table-row-text",children:"Currency"}),Object(x.jsx)("td",{className:"table-row",children:e.data[0].currency})]},6),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"table-row-text",children:"Status"}),Object(x.jsx)("td",{className:"table-row",children:"Funded"})]},7),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"table-row-text",children:"Asset Type"}),Object(x.jsx)("td",{className:"table-row",children:"Fixed Income"})]},7)]})})})})]})}),ie=function(e){var t={options:{chart:{type:"area",toolbar:!1,id:"basic-bar",zoom:{enabled:!1}},xaxis:{categories:[],labels:{show:!1},axisBorder:{show:!1,color:"#78909C",height:1,width:"100%",offsetX:0,offsetY:0},axisTicks:{show:!1,borderType:"solid",color:"#78909C",height:6,offsetX:0,offsetY:0}},yaxis:[{labels:{formatter:function(e){return e.toFixed(0)}}}],dataLabels:{enabled:!1}},stroke:{curve:"straight"},title:{text:"Cumulative Return",align:"left",margin:10,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:"bold",color:"#263238"}},series:[{type:"area",name:"Cumulative Return",data:e.data}]};return Object(x.jsxs)(b.a,{className:"card",style:{margin:"0px"},children:[Object(x.jsx)(b.a.Title,{className:"card-header-first",children:"Cumulative Return"}),Object(x.jsx)(b.a.Body,{style:{padding:"0px"},children:Object(x.jsx)(j.a,{style:{height:"100%",width:"100%",margin:"0px"},children:Object(x.jsx)(d.a,{style:{height:"100%"},children:Object(x.jsx)("div",{style:{padding:"0px",height:"100%"},children:Object(x.jsx)(E.a,{options:t.options,series:t.series,type:"area",width:"100%",height:"100%"})})})})})]})},le=function(e){var t={options:{chart:{type:"area",toolbar:!1,id:"portfolio-nav-chart",zoom:{enabled:!1}},xaxis:{categories:[],labels:{show:!1},axisBorder:{show:!1,color:"#78909C",height:1,width:"100%",offsetX:0,offsetY:0},axisTicks:{show:!1,borderType:"solid",color:"#78909C",height:6,offsetX:0,offsetY:0}},yaxis:[{labels:{formatter:function(e){return e.toFixed(0)}}}],dataLabels:{enabled:!1}},stroke:{curve:"straight"},title:{text:"NAV History",align:"left",margin:10,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:"bold",color:"#263238"}},series:[{type:"area",name:"NAV History",data:e.data}]};return Object(x.jsxs)(b.a,{className:"card",style:{margin:"0px"},children:[Object(x.jsx)(b.a.Title,{className:"card-header-first",children:"NAV History"}),Object(x.jsx)(b.a.Body,{style:{padding:"0px"},children:Object(x.jsx)(j.a,{style:{height:"100%",width:"100%",margin:"0px"},children:Object(x.jsx)(d.a,{style:{height:"100%"},children:Object(x.jsx)("div",{style:{padding:"0px",height:"100%"},children:Object(x.jsx)(E.a,{options:t.options,series:t.series,type:"area",width:"100%",height:"100%"})})})})})]})},oe=(r(190),function(e){var t=e.data.map((function(e){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"table-row-name",children:e.currency}),Object(x.jsx)("td",{className:"table-row-value",children:e.amount})]},e.id)}));return Object(x.jsxs)(b.a,{className:"card",style:{margin:"0px"},children:[Object(x.jsx)(b.a.Title,{className:"card-header-first",children:"Available Cash"}),Object(x.jsx)(b.a.Body,{children:Object(x.jsx)("div",{style:{height:"100%"},children:Object(x.jsx)(v.a,{id:"cash-flow-table",children:Object(x.jsx)("tbody",{style:{height:"100%",overflow:"scroll"},children:t})})})})]})}),je=(r(191),function(e){var t=e.data.map((function(e){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"table-row-name",children:e.name}),Object(x.jsx)("td",{className:"table-row-value",children:e.value})]},e.id)}));return console.log(e.data),Object(x.jsxs)(b.a,{className:"card",style:{margin:"0px"},children:[Object(x.jsx)(b.a.Title,{className:"card-header-first",children:"Cash Details"}),Object(x.jsx)(b.a.Body,{children:Object(x.jsx)("div",{style:{height:"100%"},children:Object(x.jsx)(v.a,{id:"cash-flow-table",children:Object(x.jsx)("tbody",{style:{height:"100%",overflow:"scroll"},children:t})})})})]})}),de=c.a.createContext({}),be=function(e){Object(a.useContext)(de).startDate;var t=Object(a.useContext)(de).endDate,r=Object(a.useState)([]),c=Object(i.a)(r,2),s=c[0],n=(c[1],Object(a.useState)()),l=Object(i.a)(n,2),o=l[0],b=l[1],h=Object(a.useState)([]),u=Object(i.a)(h,2),O=u[0],p=u[1],f=Object(a.useState)([]),g=Object(i.a)(f,2),v=g[0],y=g[1],w=s.map((function(e){return e.total}));return Object(a.useEffect)((function(){m.a.get(e.server+"portfolios/cash/total/by_type/"+e.portfolio,{params:{portfolio_code:e.portfolio}}).then((function(e){return y(e.data)})).catch((function(e){console.error("Error Message:",e)})),m.a.get(e.server+"portfolios/get_portfolio_data/"+e.portfolio).then((function(e){return e.data.map((function(e){return e}))})).then((function(e){return b(Object(x.jsx)(ne,{data:e}))})).catch((function(e){console.error("Error Message:",e)})),m.a.get(e.server+"portfolios/cash/holding/"+t,{params:{portfolio_code:e.portfolio}}).then((function(e){return p(e.data)})).catch((function(e){console.error("Error Message:",e)}))}),[e]),Object(x.jsxs)(j.a,{style:{width:"100%",height:"100%",margin:"0px"},children:[Object(x.jsx)(d.a,{children:Object(x.jsxs)(j.a,{style:{width:"100%",height:"100%",margin:"0px",padding:"0px"},children:[Object(x.jsx)(d.a,{style:{height:"50%"},children:Object(x.jsx)(j.a,{style:{height:"100%",paddingBottom:"5px"},children:o})}),Object(x.jsxs)(d.a,{style:{height:"50%"},children:[Object(x.jsx)(j.a,{style:{height:"50%",paddingBottom:"5px"},children:Object(x.jsx)(oe,{data:O})}),Object(x.jsx)(j.a,{style:{height:"50%",paddingBottom:"5px"},children:Object(x.jsx)(je,{data:v})})]})]})}),Object(x.jsx)(d.a,{children:Object(x.jsx)(j.a,{style:{width:"100%",height:"100%",margin:"0px"},children:Object(x.jsx)(d.a,{style:{height:"50%"},children:Object(x.jsx)(le,{data:w})})})})]})},he=function(e){return Object(x.jsxs)(o.a,{children:[Object(x.jsx)(j.a,{children:Object(x.jsxs)(b.a,{className:"card",children:[Object(x.jsx)(b.a.Title,{className:"card-header-first",children:"Settings"}),Object(x.jsx)("p",{children:"set portfolio status - active or inactive"}),Object(x.jsx)("p",{children:"is robot trading allowed on the portfolio ?"})]})}),Object(x.jsx)(j.a,{children:Object(x.jsxs)(b.a,{className:"card",children:[Object(x.jsx)(b.a.Title,{className:"card-header-first",children:"Valuation"}),Object(x.jsx)("p",{children:"frequency"}),Object(x.jsx)("p",{children:"valuation day"})]})}),Object(x.jsx)(j.a,{children:Object(x.jsx)(b.a,{className:"card",children:Object(x.jsx)(b.a.Title,{className:"card-header-first",children:"Trade Routing"})})})]})},ue=function(e){return Object(x.jsx)(he,{})},Oe=function(e){var t=Object(a.useContext)(de).currentDate,r=Object(a.useState)([]),c=Object(i.a)(r,2),s=c[0],n=c[1],l=Object(a.useState)(0),o=Object(i.a)(l,2),j=o[0],d=o[1],b=Object(a.useState)("Commodity"),h=Object(i.a)(b,2),u=h[0],f=(h[1],Object(a.useRef)()),g=Object(a.useRef)(),v=Object(a.useRef)("purchase"),y=Object(a.useRef)(),w=Object(a.useRef)(),C=Object(a.useRef)(),S=Object(a.useRef)(),N=Object(x.jsx)("option",{});s.length>0&&(N=s.map((function(e){return Object(x.jsx)("option",{value:e.id,children:e.instrument_name},e.id)})));var _=function(){e.hide()},k=function(){d(f.current.value*y.current.value)};console.log(s),console.log(u);var E=function(t){t.preventDefault(),m.a.post(e.server+"portfolios/new_transaction/",{portfolio_code:e.portfolio,quantity:f.current.value,price:y.current.value,security:w.current.value,transaction_type:v.current.value,date:g.current.value}).then((function(t){"New Portfolio is created!"==t.data?(alert("New portfolio is created!"),e.hide()):alert(t.data)})).catch((function(e){console.error("Error Message:",e)}))};return Object(x.jsxs)(L.a,{show:e.show,onHide:_,children:[Object(x.jsx)(L.a.Header,{closeButton:!0,children:Object(x.jsx)(L.a.Title,{children:"New Transaction"})}),Object(x.jsx)(L.a.Body,{children:Object(x.jsxs)(O.a,{onSubmit:E,style:{width:"100%"},children:[Object(x.jsxs)(O.a.Group,{children:[Object(x.jsx)(O.a.Label,{children:"Portfolio Code"}),Object(x.jsx)(O.a.Control,{value:e.portfolio,type:"text",disabled:!0})]}),Object(x.jsxs)(O.a.Group,{children:[Object(x.jsx)(O.a.Label,{children:"Quantity"}),Object(x.jsx)(O.a.Control,{ref:f,onChange:k,type:"number",min:0,required:!0})]}),Object(x.jsxs)(O.a.Group,{children:[Object(x.jsx)(O.a.Label,{children:"Price"}),Object(x.jsx)(O.a.Control,{ref:y,onChange:k,type:"number",min:0,required:!0})]}),Object(x.jsxs)(O.a.Group,{children:[Object(x.jsx)(O.a.Label,{children:"Market Value"}),Object(x.jsx)(O.a.Control,{value:j,type:"text",disabled:!0})]}),Object(x.jsxs)(O.a.Group,{children:[Object(x.jsx)(O.a.Label,{children:"Trade Date"}),Object(x.jsx)(O.a.Control,{ref:g,defaultValue:t,type:"date",required:!0})]}),Object(x.jsxs)(O.a.Group,{children:[Object(x.jsx)(O.a.Label,{children:"Source"}),Object(x.jsxs)(O.a.Control,{ref:S,as:"select",children:[Object(x.jsx)("option",{value:"ffm_system",children:"System"}),Object(x.jsx)("option",{value:"oanda",children:"Oanda"}),Object(x.jsx)("option",{value:"MAP",children:"Magyar \xc1llamkincst\xe1r"})]})]}),Object(x.jsxs)(O.a.Group,{children:[Object(x.jsx)(O.a.Label,{children:"Instrument Type"}),Object(x.jsxs)(O.a.Control,{ref:C,onChange:function(){!function(t,r){m.a.get(e.server+"instruments/get_instruments/",{params:{source:t,instrument_type:r}}).then((function(e){return n(e.data)})).catch((function(e){console.error("Error Message:",e)}))}(S.current.value,C.current.value)},as:"select",children:[Object(x.jsx)("option",{value:"Commodity",children:"Commodity"}),Object(x.jsx)("option",{value:"Currency",children:"Currency"}),Object(x.jsx)("option",{value:"CFD",children:"CFD"}),Object(x.jsx)("option",{value:"Equity",children:"Equity"}),Object(x.jsx)("option",{value:"Fixed Income",children:"Fixed Income"}),Object(x.jsx)("option",{value:"Futures",children:"Futures"}),Object(x.jsx)("option",{value:"Mutual Fund",children:"Mutual Fund"})]})]}),Object(x.jsxs)(O.a.Group,{children:[Object(x.jsx)(O.a.Label,{children:"Instrument"}),Object(x.jsx)(O.a.Control,{ref:w,as:"select",children:N})]}),Object(x.jsxs)(O.a.Group,{children:[Object(x.jsx)(O.a.Label,{children:"Transaction Type"}),Object(x.jsxs)(O.a.Control,{ref:v,as:"select",children:[Object(x.jsx)("option",{value:"purchase",children:"Purchase"}),Object(x.jsx)("option",{value:"sale",children:"Sale"}),Object(x.jsx)("option",{value:"dividend",children:"Dividend"})]})]})]})}),Object(x.jsxs)(L.a.Footer,{children:[Object(x.jsx)(p.a,{variant:"secondary",onClick:_,children:"Close"}),Object(x.jsx)(p.a,{variant:"primary",onClick:E,children:"Save"})]})]})},xe=function(e){var t=Object(a.useState)(0),r=Object(i.a)(t,2),c=r[0],s=r[1],n=Object(a.useState)(),l=Object(i.a)(n,2),o=l[0],j=l[1];return Object(a.useEffect)((function(){m.a.get(e.server+"robots/get_last_price/",{params:{robot:e.robot}}).then((function(t){s(t.data.price),j(t.data.date),e.getPrice(c)})).catch((function(e){console.error("Error Message:",e)}))}),[e]),Object(x.jsxs)(O.a.Group,{children:[Object(x.jsxs)(O.a.Label,{children:["Price - ",o]}),Object(x.jsx)("h2",{children:Math.round(100*c)/100})]})},pe=function(e){var t=Object(a.useState)(""),r=Object(i.a)(t,2),c=r[0],s=r[1],n=Object(a.useState)(""),l=Object(i.a)(n,2),o=l[0],b=l[1],h=Object(a.useState)(0),u=Object(i.a)(h,2),f=u[0],g=u[1],v=Object(a.useState)(0),y=Object(i.a)(v,2),w=y[0],C=y[1],S=Object(a.useState)(0),N=Object(i.a)(S,2),_=N[0],k=N[1],E={env:e.env},D=function(){e.hide()},T=function(t){t.preventDefault(),0===_?alert("Quantity can not be 0 !"):(m.a.post(e.server+"portfolios/portfolio_trade/",{portfolio:e.portfolio,unit:_,price:w,sec:o,sec_type:"Robot",sec_id:c}).then((function(e){return alert(e.data)})).catch((function(e){console.error("Error Message:",e)})),e.hide())};return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(L.a,{show:e.show,onHide:D,children:[Object(x.jsx)(L.a.Header,{closeButton:!0,children:Object(x.jsx)(L.a.Title,{children:"Buy Robot"})}),Object(x.jsx)(L.a.Body,{children:Object(x.jsxs)(O.a,{onSubmit:T,style:{width:"100%"},children:[Object(x.jsxs)(j.a,{children:[Object(x.jsx)(d.a,{children:Object(x.jsxs)(O.a.Group,{children:[Object(x.jsx)(O.a.Label,{children:"Portfolio"}),Object(x.jsx)(O.a.Control,{type:"text",placeholder:e.portfolio,value:e.portfolio,readOnly:!0})]})}),Object(x.jsx)(d.a,{children:Object(x.jsxs)(O.a.Group,{children:[Object(x.jsx)(O.a.Label,{children:"Available Cash (USD)"}),Object(x.jsx)(O.a.Control,{type:"text",placeholder:"2000",value:"2000",readOnly:!0})]})})]}),Object(x.jsxs)(j.a,{children:[Object(x.jsx)(d.a,{children:Object(x.jsxs)(O.a.Group,{children:[Object(x.jsx)(O.a.Label,{children:"Robot"}),Object(x.jsxs)(O.a.Control,{onChange:function(e){var t=e.nativeEvent.target.selectedIndex;s(e.target.value),b(e.nativeEvent.target[t].text),document.getElementById("unitInput").value=0,k(0),g(0)},as:"select",children:[Object(x.jsx)("option",{}),Object(x.jsx)(F,{url:e.server+"robots/get_robots_with_instrument/",params:E,code:1,value:2})]})]})}),Object(x.jsx)(d.a,{children:Object(x.jsx)(xe,{server:e.server,robot:o,getPrice:function(e){C(e),k(f/w)}})})]}),Object(x.jsxs)(j.a,{children:[Object(x.jsx)(d.a,{children:Object(x.jsxs)(O.a.Group,{children:[Object(x.jsx)(O.a.Label,{children:"Unit to invest"}),Object(x.jsx)(O.a.Control,{onChange:function(e){k(f/w),g(e.target.value)},type:"number",min:0,defaultValue:0,id:"unitInput"})]})}),Object(x.jsxs)(d.a,{children:[Object(x.jsx)(O.a.Label,{children:"Portfolio Quantity"}),Object(x.jsx)("h2",{children:Math.round(100*_)/100})]})]})]})}),Object(x.jsxs)(L.a.Footer,{children:[Object(x.jsx)(p.a,{variant:"secondary",onClick:D,children:"Close"}),Object(x.jsx)(p.a,{variant:"primary",onClick:T,children:"Save"})]})]})})},fe=(r(192),function(e){var t=Object(a.useState)([]),r=Object(i.a)(t,2),c=r[0],s=r[1],n=Object(a.useState)([]),l=Object(i.a)(n,2),o=l[0],h=l[1],u=Object(a.useState)(),O=Object(i.a)(u,2),f=(O[0],O[1],Object(a.useState)(!1)),g=Object(i.a)(f,2),y=(g[0],g[1]),w=Object(a.useState)("new"),C=Object(i.a)(w,2),S=(C[0],C[1]),N=Object(a.useState)(),_=Object(i.a)(N,2);_[0],_[1];return Object(a.useEffect)((function(){m.a.get(e.server+"portfolios/get_portfolio_transactions/"+e.portfolio).then((function(e){return e.data.map((function(e){return Object(x.jsxs)("tr",{onClick:function(){h({id:e[0],portfolio:e[1],quantity:e[2],price:e[3],mv:e[4],"trade date":e[5],instrument:e[6],"instrument type":e[7],source:e[8],type:e[9]})},children:[Object(x.jsx)("td",{className:"table-row",children:e[1]}),Object(x.jsx)("td",{className:"table-row",children:e[2]}),Object(x.jsx)("td",{className:"table-row",children:e[3]}),Object(x.jsx)("td",{className:"table-row",children:e[4]}),Object(x.jsx)("td",{className:"table-row",children:e[5]}),Object(x.jsx)("td",{className:"table-row",children:e[6]}),Object(x.jsx)("td",{className:"table-row",children:e[7]}),Object(x.jsx)("td",{className:"table-row",children:e[8]}),Object(x.jsx)("td",{className:"table-row",children:e[9]}),Object(x.jsx)("td",{className:"table-row",children:e[10]})]},e[0])}))})).then((function(e){return s(e)})).catch((function(e){console.error("Error Message:",e)}))}),[e]),Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(b.a,{className:"card",children:[Object(x.jsxs)(j.a,{style:{width:"100%",margin:"0px"},children:[Object(x.jsx)(d.a,{sm:2,children:Object(x.jsx)(b.a.Title,{className:"card-header-first",children:"Transactions"})}),Object(x.jsx)(d.a,{children:Object(x.jsx)(p.a,{onClick:function(){""===o.id?alert("Please select a transaction to edit!"):(y(!0),S("edit"))},children:"Edit Transaction"})})]}),Object(x.jsx)("div",{style:{height:"100%",overflowY:"scroll",overflowX:"hidden"},children:Object(x.jsxs)(v.a,{children:[Object(x.jsx)("thead",{className:"table-header-first",children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"table-header-row",children:"Portfolio"}),Object(x.jsx)("td",{className:"table-header-row",children:"Quantity"}),Object(x.jsx)("td",{className:"table-header-row",children:"Price"}),Object(x.jsx)("td",{className:"table-header-row",children:"Market Value"}),Object(x.jsx)("td",{className:"table-header-row",children:"Trade Date"}),Object(x.jsx)("td",{className:"table-header-row",children:"Instrument"}),Object(x.jsx)("td",{className:"table-header-row",children:"Instrument Type"}),Object(x.jsx)("td",{className:"table-header-row",children:"Source"}),Object(x.jsx)("td",{className:"table-header-row",children:"Currency"}),Object(x.jsx)("td",{className:"table-header-row",children:"Type"})]})}),Object(x.jsx)("tbody",{children:c})]})})]})})}),me=function(e){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(fe,{portfolio:e.portfolio,server:e.server})})},ge=function(e){var t=Object(a.useState)(),r=Object(i.a)(t,2),c=r[0],s=r[1],n=Object(a.useState)([]),l=Object(i.a)(n,2),o=l[0],b=l[1],h=Object(a.useState)("NAV"),u=Object(i.a)(h,2),f=u[0],g=u[1],v=new FileReader,y=function(){e.hide()},w=function(t){t.preventDefault(),m.a.post(e.server+"portfolios/import/"+f,{data:o}).then((function(e){console.log(e)})).catch((function(e){console.error("Error Message:",e)}))},C=Object.keys(Object.assign.apply(Object,[{}].concat(Object(G.a)(o))));return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(L.a,{show:e.show,onHide:y,size:"lg",children:[Object(x.jsx)(L.a.Header,{closeButton:!0,children:Object(x.jsx)(L.a.Title,{children:"Data Import"})}),Object(x.jsxs)(L.a.Body,{style:{height:"500px"},children:[Object(x.jsx)(O.a,{onSubmit:w,style:{width:"100%"},children:Object(x.jsxs)(j.a,{children:[Object(x.jsx)(d.a,{children:Object(x.jsxs)(O.a.Control,{onChange:function(e){g(e.target.value)},as:"select",children:[Object(x.jsx)("option",{value:"NAV",children:"NAV"}),Object(x.jsx)("option",{value:"Holdings",children:"Holdings"})]})}),Object(x.jsx)(d.a,{children:Object(x.jsx)(O.a.Group,{children:Object(x.jsx)(O.a.Control,{onChange:function(e){s(e.target.files[0])},type:"file",accept:".csv",placeholder:"File",required:!0})})}),Object(x.jsx)(d.a,{children:Object(x.jsx)(p.a,{variant:"secondary",onClick:function(){c&&(v.onload=function(e){!function(e){var t=e.slice(0,e.indexOf("\n")).split(","),r=e.slice(e.indexOf("\n")+1).split("\n").map((function(e){var r=e.split(",");return t.reduce((function(e,t,a){return e[t]=r[a],e}),{})}));b(r)}(e.target.result)},v.readAsText(c))},children:"Preview"})})]})}),Object(x.jsx)("div",{style:{overflowY:"scroll",overflowX:"hidden",height:"90%"},children:Object(x.jsxs)("table",{style:{width:"100%"},children:[Object(x.jsx)("thead",{children:Object(x.jsx)("tr",{children:C.map((function(e){return Object(x.jsx)("th",{children:e})}))},"header")}),Object(x.jsx)("tbody",{style:{height:"100%",overflow:"scroll"},children:o.map((function(e){return Object(x.jsx)("tr",{children:Object.values(e).map((function(e){return Object(x.jsx)("td",{children:e})}))},e.id)}))})]})})]}),Object(x.jsxs)(L.a.Footer,{children:[Object(x.jsx)(p.a,{variant:"secondary",onClick:y,children:"Close"}),Object(x.jsx)(p.a,{variant:"primary",onClick:w,children:"Save"})]})]})})},ve=function(e){var t=Object(a.useContext)(de).currentDate,r=Object(a.useState)(0),c=Object(i.a)(r,2),s=c[0],n=c[1],l=Object(a.useState)([{}]),o=Object(i.a)(l,2),j=o[0],d=o[1],b=Object(a.useRef)(),h=Object(a.useRef)(),u=Object(a.useRef)(),f=function(){e.hide()},g=Object(x.jsx)("option",{});j.length>0&&(g=j.map((function(e){return Object(x.jsx)("option",{value:e.id,children:e.instrument_name},e.id)}))),Object(a.useEffect)((function(){m.a.get(e.server+"instruments/get_instruments/",{params:{instrument_type:"Cash"}}).then((function(e){return d(e.data)})).catch((function(e){console.error("Error Message:",e)}))}),[]);var v=function(t){t.preventDefault(),m.a.post(e.server+"portfolios/new_transaction/",{portfolio_code:e.portfolio,quantity:s,price:1,security:u.current.value,transaction_type:h.current.value,date:b.current.value}).then((function(e){return alert(e.data)})).catch((function(e){console.error("Error Message:",e)}))};return Object(x.jsxs)(L.a,{show:e.show,onHide:f,children:[Object(x.jsx)(L.a.Header,{closeButton:!0,children:Object(x.jsx)(L.a.Title,{children:"New Cash Transaction"})}),Object(x.jsx)(L.a.Body,{children:Object(x.jsxs)(O.a,{onSubmit:v,style:{width:"100%"},children:[Object(x.jsxs)(O.a.Group,{children:[Object(x.jsx)(O.a.Label,{children:"Portfolio"}),Object(x.jsx)(O.a.Control,{type:"text",placeholder:e.portfolio,value:e.portfolio,readOnly:!0})]}),Object(x.jsxs)(O.a.Group,{children:[Object(x.jsx)(O.a.Label,{children:"Cash Flow"}),Object(x.jsx)(O.a.Control,{onChange:function(e){return n(e.target.value)},type:"number",placeholder:"Value"})]}),Object(x.jsxs)(O.a.Group,{children:[Object(x.jsx)(O.a.Label,{children:"Trade Date"}),Object(x.jsx)(O.a.Control,{ref:b,defaultValue:t,type:"date",required:!0})]}),Object(x.jsxs)(O.a.Group,{children:[Object(x.jsx)(O.a.Label,{children:"Cash"}),Object(x.jsx)(O.a.Control,{ref:u,as:"select",children:g})]}),Object(x.jsxs)(O.a.Group,{children:[Object(x.jsx)(O.a.Label,{children:"Type"}),Object(x.jsxs)(O.a.Control,{ref:h,as:"select",children:[Object(x.jsx)("option",{value:"cash deposit",children:"Cash Deposit"}),Object(x.jsx)("option",{value:"cash withdrawal",children:"Cash Withdrawal"}),Object(x.jsx)("option",{value:"income",children:"Income"}),Object(x.jsx)("option",{value:"dividend",children:"Dividend"}),Object(x.jsx)("option",{value:"fee",children:"Fee"}),Object(x.jsx)("option",{value:"trading cost",children:"Trading Cost"})]})]})]})}),Object(x.jsxs)(L.a.Footer,{children:[Object(x.jsx)(p.a,{variant:"secondary",onClick:f,children:"Close"}),Object(x.jsx)(p.a,{variant:"primary",onClick:v,children:"Save"})]})]})},ye=function(e){Object(a.useContext)(T).robots;var t=Object(a.useContext)(C).server,r=Object(a.useContext)(u).environment,c=Object(a.useContext)(re).portfolioData,s=Object(a.useState)(c[0].portfolio_code),n=Object(i.a)(s,2),b=n[0],h=n[1],p=Object(a.useState)(!1),f=Object(i.a)(p,2),m=f[0],g=f[1],v=Object(a.useState)(!1),y=Object(i.a)(v,2),w=y[0],S=y[1],N=Object(a.useState)(!1),_=Object(i.a)(N,2),k=_[0],E=_[1],D=Object(a.useState)(!1),L=Object(i.a)(D,2),F=L[0],M=L[1],A=Object(a.useState)(!1),I=Object(i.a)(A,2),R=I[0],B=I[1],P=Object(a.useState)(!1),G=Object(i.a)(P,2),z=G[0],H=G[1],q=Object(a.useState)(!1),X=Object(i.a)(q,2),Q=X[0],W=X[1],K=Object(a.useRef)(),J=c.map((function(e){return Object(x.jsx)("option",{value:e.portfolio_code,children:e.portfolio_name},e.id)}));return Object(x.jsxs)(o.a,{style:{background:"#FBFAFA",width:"100%",height:window.innerHeight,padding:"0px"},fluid:!0,children:[Object(x.jsxs)(j.a,{style:{height:"100%",margin:"0px"},children:[Object(x.jsxs)(Y.c,{children:[Object(x.jsx)(Y.b,{style:{padding:"5px"},children:Object(x.jsx)(O.a.Control,{ref:K,onChange:function(e){return h(e.target.value)},as:"select",children:J})}),Object(x.jsxs)(Y.a,{iconShape:"square",children:[Object(x.jsx)(Y.b,{onClick:function(){return B(!0)},children:"New Portfolio"}),Object(x.jsxs)(Y.b,{children:["Dashboard",Object(x.jsx)(V.b,{to:"/portfolio/dashboard"})]}),Object(x.jsxs)(Y.d,{title:"Calculations",children:[Object(x.jsx)(Y.b,{onClick:function(){M(!0)},children:"Cash Holdings"}),Object(x.jsx)(Y.b,{onClick:function(){W(!0)},children:"Positions"}),Object(x.jsx)(Y.b,{children:"Holdings"}),Object(x.jsx)(Y.b,{children:"Return"})]}),Object(x.jsxs)(Y.b,{children:["Holdings",Object(x.jsx)(V.b,{to:"/portfolio/holdings"})]}),Object(x.jsxs)(Y.d,{title:"Transactions",children:[Object(x.jsxs)(Y.b,{children:["Transaction Editor",Object(x.jsx)(V.b,{to:"/portfolio/transactions"})]}),Object(x.jsx)(Y.b,{onClick:function(){return S(!0)},children:"New Cash Transaction"}),Object(x.jsx)(Y.b,{onClick:function(){return g(!0)},children:"New Security Transaction"}),Object(x.jsx)(Y.b,{onClick:function(){return E(!0)},children:"New Robot Transaction"})]}),Object(x.jsxs)(Y.b,{children:["Risk",Object(x.jsx)(V.b,{to:"/portfolio/risk"})]}),Object(x.jsxs)(Y.b,{children:["Return",Object(x.jsx)(V.b,{to:"/portfolio/return"})]}),Object(x.jsxs)(Y.b,{children:["Settings",Object(x.jsx)(V.b,{to:"/portfolio/settings"})]}),Object(x.jsx)(Y.b,{onClick:function(){return H(!0)},children:"Import"})]})]}),";",Object(x.jsx)(d.a,{style:{width:"50%"},children:Object(x.jsx)(j.a,{style:{padding:"15px",height:window.innerHeight,width:"100%",margin:"0px"},children:Object(x.jsxs)(l.c,{children:[Object(x.jsx)(l.a,{path:"/portfolio/dashboard",children:Object(x.jsx)(be,{portfolio:b,server:t,default:c[0]})}),Object(x.jsx)(l.a,{path:"/portfolio/holdings",children:Object(x.jsx)(se,{portfolio:b,server:t})}),Object(x.jsx)(l.a,{path:"/portfolio/transactions",children:Object(x.jsx)(me,{portfolio:b,server:t})}),Object(x.jsx)(l.a,{path:"/portfolio/risk",children:Object(x.jsx)(ae,{portfolio:b,server:t})}),Object(x.jsx)(l.a,{path:"/portfolio/return"}),Object(x.jsx)(l.a,{path:"/portfolio/settings",children:Object(x.jsx)(ue,{})})]})})})]}),"// Modals",Object(x.jsx)(U,{show:R,hide:function(){B(!1)},server:t}),Object(x.jsx)(pe,{show:k,hide:function(){E(!1)},portfolio:b,server:t,env:r}),Object(x.jsx)(ve,{show:w,hide:function(){S(!1)},portfolio:b,server:t}),Object(x.jsx)($,{show:Q,hide:function(){W(!1)},server:t,portfolio:b}),Object(x.jsx)(ee,{show:F,hide:function(){M(!1)},server:t,portfolio:b}),Object(x.jsx)(ge,{show:z,hide:function(){H(!1)},server:t}),Object(x.jsx)(Oe,{show:m,hide:function(){return g(!1)},portfolio:b,server:t})]})},we=function(e){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:e.id}),Object(x.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:e.broker_id}),Object(x.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:e.security}),Object(x.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:e.robot}),Object(x.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:e.quantity}),Object(x.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:e.price}),Object(x.jsx)("td",{children:Object(x.jsx)(p.a,{onClick:function(){m.a.post(e.server+"trade_page/close_trade/",{broker_id:e.broker_id,robot:e.robot,trd_id:e.id}).then((function(e){return alert(e.data)})).catch((function(e){console.error("Error Message:",e)}))},children:"Close"})})]})},Ce=function(e){var t=Object(a.useState)([]),r=Object(i.a)(t,2),c=r[0],s=r[1];Object(a.useEffect)((function(){fetch(e.server+"trade_page/get_open_trades/"+e.env).then((function(e){return e.json()})).then((function(e){return s(e)})).catch((function(e){console.error("Error Message:",e)}))}),[e]);var n=c.map((function(t){return Object(x.jsx)(we,{server:e.server,id:t.id,broker_id:t.broker_id,security:t.security,robot:t.robot,quantity:t.quantity,price:t.open_price},t.id)}));return Object(x.jsx)(b.a,{style:{width:"100%"},children:Object(x.jsxs)(v.a,{children:[Object(x.jsx)("thead",{style:{fontSize:12},children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{style:{verticalAlign:"middle"},children:"Platform ID"}),Object(x.jsx)("th",{style:{verticalAlign:"middle"},children:"Broker ID"}),Object(x.jsx)("th",{style:{verticalAlign:"middle"},children:"Security"}),Object(x.jsx)("th",{style:{verticalAlign:"middle"},children:"Robot"}),Object(x.jsx)("th",{style:{verticalAlign:"middle"},children:"Quantity"}),Object(x.jsx)("th",{style:{verticalAlign:"middle"},children:"Price"}),Object(x.jsx)("th",{style:{verticalAlign:"middle"}})]})}),Object(x.jsx)("tbody",{style:{height:"100%",overflow:"scroll"},children:n})]})})},Se=function(e){var t=Object(a.useState)(""),r=Object(i.a)(t,2),c=(r[0],r[1],Object(a.useState)()),s=Object(i.a)(c,2);s[0],s[1];return Object(x.jsxs)(b.a,{style:{},className:"card",children:[Object(x.jsx)(b.a.Title,{className:"card-header-first",children:"Robot Trade Execution"}),Object(x.jsx)("div",{style:{height:"200px",width:"200px"}})]})},Ne=function(){var e=Object(a.useContext)(C).server,t=Object(a.useContext)(u).environment;return Object(x.jsxs)(o.a,{className:"border",style:{background:"#FBFAFA",width:"100%",height:window.innerHeight,padding:"20px"},fluid:!0,children:[Object(x.jsxs)(j.a,{style:{height:"400px"},children:[Object(x.jsx)(d.a,{style:{height:"100%"},children:Object(x.jsxs)(b.a,{style:{height:"100%"},className:"card",children:[Object(x.jsx)(b.a.Title,{className:"card-header-first",children:"Portfolio Trade"}),Object(x.jsx)("div",{style:{height:"500px",overflowY:"scroll",overflowX:"hidden"}})]})}),Object(x.jsx)(d.a,{style:{height:"100%"},children:Object(x.jsxs)(b.a,{style:{height:"100%"},className:"card",children:[Object(x.jsx)(b.a.Title,{className:"card-header-first",children:"Robot Trade"}),Object(x.jsx)("div",{style:{height:"500px",overflowY:"scroll",overflowX:"hidden"},children:Object(x.jsx)(Se,{})})]})})]}),Object(x.jsx)("br",{}),Object(x.jsx)(j.a,{style:{height:"500px"},children:Object(x.jsx)(Ce,{env:t,server:e})})]})},_e=r(243),ke=r(151),Ee=(r(196),r(84)),De=r(40),Te=r(64),Le=function(e){var t=Object(a.useRef)(),r=Object(a.useRef)(),c=function(){e.hide()};return Object(x.jsxs)(L.a,{show:e.show,onHide:c,animation:!1,children:[Object(x.jsx)(L.a.Header,{closeButton:!0,children:Object(x.jsx)(L.a.Title,{children:"New Account"})}),Object(x.jsxs)(L.a.Body,{children:[Object(x.jsxs)(O.a.Group,{children:[Object(x.jsx)(O.a.Label,{children:"Broker Name"}),Object(x.jsx)(O.a.Control,{ref:t,type:"text"})]}),Object(x.jsxs)(O.a.Group,{children:[Object(x.jsx)(O.a.Label,{children:"Broker Code"}),Object(x.jsx)(O.a.Control,{ref:r,type:"text"})]})]}),Object(x.jsxs)(L.a.Footer,{children:[Object(x.jsx)(p.a,{variant:"secondary",onClick:c,children:"Close"}),Object(x.jsx)(p.a,{variant:"primary",onClick:function(){m.a.post(e.server+"accounts/new_broker/",{broker:t.current.value,broker_code:r.current.value}).then((function(e){return alert(e.data)})).catch((function(e){console.error("Error Message:",e)})),e.hide()},children:"Save"})]})]})},Fe=r(74),Me=r.n(Fe),Ae=r(39),Ie=function(e){var t=(new Date).toISOString().substr(0,10),r=Object(a.useState)(t),c=Object(i.a)(r,2),s=c[0],n=(c[1],Object(a.useState)([])),l=Object(i.a)(n,2),o=l[0],j=l[1],d=[],b=[];o.forEach((function(e){"Process"===e.msg_type&&b.push(e),"Trade"===e.msg_type&&d.push(e)})),Object(a.useEffect)((function(){var t=setInterval((function(){m.a.get(e.server+"home/system_messages/not_verified",{params:{date:s}}).then((function(e){return j(e.data)})).catch((function(e){console.error("Error Message:",e)}))}),9e5);return function(){return clearInterval(t)}}),[]);var h=function(t){m.a.get(e.server+"home/verify_sys_msg/"+t).then((function(e){return console.log(e.data)})).catch((function(e){console.error("Error Message:",e)}))};return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(O.a,{style:{margin:"5px"},children:Object(x.jsx)(p.a,{className:"rounded-circle block-example border border-light",id:"notError",style:{background:"#49A75D",border:""},children:Object(x.jsx)(Ae.h,{style:{}})})}),Object(x.jsx)(O.a,{style:{margin:"5px"},children:Object(x.jsx)(p.a,{className:"rounded-circle block-example border border-light",id:"notRisk",style:{background:"#49A75D"},children:Object(x.jsx)(Ae.k,{})})}),Object(x.jsx)(O.a,{onClick:function(){b.forEach((function(e){Fe.store.addNotification({title:e.msg_type+" - "+e.msg_sub_type,message:e.msg,type:"success",insert:"top",container:"top-right",animationIn:["animate__animated","animate__fadeIn"],animationOut:["animate__animated","animate__fadeOut"],onRemoval:function(){h(e.id)}})}))},style:{margin:"5px"},children:Object(x.jsx)(p.a,{className:"rounded-circle block-example border border-light",id:"notProcess",style:{background:"#49A75D"},children:Object(x.jsx)(Ae.f,{style:{}})})}),Object(x.jsx)(O.a,{style:{margin:"5px"},children:Object(x.jsx)(p.a,{className:"rounded-circle block-example border border-light",onClick:function(){d.forEach((function(e){Fe.store.addNotification({title:e.msg_type+" - "+e.msg_sub_type,message:e.msg,type:"success",insert:"top",container:"top-right",animationIn:["animate__animated","animate__fadeIn"],animationOut:["animate__animated","animate__fadeOut"],onRemoval:function(){h(e.id)}})}))},id:"notTrades",style:{background:"#49A75D"},children:Object(x.jsx)(Ae.b,{style:{}})})})]})},Re=function(e){var t=Object(a.useContext)(de).startDate,r=Object(a.useContext)(de).endDate,c=Object(a.useContext)(de).saveStartDate,s=Object(a.useContext)(de).saveEndDate;return Object(x.jsxs)(j.a,{style:{height:"60px",width:"100%",padding:"5px",margin:"0px"},children:[Object(x.jsx)(d.a,{style:{height:"100%",width:"50%"},children:Object(x.jsxs)(O.a.Group,{as:j.a,children:[Object(x.jsx)(O.a.Label,{size:"sm",column:!0,sm:2,children:"From"}),Object(x.jsx)(d.a,{sm:10,children:Object(x.jsx)(O.a.Control,{size:"sm",type:"date",onChange:function(e){c(e.target.value)},defaultValue:t})})]})}),Object(x.jsx)(d.a,{style:{height:"100%",width:"50%"},children:Object(x.jsxs)(O.a.Group,{as:j.a,children:[Object(x.jsx)(O.a.Label,{className:"form-label-first",column:!0,sm:2,children:"To"}),Object(x.jsx)(d.a,{sm:10,children:Object(x.jsx)(O.a.Control,{size:"sm",type:"date",onChange:function(e){e.target.value<t?alert("End date can not be less then start date!"):s(e.target.value)},defaultValue:r})})]})})]})},Be=function(e){var t=Object(a.useContext)(de).startDate,r=Object(a.useContext)(de).endDate,c=Object(a.useContext)(de).saveStartDate,s=Object(a.useContext)(de).saveEndDate,n=Object(a.useState)(!1),l=Object(i.a)(n,2),o=l[0],j=l[1],d=Object(a.useState)(!1),b=Object(i.a)(d,2),h=b[0],u=b[1],p=Object(a.useContext)(C).server;return Object(x.jsxs)(_e.a,{bg:"dark",variant:"dark",children:[Object(x.jsx)(_e.a.Brand,{href:"react",children:"FFM SYSTEM"}),Object(x.jsxs)(ke.a,{className:"mr-auto",children:[Object(x.jsx)(ke.a.Link,{as:V.b,to:"/home",children:"Home"}),Object(x.jsx)(ke.a.Link,{as:V.b,to:"/portfolio/dashboard",children:"Portfolio"}),Object(x.jsx)(ke.a.Link,{as:V.b,to:"/robot/dashboard",children:"Robot"}),Object(x.jsx)(ke.a.Link,{as:V.b,to:"/risk",children:"Risk"}),Object(x.jsx)(ke.a.Link,{as:V.b,to:"/instruments",children:"Instrument"}),Object(x.jsx)(ke.a.Link,{as:V.b,to:"/trade",children:"Trade"}),Object(x.jsxs)(Te.a,{title:"Broker Accounts",children:[Object(x.jsx)(Te.a.Item,{onSelect:function(){j(!0)},children:"New Account"}),Object(x.jsx)(Te.a.Item,{onSelect:function(){return u(!0)},children:"New Broker"}),Object(x.jsx)(Te.a.Item,{children:"Update"}),Object(x.jsx)(Te.a.Item,{children:"Delete"})]}),Object(x.jsxs)(Te.a,{title:"Period",children:[Object(x.jsx)(O.a.Label,{children:"From"}),Object(x.jsx)(Ee.a,{type:"date",className:"me-2","aria-label":"Search",defaultValue:t,onChange:function(e){c(e.target.value)}}),Object(x.jsx)(O.a.Label,{children:"To"}),Object(x.jsx)(Ee.a,{type:"date",className:"me-2","aria-label":"Search",defaultValue:r,onChange:function(e){e.target.value<t?alert("End date can not be less then start date!"):s(e.target.value)}})]})]}),Object(x.jsx)(Ie,{server:p}),Object(x.jsx)(ke.a.Link,{href:"#",disabled:!0,children:"Environment"}),Object(x.jsxs)(De.a,{onSelect:function(t){e.onEnvChange(t)},style:{margin:"5px"},children:[Object(x.jsx)(De.a.Toggle,{variant:"success",id:"dropdown-basic",children:e.env}),Object(x.jsxs)(De.a.Menu,{children:[Object(x.jsx)(De.a.Item,{eventKey:"live",children:"Live"}),Object(x.jsx)(De.a.Item,{eventKey:"demo",children:"Demo"})]})]}),Object(x.jsx)(te,{show:o,hide:function(){j(!1)},server:p}),Object(x.jsx)(Le,{show:h,hide:function(){return u(!1)},server:p})]})},Pe=function(e){var t=Object(a.useState)(""),r=Object(i.a)(t,2),c=r[0],s=r[1],n=Object(a.useState)(""),l=Object(i.a)(n,2),o=l[0],j=l[1],d=Object(a.useState)("oanda"),b=Object(i.a)(d,2),h=b[0],u=b[1],f=Object(a.useState)("live"),g=Object(i.a)(f,2),v=g[0],y=g[1],w=Object(a.useState)(""),C=Object(i.a)(w,2),S=C[0],N=C[1],_=Object(a.useState)(""),k=Object(i.a)(_,2),E=k[0],D=k[1];console.log(S),console.log(E);var T=function(){e.hide()},M={broker:h,env:v},A={broker:h},I=function(t){t.preventDefault(),m.a.post(e.server+"robots/new_robot/",{robot_name:c,strategy:o,security:E,broker:h,env:v,account:S}).then((function(e){return console.log(e)})).catch((function(e){console.error("Error Message:",e)})),e.hide()};return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(L.a,{show:e.show,onHide:T,animation:!1,children:[Object(x.jsx)(L.a.Header,{closeButton:!0,children:Object(x.jsx)(L.a.Title,{children:"New Robot"})}),Object(x.jsx)(L.a.Body,{children:Object(x.jsxs)(O.a,{onSubmit:I,style:{width:"100%"},children:[Object(x.jsxs)(O.a.Group,{children:[Object(x.jsx)(O.a.Label,{children:"Robot Name"}),Object(x.jsx)(O.a.Control,{onChange:function(e){s(e.target.value)},type:"text",placeholder:"Robot Name",maxLength:20})]}),Object(x.jsxs)(O.a.Group,{children:[Object(x.jsx)(O.a.Label,{children:"Strategy"}),Object(x.jsxs)(O.a.Control,{onChange:function(e){j(e.target.value)},as:"select",children:[Object(x.jsx)("option",{value:"Initiative",children:"Initiative"}),Object(x.jsx)("option",{value:"Responsive",children:"Responsive"}),Object(x.jsx)("option",{value:"Correction",children:"Correction"})]})]}),Object(x.jsxs)(O.a.Group,{children:[Object(x.jsx)(O.a.Label,{children:"Broker"}),Object(x.jsxs)(O.a.Control,{onChange:function(e){u(e.target.value)},as:"select",children:[Object(x.jsx)("option",{children:"oanda"}),Object(x.jsx)("option",{children:"Fix"})]})]}),Object(x.jsxs)(O.a.Group,{children:[Object(x.jsx)(O.a.Label,{children:"Environment"}),Object(x.jsxs)(O.a.Control,{onChange:function(e){y(e.target.value)},as:"select",children:[Object(x.jsx)("option",{value:"live",children:"Live"}),Object(x.jsx)("option",{value:"demo",children:"Demo"})]})]}),Object(x.jsxs)(O.a.Group,{children:[Object(x.jsx)(O.a.Label,{children:"Instruments"}),Object(x.jsx)(O.a.Control,{onChange:function(e){D(e.target.value)},as:"select",children:Object(x.jsx)(F,{url:e.server+"instruments/get_instruments/",params:A,code:"instrument_name",value:"instrument_name"})})]}),Object(x.jsxs)(O.a.Group,{children:[Object(x.jsx)(O.a.Label,{children:"Account Number"}),Object(x.jsx)(O.a.Control,{onChange:function(e){N(e.target.value)},as:"select",children:Object(x.jsx)(F,{url:e.server+"accounts/get_accounts_data/",params:M,code:"account_number",value:"account_number"})})]})]})}),Object(x.jsxs)(L.a.Footer,{children:[Object(x.jsx)(p.a,{variant:"secondary",onClick:T,children:"Close"}),Object(x.jsx)(p.a,{variant:"primary",onClick:I,children:"Save"})]})]})})},Ge=function(e){var t=Object(a.useContext)(de).startDate,r=Object(a.useContext)(de).endDate,c=Object(a.useState)(!1),s=Object(i.a)(c,2),n=(s[0],s[1]);return Object(x.jsxs)(L.a,{show:e.show,onHide:function(){e.hide()},animation:!1,children:[Object(x.jsx)(L.a.Header,{closeButton:!0,children:Object(x.jsxs)(L.a.Title,{children:["Balance - ",e.robot]})}),Object(x.jsx)(L.a.Body,{style:{width:"100%",height:"100px"},children:Object(x.jsx)(Re,{})}),Object(x.jsx)(L.a.Footer,{children:Object(x.jsx)(p.a,{variant:"primary",onClick:function(a){a.preventDefault(),n(!0),m.a.post(e.server+"robots/calculate_robot_balance/",{process:"Balance",robot:e.robot,start_date:t,end_date:r}).then((function(e){return n(!1)})).catch((function(e){console.error("Error Message:",e)}))},children:"Calculate"})})]})},ze=function(e){var t=Object(a.useState)(e.robots),r=Object(i.a)(t,2),c=r[0],s=r[1];Object(a.useEffect)((function(){m.a.get(e.server+"robots/get_robots/"+e.env).then((function(e){return s(e.data)})).catch((function(e){console.error("Error Message:",e)}))}),[e]);var n=c.map((function(e){return Object(x.jsx)("option",{value:e.name,children:e.name},e.id)}));return Object(x.jsx)(O.a.Group,{as:j.a,children:Object(x.jsx)(d.a,{sm:10,children:Object(x.jsx)(O.a.Control,{onChange:function(t){e.robotChange(t.target.value)},as:"select",style:{margin:"0px",width:"100%"},children:n})})})},He=function(e){var t=new Date,r=new Date(t.getFullYear(),t.getMonth(),1),c=Object(a.useState)(r.toISOString().substr(0,10)),s=Object(i.a)(c,2),n=s[0],l=s[1],o=Object(a.useState)(t.toISOString().substr(0,10)),b=Object(i.a)(o,2),h=b[0],u=b[1],f=Object(a.useState)(e.robot),g=Object(i.a)(f,2),v=g[0],y=g[1],w=Object(a.useState)([]),C=Object(i.a)(w,2),S=C[0],N=C[1],_=S.map((function(e,t){var r=e.response.map((function(e){return Object(x.jsx)(Z.a,{label:e.date+" "+e.msg})}));return Object(x.jsx)(Z.a,{nodeId:t.toString(),label:e.robot,children:r})})),k=function(t){t.preventDefault(),m.a.post(e.server+"robots/pricing/",{robot:v,start_date:n,end_date:h}).then((function(e){return N(e.data)})).catch((function(e){console.error("Error Message:",e)}))};return Object(x.jsxs)(L.a,{show:e.show,onHide:function(){e.hide(),y(e.robot)},animation:!1,size:"xl",children:[Object(x.jsx)(L.a.Header,{closeButton:!0,children:Object(x.jsxs)(L.a.Title,{children:["Pricing - ",v]})}),Object(x.jsx)(L.a.Body,{children:Object(x.jsxs)(j.a,{style:{height:"100%"},children:[Object(x.jsx)(d.a,{style:{height:"100%"},children:Object(x.jsx)(O.a,{onSubmit:k,style:{width:"100%",height:"100%"},children:Object(x.jsxs)(j.a,{style:{height:"60px",width:"100%",padding:"5px",margin:"5px"},children:[Object(x.jsx)(j.a,{style:{width:"100%",margin:"0px"},children:Object(x.jsxs)(O.a.Group,{style:{width:"100%",margin:"0px"},children:[Object(x.jsx)(O.a.Label,{className:"form-label-first",column:!0,sm:2,children:"From"}),Object(x.jsx)(d.a,{sm:10,children:Object(x.jsx)(O.a.Control,{type:"date",onChange:function(e){l(e.target.value)},defaultValue:r.toISOString().substr(0,10)})})]})}),Object(x.jsx)(j.a,{style:{width:"100%",margin:"0px"},children:Object(x.jsxs)(O.a.Group,{style:{width:"100%"},children:[Object(x.jsx)(O.a.Label,{className:"form-label-first",column:!0,sm:2,children:"To"}),Object(x.jsx)(d.a,{sm:10,children:Object(x.jsx)(O.a.Control,{type:"date",onChange:function(e){u(e.target.value)},defaultValue:t.toISOString().substr(0,10)})})]})})]})})}),Object(x.jsx)(d.a,{style:{height:"100%"},children:Object(x.jsx)(X.a,{"aria-label":"file system navigator",defaultCollapseIcon:Object(x.jsx)(W.a,{}),defaultExpandIcon:Object(x.jsx)(J.a,{}),sx:{height:200,flexGrow:1,maxWidth:"100%",overflowY:"auto"},children:_})})]})}),Object(x.jsx)(L.a.Footer,{children:Object(x.jsxs)(j.a,{style:{width:"100%",margin:"0px"},children:[Object(x.jsx)(d.a,{children:Object(x.jsx)(O.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:Object(x.jsx)(O.a.Check,{onClick:function(t){t.target.checked?y("ALL"):y(e.robot),console.log(t.target.checked)},type:"checkbox",label:"All Robots"})})}),Object(x.jsx)(d.a,{children:Object(x.jsx)(O.a.Group,{style:{width:"100%"},children:Object(x.jsx)(d.a,{sm:10,children:Object(x.jsx)(p.a,{variant:"primary",onClick:k,style:{width:"100%"},children:"Calculate"})})})})]})})]})},qe=function(e){return Object(x.jsxs)(b.a,{className:"card",style:{margin:"0px"},children:[Object(x.jsx)(b.a.Title,{style:{margin:"0px"},className:"card-header-first",children:e.title}),e.subTitle,Object(x.jsx)(b.a.Body,{style:{display:"flex",justifyContent:"center",padding:"5px"},children:e.children})]})},Ve=function(e){var t={options:{chart:{toolbar:!1,id:"balance-cashflow"},xaxis:{categories:[],labels:{show:!1},axisBorder:{show:!1,color:"#78909C",height:1,width:"100%",offsetX:0,offsetY:0},axisTicks:{show:!1,borderType:"solid",color:"#78909C",height:6,offsetX:0,offsetY:0}},yaxis:e.metaData.yaxis,dataLabels:{enabled:!1}},title:{text:"Cumulative Return",align:"left",margin:10,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:"bold",color:"#263238"}}};return Object(x.jsxs)(b.a,{className:"card",style:{margin:"0px"},children:[Object(x.jsx)(b.a.Title,{className:"card-header-first",children:e.metaData.title}),e.subTitle,Object(x.jsx)(b.a.Body,{style:{padding:"0px"},children:Object(x.jsx)(j.a,{style:{height:"100%",width:"100%",margin:"0px"},children:Object(x.jsx)(d.a,{style:{height:"100%"},children:Object(x.jsx)("div",{style:{padding:"0px",height:"100%"},children:Object(x.jsx)(E.a,{options:t.options,series:e.metaData.series,width:"100%",height:"100%"})})})})})]})},Ue=r(82),Ye=r.n(Ue),Xe=function(e){var t=Object(a.useState)(),r=Object(i.a)(t,2),c=r[0],s=r[1];return Object(a.useEffect)((function(){m.a.get(e.server+"robots/robot_cash_flow/"+e.robot).then((function(e){return e.data.map((function(e){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:e.id}),Object(x.jsx)("td",{style:{fontSize:12,verticalAlign:"middle",color:e.cash_flow>0?"green":"red"},children:e.cash_flow}),Object(x.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:e.date})]},e.id)}))})).then((function(e){return s(e)})).catch((function(e){console.error("Error Message:",e)}))}),[e]),Object(x.jsxs)(b.a,{className:"card",style:{margin:"2px",height:"100%"},children:[Object(x.jsx)(b.a.Title,{className:"card-header-first",children:"Cash Flow"}),Object(x.jsx)(b.a.Subtitle,{className:"mb-2 text-muted",style:{textAlign:"left",fontSize:10,paddingLeft:"15px"},children:Object(x.jsx)(Ye.a,{id:"test-table-xls-button",className:"download-table-xls-button",table:"cash-flow-table",filename:"cash_flow",sheet:"cash_flow",buttonText:"Export to Excel"})}),Object(x.jsx)("div",{style:{overflowY:"scroll",overflowX:"hidden",height:"100%"},children:Object(x.jsxs)(v.a,{id:"cash-flow-table",children:[Object(x.jsx)("thead",{style:{fontSize:12},children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{style:{verticalAlign:"middle"},children:"ID"}),Object(x.jsx)("th",{style:{verticalAlign:"middle"},children:"Cash Flow"}),Object(x.jsx)("th",{style:{verticalAlign:"middle"},children:"Date"})]})}),Object(x.jsx)("tbody",{style:{height:"100%",overflow:"scroll"},children:c})]})})]})},Qe=r(105),We=(r(213),function(e){for(var t=Object(a.useState)([]),r=Object(i.a)(t,2),c=r[0],s=r[1],n=Object(a.useContext)(de).startDate,l=Object(a.useContext)(de).endDate,o=c.length,j=[],h=[],u=[],O=[],p=[],f=[],g=[],y=[],w=0,C=0,S=0,N=0,_=0,k=0,E=0,D=0;D<c.length;D++)E+=c[D].pnl;var T,L=Object(Qe.a)(c);try{for(L.s();!(T=L.n()).done;){var F=T.value;F.quantity<0?(j.push(F.quantity),F.pnl<0?f.push(F.pnl):p.push(F.pnl)):(h.push(F.quantity),F.pnl<0?O.push(F.pnl):u.push(F.pnl)),F.pnl<0?y.push(F.pnl):g.push(F.pnl)}}catch(V){L.e(V)}finally{L.f()}for(var M=0;M<y.length;M++)C+=y[M];for(var A=0;A<g.length;A++)w+=g[A];for(var I=0;I<u.length;I++)S+=u[I];for(var R=0;R<p.length;R++)N+=p[R];for(var B=0;B<O.length;B++)_+=O[B];for(var P=0;P<f.length;P++)k+=f[P];var G=Math.round(C/y.length*100)/100,z=Math.round(w/g.length*100)/100,H=Math.round(g.length/c.length*1e4)/100,q=Math.round(y.length/c.length*1e4)/100;return Object(a.useEffect)((function(){m.a.get(e.server+"robots/trades/",{params:{robot:e.robot,start_date:n,end_date:l}}).then((function(e){return s(e.data)})).catch((function(e){console.error("Error Message:",e)}))}),[e]),Object(x.jsx)(d.a,{style:{height:"100%"},children:Object(x.jsxs)(b.a,{className:"card",style:{margin:"0px",height:"100%"},children:[Object(x.jsx)(b.a.Title,{className:"card-header-first",children:"Transaction Statistics"}),Object(x.jsx)("div",{style:{overflowY:"scroll",overflowX:"hidden",height:"100%"},children:Object(x.jsxs)(v.a,{id:"cash-flow-table",children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{className:"table-header"}),Object(x.jsx)("th",{className:"table-header",children:"All"}),Object(x.jsx)("th",{className:"table-header",children:"Long"}),Object(x.jsx)("th",{className:"table-header",children:"Short"})]})}),Object(x.jsxs)("tbody",{style:{height:"100%",overflow:"scroll"},children:[Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"table-row-text",children:"Profit"}),Object(x.jsx)("td",{className:"table-row",style:{color:E>0?"green":"red"},children:Math.round(100*E)/100}),Object(x.jsx)("td",{className:"table-row",style:{color:S+_>0?"green":"red"},children:Math.round(100*(S+_))/100}),Object(x.jsx)("td",{className:"table-row",style:{color:N+k>0?"green":"red"},children:Math.round(100*(N+k))/100})]},0),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"table-row-text",children:"Number Winning Trades"}),Object(x.jsx)("td",{className:"table-row",children:g.length}),Object(x.jsx)("td",{className:"table-row",children:u.length}),Object(x.jsx)("td",{className:"table-row",children:p.length})]},2),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"table-row-text",children:"Number Losing Trades"}),Object(x.jsx)("td",{className:"table-row",children:y.length}),Object(x.jsx)("td",{className:"table-row",children:O.length}),Object(x.jsx)("td",{className:"table-row",children:f.length})]},3),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"table-row-text",children:"Profitable P&L"}),Object(x.jsx)("td",{className:"table-row",style:{color:w>0?"green":"red"},children:Math.round(100*w)/100}),Object(x.jsx)("td",{className:"table-row",children:Math.round(100*S)/100}),Object(x.jsx)("td",{className:"table-row",children:Math.round(100*N)/100})]},4),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"table-row-text",children:"Losing P&L"}),Object(x.jsx)("td",{className:"table-row",style:{color:C>0?"green":"red"},children:Math.round(100*C)/100}),Object(x.jsx)("td",{className:"table-row",children:Math.round(100*_)/100}),Object(x.jsx)("td",{className:"table-row",children:Math.round(100*k)/100})]},5),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"table-row-text",children:"Profitable Trades %"}),Object(x.jsx)("td",{className:"table-row",children:H}),Object(x.jsx)("td",{className:"table-row",children:Math.round(u.length/c.length*1e4)/100}),Object(x.jsx)("td",{className:"table-row",children:Math.round(p.length/c.length*1e4)/100})]},6),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"table-row-text",children:"Losing Trades %"}),Object(x.jsx)("td",{className:"table-row",children:q}),Object(x.jsx)("td",{className:"table-row",children:Math.round(O.length/c.length*1e4)/100}),Object(x.jsx)("td",{className:"table-row",children:Math.round(f.length/c.length*1e4)/100})]},7),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"table-row-text",children:"Avg Winning Trade"}),Object(x.jsx)("td",{className:"table-row",children:z}),Object(x.jsx)("td",{className:"table-row",children:Math.round(S/h.length*100)/100}),Object(x.jsx)("td",{className:"table-row",children:Math.round(N/j.length*100)/100})]},8),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"table-row-text",children:"Avg Losing Trade"}),Object(x.jsx)("td",{className:"table-row",children:G}),Object(x.jsx)("td",{className:"table-row",children:Math.round(_/o*100)/100}),Object(x.jsx)("td",{className:"table-row",children:Math.round(k/o*100)/100})]},9),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"table-row-text",children:"Profit Factor"}),Object(x.jsx)("td",{className:"table-row",children:Math.round(H*z/(q*G*-1)*100)/100}),Object(x.jsx)("td",{className:"table-row",children:"-"}),Object(x.jsx)("td",{className:"table-row",children:"-"})]},10),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"table-row-text",children:"Payoff Ratio"}),Object(x.jsx)("td",{className:"table-row",children:Math.round(z/(-1*G)*100)/100}),Object(x.jsx)("td",{className:"table-row",children:"-"}),Object(x.jsx)("td",{style:{fontSize:12,verticalAlign:"middle"},children:"-"})]},11)]})]})})]})})}),Ke=(r(214),function(e){return Object(x.jsxs)(j.a,{style:{height:"100px"},children:[Object(x.jsx)(d.a,{style:{height:"100%"},children:Object(x.jsx)(qe,{title:"Strategy",children:Object(x.jsx)("p",{className:"card-paragraph",children:e.data.strategy})})}),Object(x.jsx)(d.a,{style:{height:"100%"},children:Object(x.jsx)(qe,{title:"Security",children:Object(x.jsx)("p",{className:"card-paragraph",children:e.data.security})})}),Object(x.jsx)(d.a,{style:{height:"100%"},children:Object(x.jsx)(qe,{title:"Inception Date",children:Object(x.jsx)("p",{className:"card-paragraph",children:e.data.inception_date})})}),Object(x.jsx)(d.a,{style:{height:"100%"},children:Object(x.jsx)(qe,{title:"Broker",children:Object(x.jsx)("p",{className:"card-paragraph",children:e.data.broker})})}),Object(x.jsx)(d.a,{style:{height:"100%"},children:Object(x.jsx)(qe,{title:"Account Number",children:Object(x.jsx)("p",{className:"card-paragraph",children:e.data.account_number})})}),Object(x.jsx)(d.a,{style:{height:"100%"},children:Object(x.jsx)(qe,{title:"Last Price",children:Object(x.jsx)("p",{className:"card-paragraph",children:e.data.price})})}),Object(x.jsx)(d.a,{style:{height:"100%"},children:Object(x.jsx)(qe,{title:"Last Pricing Date",children:Object(x.jsx)("p",{className:"card-paragraph",style:{color:e.data.date<e.data.end_date?"red":"green"},children:e.data.date})})})]})}),Je=function(e){var t=Object(a.useContext)(de).startDate,r=Object(a.useContext)(de).endDate,c=Object(a.useState)([]),s=Object(i.a)(c,2),n=s[0],l=s[1];Object(a.useEffect)((function(){m.a.get(e.server+"robots/drawdown/",{params:{robot:e.robot,start_date:t,end_date:r}}).then((function(e){return e.data.map((function(e){return e}))})).then((function(e){return l(e)})).catch((function(e){console.error("Error Message:",e)}))}),[e]);var o={options:{chart:{toolbar:!1,id:"basic-bar"},xaxis:{categories:[],labels:{show:!1}},yaxis:[{labels:{formatter:function(e){return e.toFixed(0)}}}],dataLabels:{enabled:!1}},series:[{name:"Drawdown",data:n}]};return Object(x.jsxs)(b.a,{className:"card",style:{margin:"0px"},children:[Object(x.jsx)(b.a.Title,{className:"card-header-first",children:"Drawdown"}),Object(x.jsx)(b.a.Body,{style:{padding:"0px"},children:Object(x.jsx)(j.a,{style:{height:"100%"},children:Object(x.jsx)(d.a,{style:{height:"100%"},children:Object(x.jsx)(E.a,{options:o.options,series:o.series,type:"bar",width:"100%",height:"100%"})})})})]})},Ze=function(e){var t=Object(a.useState)([]),r=Object(i.a)(t,2),c=r[0],s=r[1];return Object(a.useEffect)((function(){m.a.get(e.server+"robots/cumulative_ret/",{params:{robot:e.robot,start_date:e.start_date,end_date:e.end_date}}).then((function(e){return e.data.map((function(e){return e}))})).then((function(e){return s(e)})).catch((function(e){console.error("Error Message:",e)}))}),[e]),Object(x.jsx)(ie,{data:c})},$e=(r(215),function(e){var t=Object(a.useContext)(de).startDate,r=Object(a.useContext)(de).endDate,c=Object(a.useState)([]),s=Object(i.a)(c,2),n=s[0],l=s[1],h=Object(a.useState)([]),u=Object(i.a)(h,2),O=u[0],p=u[1],f=Object(a.useState)([]),g=Object(i.a)(f,2),v=g[0],y=g[1],w=Object(a.useState)([]),C=Object(i.a)(w,2),S=(C[0],C[1]),N=Object(a.useState)([e.default]),_=Object(i.a)(N,2),k=_[0],E=_[1],D=Object(a.useState)([]),T=Object(i.a)(D,2),L=T[0],F=T[1],M=Math.round(100*O.reduce((function(e,t){return e+t}),0))/100,A=Math.round(100*v.reduce((function(e,t){return e+t}),0))/100;Object(a.useEffect)((function(){m.a.get(e.server+"robots/get_robot/"+e.robot).then((function(e){return e.data.map((function(e){return e}))})).then((function(e){return E(e)})).catch((function(e){console.error("Error Message:",e)}))}),[e]),Object(a.useEffect)((function(){m.a.get(e.server+"robots/get_last_price/",{params:{robot:e.robot,start_date:e.start_date,end_date:e.end_date}}).then((function(e){var t=e.data;F(t)})).catch((function(e){console.error("Error Message:",e)}))}),[e]),Object(a.useEffect)((function(){m.a.get(e.server+"robots/get_balance/",{params:{robot:e.robot,start_date:t,end_date:r}}).then((function(e){var t=e.data,r=t.map((function(e){return e.close_balance})),a=t.map((function(e){return e.realized_pnl})),c=t.map((function(e){return e.date})),s=t.map((function(e){return e.cash_flow}));l(r),p(a),S(c),y(s)})).catch((function(e){console.error("Error Message:",e)}))}),[e]);var I={series:[{name:"Balance",type:"line",data:n},{name:"Cash Flow",type:"bar",data:v}],yaxis:[{min:Math.min.apply(Math,Object(G.a)(n)),title:{text:"Balance"},labels:{formatter:function(e){return e.toFixed(2)}}},{opposite:!0,title:{text:"Cash Flow"},labels:{formatter:function(e){return e.toFixed(2)}}}],title:"Balance",subTitle:Math.round(100*n[n.length-1])/100,pnl:Math.round(100*(n[n.length-1]-n[0]))/100,perReturn:Math.round((n[n.length-1]-n[0]-A)/n[0]*1e4)/100},R=Object(x.jsx)(b.a.Subtitle,{className:"mb-2 text-muted",style:{textAlign:"left",fontSize:40,paddingLeft:"15px"},children:Object(x.jsx)("div",{children:Object(x.jsx)("div",{children:I.subTitle+" USD "})})}),B={strategy:k[0].strategy,security:k[0].security,inception_date:k[0].inception_date,broker:k[0].broker,account_number:k[0].account_number,price:Math.round(100*L.price)/100,date:L.date,end_date:r};return Object(x.jsxs)(o.a,{fluid:!0,children:[Object(x.jsx)(Ke,{data:B}),Object(x.jsxs)(j.a,{style:{height:"80%",marginTop:"20px"},children:[Object(x.jsxs)(d.a,{style:{height:"100%"},children:[Object(x.jsx)(j.a,{style:{height:"50%"},children:Object(x.jsx)(d.a,{children:Object(x.jsx)(Ve,{metaData:I,subTitle:R})})}),Object(x.jsx)(j.a,{style:{height:"50%",marginTop:"20px"},children:Object(x.jsx)(d.a,{children:Object(x.jsx)(Xe,{server:e.server,robot:e.robot})})})]}),Object(x.jsxs)(d.a,{style:{height:"100%"},children:[Object(x.jsxs)(j.a,{style:{height:"20%"},children:[Object(x.jsx)(d.a,{children:Object(x.jsx)(qe,{title:"Profit",children:Object(x.jsx)("p",{className:"card-paragraph-profit",style:{color:M>0?"darkgreen":"darkred"},children:M})})}),Object(x.jsx)(d.a,{children:Object(x.jsx)(qe,{title:"Deposit"})}),Object(x.jsx)(d.a,{children:Object(x.jsx)(qe,{title:"Withdraw"})})]}),Object(x.jsx)(j.a,{style:{height:"80%",marginTop:"20px"},children:Object(x.jsx)(We,{server:e.server,robot:e.robot})})]}),Object(x.jsxs)(d.a,{style:{height:"100%"},children:[Object(x.jsx)(j.a,{style:{height:"50%"},children:Object(x.jsx)(d.a,{children:Object(x.jsx)(Ze,{robot:e.robot,start_date:t,end_date:r,server:e.server})})}),Object(x.jsx)(j.a,{style:{height:"50%",marginTop:"20px"},children:Object(x.jsx)(d.a,{children:Object(x.jsx)(Je,{robot:e.robot,server:e.server})})})]})]})]})}),et=function(e){var t={options:{chart:{toolbar:!1,id:"basic-bar"},colors:[function(e){return e.value<0?"#E32227":"#007500"}],xaxis:{categories:[],labels:{show:!1}},yaxis:[{labels:{formatter:function(e){return e.toFixed(0)}},title:{text:"Profit"}}],dataLabels:{enabled:!1}},series:[{name:"series-1",data:e.data}]};return Object(x.jsxs)(b.a,{className:"card",style:{margin:"2px",height:"100%"},children:[Object(x.jsx)(b.a.Title,{className:"card-header-first",children:"Profit and Loss"}),Object(x.jsx)(b.a.Body,{style:{padding:"0px"},children:Object(x.jsx)(E.a,{options:t.options,series:t.series,type:"bar",width:"100%",height:"100%"})})]})},tt=c.a.createContext({}),rt=function(e){var t=Object(a.useContext)(tt).saveModalDataParameters,r=Object(a.useRef)(),c=Object(a.useRef)(),s=Object(a.useRef)(),n=Object(a.useRef)(),i=Object(a.useRef)(),l=Object(a.useRef)(),o=Object(a.useRef)(),j=function(t){t.preventDefault();var a=r.current.value,j=c.current.value,d=s.current.value,b=n.current.value,h=i.current.value,u=l.current.value,O=o.current.value;m.a.post(e.server+"trade_page/edit_transaction/",{status:j,quantity:a,pnl:d,open_price:b,close_price:h,open_time:u,close_time:O,id:e.data[9]}).catch((function(e){console.error("Error Message:",e)}))};return Object(x.jsxs)(L.a,{show:e.show,onHide:function(){t({data:[],status:!1})},animation:!1,children:[Object(x.jsx)(L.a.Header,{closeButton:!0,children:Object(x.jsxs)(L.a.Title,{children:["Edit Transaction - Broker ID - ",e.data[8]]})}),Object(x.jsx)(L.a.Body,{style:{width:"100%",height:"700px"},children:Object(x.jsxs)(O.a,{onSubmit:j,style:{width:"100%"},children:[Object(x.jsxs)(O.a.Group,{className:"mb-3",controlId:"quantity_type",children:[Object(x.jsx)(O.a.Label,{children:"Status"}),Object(x.jsxs)(O.a.Control,{ref:c,defaultValue:e.data[1],as:"select",children:[Object(x.jsx)("option",{value:"OPEN",children:"OPEN"}),Object(x.jsx)("option",{value:"CLOSED",children:"CLOSED"})]})]}),Object(x.jsxs)(O.a.Group,{className:"mb-3",children:[Object(x.jsx)(O.a.Label,{children:"Quantity"}),Object(x.jsx)(O.a.Control,{ref:r,type:"number",defaultValue:e.data[0],step:1})]}),Object(x.jsxs)(O.a.Group,{className:"mb-3",children:[Object(x.jsx)(O.a.Label,{children:"P&L"}),Object(x.jsx)(O.a.Control,{ref:s,type:"number",defaultValue:e.data[2],step:1})]}),Object(x.jsxs)(O.a.Group,{className:"mb-3",children:[Object(x.jsx)(O.a.Label,{children:"Open Price"}),Object(x.jsx)(O.a.Control,{ref:n,type:"number",defaultValue:e.data[3],min:0,step:.01})]}),Object(x.jsxs)(O.a.Group,{className:"mb-3",children:[Object(x.jsx)(O.a.Label,{children:"Close Price"}),Object(x.jsx)(O.a.Control,{ref:i,type:"number",defaultValue:e.data[4],min:0,step:.01})]}),Object(x.jsxs)(O.a.Group,{className:"mb-3",children:[Object(x.jsx)(O.a.Label,{children:"Open Time"}),Object(x.jsx)(O.a.Control,{ref:l,type:"date",defaultValue:e.data[5]})]}),Object(x.jsxs)(O.a.Group,{className:"mb-3",children:[Object(x.jsx)(O.a.Label,{children:"Close Time"}),Object(x.jsx)(O.a.Control,{ref:o,type:"date",defaultValue:e.data[6]})]})]})}),Object(x.jsx)(L.a.Footer,{children:Object(x.jsx)(p.a,{variant:"primary",onClick:j,children:"Save"})})]})},at=function(e){var t=Object(a.useContext)(tt).saveModalDataParameters;return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{style:{fontSize:14,verticalAlign:"middle"},children:e.quantity}),Object(x.jsx)("td",{style:{fontSize:14,verticalAlign:"middle"},children:e.status}),Object(x.jsx)("td",{style:{fontSize:14,verticalAlign:"middle",color:e.pnl<0?"#E32227":"#007500"},children:e.pnl}),Object(x.jsx)("td",{style:{fontSize:14,verticalAlign:"middle"},children:e.open_price}),Object(x.jsx)("td",{style:{fontSize:14,verticalAlign:"middle"},children:e.close_price}),Object(x.jsx)("td",{style:{fontSize:14,verticalAlign:"middle"},children:e.open_time}),Object(x.jsx)("td",{style:{fontSize:14,verticalAlign:"middle"},children:e.close_time}),Object(x.jsx)("td",{style:{fontSize:14,verticalAlign:"middle"},children:e.side}),Object(x.jsx)("td",{style:{fontSize:14,verticalAlign:"middle"},children:e.broker_id}),Object(x.jsx)("td",{style:{fontSize:14,verticalAlign:"middle"},children:e.id}),Object(x.jsx)("td",{children:Object(x.jsx)(p.a,{onClick:function(e){for(var r=e.target.parentElement.parentElement.children,a=[],c=0;c<r.length;c++)a.push(r[c].innerHTML);t({data:a,status:!0})},children:"Update"})})]})})},ct=function(e){var t=Object(a.useState)({data:[],status:!1}),r=Object(i.a)(t,2),c=r[0],s=r[1],n=e.data.map((function(e){return Object(x.jsx)(at,{quantity:e.quantity,status:e.status,pnl:e.pnl,open_price:e.open_price,close_price:e.close_price,open_time:e.open_time,close_time:e.close_time,side:e.side,broker_id:e.broker_id,id:e.id},e.id)}));return console.log(c),Object(x.jsx)(tt.Provider,{value:{saveModalDataParameters:s},children:Object(x.jsxs)(b.a,{className:"card",style:{margin:"2px",height:"100%"},children:[Object(x.jsx)(b.a.Title,{className:"card-header-first",children:"Transactions"}),Object(x.jsx)(b.a.Subtitle,{className:"mb-2 text-muted",style:{textAlign:"left",fontSize:10,paddingLeft:"15px"},children:Object(x.jsx)(Ye.a,{id:"test-table-xls-button",className:"download-table-xls-button",table:"transaction-table",filename:"transactions",sheet:"transactions",buttonText:"Export to Excel"})}),Object(x.jsx)("div",{style:{overflowY:"scroll",overflowX:"hidden",height:"100%"},children:Object(x.jsxs)(v.a,{id:"transaction-table",children:[Object(x.jsx)("thead",{style:{fontSize:12},children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{style:{verticalAlign:"middle"},children:"Quantity"}),Object(x.jsx)("th",{style:{verticalAlign:"middle"},children:"Status"}),Object(x.jsx)("th",{style:{verticalAlign:"middle"},children:"P&L"}),Object(x.jsx)("th",{style:{verticalAlign:"middle"},children:"Open Price"}),Object(x.jsx)("th",{style:{verticalAlign:"middle"},children:"Close Price"}),Object(x.jsx)("th",{style:{verticalAlign:"middle"},children:"Open Time"}),Object(x.jsx)("th",{style:{verticalAlign:"middle"},children:"Close Time"}),Object(x.jsx)("th",{style:{verticalAlign:"middle"},children:"Side"}),Object(x.jsx)("th",{style:{verticalAlign:"middle"},children:"Broker ID"}),Object(x.jsx)("th",{style:{verticalAlign:"middle"},children:"ID"}),Object(x.jsx)("th",{style:{verticalAlign:"middle"}})]})}),Object(x.jsx)("tbody",{style:{height:"100%",overflow:"scroll"},children:n})]})}),Object(x.jsx)(rt,{server:e.server,show:c.status,data:c.data})]})})},st=function(e){var t={options:{chart:{toolbar:!1,id:"basic-bar"},xaxis:{categories:[],labels:{show:!1}},yaxis:[{labels:{formatter:function(e){return e.toFixed(0)}},title:{text:"Quantity"}}],dataLabels:{enabled:!1}},series:[{name:"series-1",data:e.data}]};return Object(x.jsxs)(b.a,{className:"card",style:{margin:"2px",height:"100%"},children:[Object(x.jsx)(b.a.Title,{className:"card-header-first",children:"Quantity"}),Object(x.jsx)(b.a.Body,{style:{padding:"0px"},children:Object(x.jsx)(E.a,{options:t.options,series:t.series,type:"bar",width:"100%",height:"100%"})})]})},nt=function(e){var t=Object(a.useState)([]),r=Object(i.a)(t,2),c=r[0],s=r[1],n=c.map((function(e){return e.pnl})),l=c.map((function(e){return e.quantity})),b=Object(a.useContext)(de).startDate,h=Object(a.useContext)(de).endDate;return Object(a.useEffect)((function(){m.a.get(e.server+"robots/trades/",{params:{robot:e.robot,start_date:b,end_date:h}}).then((function(e){return s(e.data)})).catch((function(e){console.error("Error Message:",e)}))}),[e]),Object(x.jsx)(o.a,{fluid:!0,children:Object(x.jsxs)(j.a,{style:{width:"100%",height:"800px",margin:"0px",padding:"0px"},children:[Object(x.jsx)(d.a,{style:{margin:"0px",width:"50%",padding:"0px"},children:Object(x.jsxs)(j.a,{style:{height:"100%",width:"100%",margin:"0px"},children:[Object(x.jsx)(j.a,{style:{height:"50%",width:"100%",padding:"5px",margin:"0px"},children:Object(x.jsx)(et,{data:n})}),Object(x.jsx)(j.a,{style:{height:"50%",width:"100%",padding:"5px",margin:"0px"},children:Object(x.jsx)(st,{data:l})})]})}),Object(x.jsx)(d.a,{style:{margin:"0px",width:"50%",height:"100%",padding:"0px"},children:Object(x.jsx)(j.a,{style:{height:"100%",width:"100%",padding:"5px",margin:"0px"},children:Object(x.jsx)(ct,{server:e.server,data:c})})})]})})},it=function(e){return Object(x.jsx)(o.a,{fluid:!0,children:Object(x.jsx)(j.a,{style:{width:"100%",height:"100%",margin:"0px"},children:Object(x.jsx)(j.a,{style:{width:"100%",height:"400px",margin:"0px"},children:Object(x.jsx)(Je,{robot:e.robot,server:e.server})})})})},lt=function(e){var t=Object(a.useState)([]),r=Object(i.a)(t,2),c=r[0],s=r[1],n=c.map((function(e){return Math.round(1e4*e.ret)/100}));Object(a.useEffect)((function(){m.a.get(e.server+"robots/get_balance/",{params:{robot:e.robot,start_date:e.start_date,end_date:e.end_date}}).then((function(e){return e.data.map((function(e){return e}))})).then((function(e){return s(e)})).catch((function(e){console.error("Error Message:",e)}))}),[e]);var l={options:{chart:{toolbar:!1,id:"basic-bar"},colors:[function(e){return e.value<0?"#E32227":"#007500"}],annotations:{yaxis:[{y:-5,borderColor:"#BF4737",label:{borderColor:"#BF4737",style:{color:"#fff",background:"#BF4737"},text:"Daily Risk Limit"}}]},xaxis:{categories:[],labels:{show:!1}},yaxis:[{tickAmount:10,labels:{formatter:function(e){return e.toFixed(0)}}}],dataLabels:{enabled:!1,textAnchor:"middle",style:{fontSize:"14px",fontFamily:"Helvetica, Arial, sans-serif",fontWeight:"bold",colors:void 0}}},series:[{name:"Daily Retur",data:n}]};return Object(x.jsxs)(b.a,{className:"card",style:{margin:"0px"},children:[Object(x.jsx)(b.a.Title,{className:"card-header-first",children:"Daily Returns"}),Object(x.jsx)(b.a.Body,{style:{padding:"0px"},children:Object(x.jsx)(j.a,{style:{height:"100%",width:"100%",margin:"0px"},children:Object(x.jsx)(d.a,{style:{height:"100%"},children:Object(x.jsx)(E.a,{options:l.options,series:l.series,type:"bar",width:"100%",height:"100%"})})})})]})},ot=function(e){var t=Object(a.useState)([]),r=Object(i.a)(t,2),c=r[0],s=r[1];Object(a.useEffect)((function(){m.a.get(e.server+"robots/monthly_returns_calc/",{params:{robot:e.robot,year:"2022"}}).then((function(e){return s(e.data)})).catch((function(e){console.error("Error Message:",e)}))}),[e]);var n={options:{chart:{toolbar:!1,id:"basic-bar"},colors:[function(e){return e.value<0?"#E32227":"#007500"}],annotations:{yaxis:[{y:-10,borderColor:"#BF4737",label:{borderColor:"#BF4737",style:{color:"#fff",background:"#BF4737"},text:"Monthly Risk Limit"}}]},xaxis:{},yaxis:[{labels:{formatter:function(e){return e.toFixed(0)}}}],dataLabels:{enabled:!1}},series:[{name:"Monthly Return",data:c}]};return Object(x.jsxs)(b.a,{className:"card",style:{margin:"0px"},children:[Object(x.jsx)(b.a.Title,{className:"card-header-first",children:"Monthly Returns"}),Object(x.jsx)(b.a.Body,{style:{padding:"0px"},children:Object(x.jsx)(j.a,{style:{height:"100%",width:"100%",margin:"0px"},children:Object(x.jsx)(d.a,{style:{height:"100%"},children:Object(x.jsx)(E.a,{options:n.options,series:n.series,type:"bar",width:"100%",height:"100%"})})})})]})},jt=function(e){var t=Object(a.useContext)(de).startDate,r=Object(a.useContext)(de).endDate;return Object(x.jsx)(o.a,{fluid:!0,children:Object(x.jsxs)(j.a,{style:{width:"100%",height:"100%",margin:"0px"},children:[Object(x.jsxs)(d.a,{style:{width:"50%",height:"100%"},children:[Object(x.jsx)(j.a,{style:{height:"60%",padding:"4px"},children:Object(x.jsx)(Ze,{robot:e.robot,start_date:t,end_date:r,server:e.server})}),Object(x.jsx)(j.a,{style:{height:"40%",padding:"4px"},children:Object(x.jsx)(lt,{robot:e.robot,start_date:t,end_date:r,server:e.server})})]}),Object(x.jsx)(d.a,{children:Object(x.jsx)(j.a,{style:{height:"40%",padding:"4px"},children:Object(x.jsx)(ot,{robot:e.robot,start_date:t,end_date:r,server:e.server})})})]})})},dt=function(e){var t=Object(a.useState)(),r=Object(i.a)(t,2),c=r[0],s=r[1],n=Object(a.useState)(),l=Object(i.a)(n,2),o=l[0],j=l[1],d=Object(a.useState)(),b=Object(i.a)(d,2),h=b[0],u=b[1],f=Object(a.useState)(),g=Object(i.a)(f,2),v=g[0],y=g[1],w=Object(a.useState)(),C=Object(i.a)(w,2),S=C[0],N=C[1],_=Object(a.useState)(),k=Object(i.a)(_,2),E=k[0],D=k[1],T=Object(a.useState)(),L=Object(i.a)(T,2),F=L[0],M=L[1];Object(a.useEffect)((function(){fetch(e.server+"risk/get_risk/"+e.robot).then((function(e){return e.json()})).then((function(e){s(e.daily_risk_perc),j(e.daily_trade_limit),u(e.risk_per_trade),y(e.quantity_type),N(e.quantity),D(e.sl),M(e.win_exp)})).catch((function(e){console.error("Error Message:",e)}))}),[e]);return Object(x.jsx)(I,{title:"Risk Settings",children:Object(x.jsxs)(O.a,{children:[Object(x.jsxs)(O.a.Group,{className:"mb-3",controlId:"daily_risk_perc",children:[Object(x.jsx)(O.a.Label,{children:"Daily Loss Limit"}),Object(x.jsx)(O.a.Control,{onChange:function(e){return s(e.target.value)},type:"number",value:c,min:0,max:1,step:.01})]}),Object(x.jsxs)(O.a.Group,{className:"mb-3",controlId:"daily_trade_limit",children:[Object(x.jsx)(O.a.Label,{children:"Max Number of Trades per Day"}),Object(x.jsx)(O.a.Control,{onChange:function(e){return j(e.target.value)},type:"number",value:o,min:0})]}),Object(x.jsxs)(O.a.Group,{className:"mb-3",controlId:"risk_per_trade",children:[Object(x.jsx)(O.a.Label,{children:"Risk Exposure per Trade"}),Object(x.jsx)(O.a.Control,{onChange:function(e){return u(e.target.value)},type:"number",value:h,min:0,step:.005})]}),Object(x.jsxs)(O.a.Group,{className:"mb-3",controlId:"quantity_type",children:[Object(x.jsx)(O.a.Label,{children:"Quantity Type"}),Object(x.jsxs)(O.a.Control,{onChange:function(e){return y(e.target.value)},value:v,as:"select",children:[Object(x.jsx)("option",{value:"Stop Based",children:"Stop Based"}),Object(x.jsx)("option",{value:"Fix",children:"Fix"})]})]}),Object(x.jsxs)(O.a.Group,{className:"mb-3",controlId:"quantity",children:[Object(x.jsx)(O.a.Label,{children:"Quantity"}),Object(x.jsx)(O.a.Control,{onChange:function(e){return N(e.target.value)},type:"number",placeholder:S,min:0})]}),Object(x.jsxs)(O.a.Group,{className:"mb-3",controlId:"sl",children:[Object(x.jsx)(O.a.Label,{children:"Stop Loss"}),Object(x.jsx)(O.a.Control,{onChange:function(e){return D(e.target.value)},type:"number",placeholder:E,min:0})]}),Object(x.jsxs)(O.a.Group,{className:"mb-3",controlId:"win_exp",children:[Object(x.jsx)(O.a.Label,{children:"Winning Exposure per Trade"}),Object(x.jsx)(O.a.Control,{onChange:function(e){return M(e.target.value)},type:"number",placeholder:F,min:0})]}),Object(x.jsx)(p.a,{onClick:function(t){t.preventDefault(),m.a.post(e.server+"risk/update_robot_risk/",{robot:e.robot,daily_risk:c,nbm_trades:o,risk_per_trade:h,pyramiding_level:1,quantity_type:v,quantity:S,sl:E,win_exp:F}).then((function(t){return alert("Risk is updated for "+e.robot)})).catch((function(e){console.error("Error Message:",e)}))},variant:"primary",type:"submit",children:"Save"})]})})},bt=function(e){var t=Object(a.useState)(),r=Object(i.a)(t,2),c=r[0],s=r[1];return Object(x.jsx)(I,{title:"Settings",style:{margin:"5px"},children:Object(x.jsxs)(O.a,{children:[Object(x.jsxs)(O.a.Group,{className:"mb-3",controlId:"quantity_type",children:[Object(x.jsx)(O.a.Label,{children:"Status"}),Object(x.jsxs)(O.a.Control,{onChange:function(e){return s(e.target.value)},defaultValue:"active",as:"select",children:[Object(x.jsx)("option",{value:"active",children:"Active"}),Object(x.jsx)("option",{value:"inactive",children:"Inactive"})]})]}),Object(x.jsx)(p.a,{onClick:function(t){t.preventDefault(),m.a.post(e.server+"robots/update_status/",{robot:e.robot,status:c}).then((function(t){return alert("Risk is updated for "+e.robot)})).catch((function(e){console.error("Error Message:",e)}))},variant:"primary",type:"submit",children:"Save"})]})})},ht=function(e){return Object(x.jsxs)(j.a,{style:{height:"100%",width:"100%",margin:"0px"},children:[Object(x.jsx)(d.a,{children:Object(x.jsx)(dt,{robot:e.robot,server:e.server})}),Object(x.jsx)(d.a,{children:Object(x.jsx)(bt,{robot:e.robot,server:e.server})})]})},ut=r(149),Ot=function(e){var t=Object(a.useContext)(C).server,r=Object(a.useContext)(u).environment,c=Object(a.useContext)(T).robots,s=Object(a.useState)(c[0].name),n=Object(i.a)(s,2),b=n[0],h=n[1],O=Object(a.useState)(!1),p=Object(i.a)(O,2),f=p[0],m=p[1],g=Object(a.useState)(!1),v=Object(i.a)(g,2),y=v[0],w=v[1],S=Object(a.useState)(!1),N=Object(i.a)(S,2),_=N[0],k=N[1];return Object(x.jsxs)(o.a,{style:{background:"#FBFAFA",width:"100%",height:window.innerHeight,padding:"0px"},fluid:!0,children:[Object(x.jsxs)(j.a,{style:{height:"100%",margin:"0px"},children:[Object(x.jsx)(Y.c,{children:Object(x.jsxs)(Y.a,{iconShape:"square",children:[Object(x.jsx)(Y.d,{title:"Robot",icon:Object(x.jsx)(Ae.d,{size:20,className:"rounded-circle"}),children:Object(x.jsx)(Y.b,{style:{padding:"5px"},children:Object(x.jsx)(ze,{robots:c,server:t,env:r,robotChange:function(e){h(e)}})})}),Object(x.jsx)(Y.b,{onClick:function(){m(!0)},icon:Object(x.jsx)(Ae.i,{size:20,className:"rounded-circle"}),children:"New Robot"}),Object(x.jsxs)(Y.b,{icon:Object(x.jsx)(ut.a,{size:20}),children:["Dashboard",Object(x.jsx)(V.b,{to:"/robot/dashboard"})]}),Object(x.jsx)(Y.d,{title:"Trade",icon:Object(x.jsx)(Ae.e,{size:20}),children:Object(x.jsx)(Y.b,{children:"Robot"})}),Object(x.jsxs)(Y.d,{title:"Calculations",icon:Object(x.jsx)(Ae.c,{size:20,className:"rounded-circle"}),children:[Object(x.jsx)(Y.b,{onClick:function(){w(!0)},children:"Balance"}),Object(x.jsx)(Y.b,{onClick:function(){k(!0)},children:"Pricing"})]}),Object(x.jsxs)(Y.b,{icon:Object(x.jsx)(Ae.l,{size:20,className:"rounded-circle"}),children:["Transactions",Object(x.jsx)(V.b,{to:"/robot/transactions"})]}),Object(x.jsxs)(Y.b,{icon:Object(x.jsx)(Ae.g,{size:20}),children:["Risk",Object(x.jsx)(V.b,{to:"/robot/risk"})]}),Object(x.jsxs)(Y.b,{icon:Object(x.jsx)(Ae.a,{size:20}),children:["Return",Object(x.jsx)(V.b,{to:"/robot/return"})]}),Object(x.jsxs)(Y.b,{icon:Object(x.jsx)(Ae.j,{size:20}),children:["Settings",Object(x.jsx)(V.b,{to:"/robot/settings"})]})]})}),Object(x.jsx)(d.a,{style:{width:"50%"},children:Object(x.jsx)(j.a,{style:{padding:"15px",height:window.innerHeight,width:"100%",margin:"0px"},children:Object(x.jsxs)(l.c,{children:[Object(x.jsx)(l.a,{path:"/robot/dashboard",children:Object(x.jsx)($e,{server:t,robot:b,default:c[0]})}),Object(x.jsx)(l.a,{path:"/robot/transactions",children:Object(x.jsx)(nt,{robot:b,server:t})}),Object(x.jsx)(l.a,{path:"/robot/risk",children:Object(x.jsx)(it,{robot:b,server:t})}),Object(x.jsx)(l.a,{path:"/robot/return",children:Object(x.jsx)(jt,{robot:b,server:t})}),Object(x.jsx)(l.a,{path:"/robot/settings",children:Object(x.jsx)(ht,{robot:b,server:t})})]})})})]}),Object(x.jsx)(Pe,{show:f,hide:function(){m(!1)},server:t,style:{height:"400px"}}),Object(x.jsx)(Ge,{show:y,hide:function(){w(!1)},server:t,robot:b}),Object(x.jsx)(He,{show:_,hide:function(){k(!1)},server:t,robot:b})]})},xt=(r(216),c.a.createContext({})),pt=c.a.createContext({}),ft=function(e){var t=Object(a.useState)(!1),r=Object(i.a)(t,2),c=r[0],s=r[1],n=Object(a.useState)(),l=Object(i.a)(n,2),o=l[0],j=l[1],d=Object(a.useState)(),b=Object(i.a)(d,2),h=b[0],u=b[1],f=Object(a.useState)("ffm_system"),g=Object(i.a)(f,2),v=g[0],y=g[1],w=Object(a.useState)(),C=Object(i.a)(w,2),S=C[0],N=C[1],_=Object(a.useState)("USD"),k=Object(i.a)(_,2),E=k[0],D=k[1],T=Object(a.useState)("Cash"),F=Object(i.a)(T,2),M=F[0],A=F[1],I=function(){s(!1)},R=function(t){t.preventDefault(),m.a.post(e.server+"instruments/new/",{inst_name:o,internal_code:h,broker:v,source_code:S,currency:E,instrument_type:M}).then((function(t){"New Portfolio is created!"==t.data?(alert("New portfolio is created!"),e.hide()):alert(t.data)})).catch((function(e){console.error("Error Message:",e)}))};return Object(x.jsxs)("div",{children:[Object(x.jsx)(p.a,{variant:"primary",onClick:function(){return s(!0)},children:"New Security"}),Object(x.jsxs)(L.a,{show:c,onHide:I,children:[Object(x.jsx)(L.a.Header,{closeButton:!0,children:Object(x.jsx)(L.a.Title,{children:"New Instrument"})}),Object(x.jsx)(L.a.Body,{children:Object(x.jsxs)(O.a,{onSubmit:R,style:{width:"100%"},children:[Object(x.jsxs)(O.a.Group,{children:[Object(x.jsx)(O.a.Label,{children:"Name"}),Object(x.jsx)(O.a.Control,{onChange:function(e){return j(e.target.value)},type:"text",required:!0})]}),Object(x.jsxs)(O.a.Group,{children:[Object(x.jsx)(O.a.Label,{children:"Internal Code"}),Object(x.jsx)(O.a.Control,{onChange:function(e){return u(e.target.value)},type:"text",required:!0})]}),Object(x.jsxs)(O.a.Group,{className:"form-group",children:[Object(x.jsx)(O.a.Label,{style:{textAlign:"left"},children:"Type"}),Object(x.jsxs)(O.a.Control,{onChange:function(e){return A(e.target.value)},as:"select",children:[Object(x.jsx)("option",{value:"Cash",children:"Cash"}),Object(x.jsx)("option",{value:"Commodity",children:"Commodity"}),Object(x.jsx)("option",{value:"CFD",children:"CFD"}),Object(x.jsx)("option",{value:"Equity",children:"Equity"}),Object(x.jsx)("option",{value:"Fixed Income",children:"Fixed Income"}),Object(x.jsx)("option",{value:"Futures",children:"Futures"}),Object(x.jsx)("option",{value:"Mutual Fund",children:"Mutual Fund"}),Object(x.jsx)("option",{value:"Robot",children:"Robot"})]})]}),Object(x.jsxs)(O.a.Group,{children:[Object(x.jsx)(O.a.Label,{children:"Broker"}),Object(x.jsxs)(O.a.Control,{onChange:function(e){return y(e.target.value)},type:"text",required:!0,as:"select",children:[Object(x.jsx)("option",{value:"ffm_system",children:"FFM System"}),Object(x.jsx)("option",{value:"oanda",children:"Oanda"}),Object(x.jsx)("option",{value:"MAP",children:"Magyar \xc1llamkincst\xe1r"})]})]}),Object(x.jsxs)(O.a.Group,{children:[Object(x.jsx)(O.a.Label,{children:"Broker Ticker"}),Object(x.jsx)(O.a.Control,{onChange:function(e){return N(e.target.value)},type:"text",required:!0})]}),Object(x.jsxs)(O.a.Group,{children:[Object(x.jsx)(O.a.Label,{children:"Currency"}),Object(x.jsxs)(O.a.Control,{onChange:function(e){return D(e.target.value)},type:"text",required:!0,as:"select",children:[Object(x.jsx)("option",{value:"USD",children:"USD"}),Object(x.jsx)("option",{value:"EUR",children:"EUR"}),Object(x.jsx)("option",{value:"HUF",children:"HUF"})]})]})]})}),Object(x.jsxs)(L.a.Footer,{children:[Object(x.jsx)(p.a,{variant:"secondary",onClick:I,children:"Close"}),Object(x.jsx)(p.a,{variant:"primary",onClick:R,children:"Save"})]})]})]})},mt=function(e){var t=Object(a.useContext)(xt).saveInstrumentSearchResults,r=Object(a.useContext)(pt).brokerData,c=Object(a.useState)(),s=Object(i.a)(c,2),n=s[0],l=s[1],o=Object(a.useState)(),h=Object(i.a)(o,2),u=h[0],f=h[1],g=Object(a.useState)(),v=Object(i.a)(g,2),y=v[0],w=v[1],C=Object(a.useState)(),S=Object(i.a)(C,2),N=S[0],_=S[1],k=Object(a.useState)(),E=Object(i.a)(k,2),D=E[0],T=E[1],L=r.map((function(e){return Object(x.jsx)("option",{value:e.broker_code,children:e.broker},e.id)}));return Object(x.jsxs)(b.a,{className:"card main-layout",children:[Object(x.jsx)(b.a.Title,{className:"card-header-first",children:"Search"}),Object(x.jsxs)(O.a,{children:[Object(x.jsxs)(O.a.Group,{as:j.a,className:"form-group",children:[Object(x.jsx)(d.a,{className:"search-parameter",sm:4,children:Object(x.jsx)(O.a.Label,{children:"Name"})}),Object(x.jsx)(d.a,{sm:8,children:Object(x.jsx)(O.a.Control,{onChange:function(e){return l(e.target.value)},size:"sm",type:"text"})})]}),Object(x.jsxs)(O.a.Group,{as:j.a,className:"form-group",children:[Object(x.jsx)(d.a,{className:"search-parameter",sm:4,children:Object(x.jsx)(O.a.Label,{children:"Code"})}),Object(x.jsx)(d.a,{sm:8,children:Object(x.jsx)(O.a.Control,{onChange:function(e){return _(e.target.value)},size:"sm",type:"text"})})]}),Object(x.jsxs)(O.a.Group,{as:j.a,className:"form-group",children:[Object(x.jsx)(d.a,{className:"search-parameter",sm:4,children:Object(x.jsx)(O.a.Label,{style:{textAlign:"left"},children:"Type"})}),Object(x.jsx)(d.a,{sm:8,children:Object(x.jsxs)(O.a.Control,{onChange:function(e){return f(e.target.value)},size:"sm",as:"select",children:[Object(x.jsx)("option",{value:"Cash",children:"Cash"}),Object(x.jsx)("option",{value:"Commodity",children:"Commodity"}),Object(x.jsx)("option",{value:"CFD",children:"CFD"}),Object(x.jsx)("option",{value:"Equity",children:"Equity"}),Object(x.jsx)("option",{value:"Fixed Income",children:"Fixed Income"}),Object(x.jsx)("option",{value:"Futures",children:"Futures"}),Object(x.jsx)("option",{value:"Mutual Fund",children:"Mutual Fund"}),Object(x.jsx)("option",{value:"Robot",children:"Robot"})]})})]}),Object(x.jsxs)(O.a.Group,{as:j.a,className:"form-group",children:[Object(x.jsx)(d.a,{className:"search-parameter",sm:4,children:Object(x.jsx)(O.a.Label,{style:{textAlign:"left"},children:"Currency"})}),Object(x.jsx)(d.a,{sm:8,children:Object(x.jsxs)(O.a.Control,{onChange:function(e){return w(e.target.value)},size:"sm",as:"select",children:[Object(x.jsx)("option",{value:"USD",children:"USD"}),Object(x.jsx)("option",{value:"EUR",children:"EUR"}),Object(x.jsx)("option",{value:"HUF",children:"HUF"})]})})]}),Object(x.jsxs)(O.a.Group,{as:j.a,className:"form-group",children:[Object(x.jsx)(d.a,{className:"search-parameter",sm:4,children:Object(x.jsx)(O.a.Label,{children:"Source"})}),Object(x.jsx)(d.a,{sm:8,children:Object(x.jsx)(O.a.Control,{onChange:function(e){return T(e.target.value)},size:"sm",as:"select",children:L})})]})]}),Object(x.jsxs)(j.a,{children:[Object(x.jsx)(d.a,{children:Object(x.jsx)(p.a,{onClick:function(){m.a.get(e.server+"instruments/get_instruments/",{params:{instrument_name:n,currency:y,code:N,source:D,instrument_type:u}}).then((function(e){return t(e.data)})).catch((function(e){console.error("Error Message:",e)}))},variant:"primary",type:"submit",children:"Search"})}),Object(x.jsx)(d.a,{children:Object(x.jsx)(ft,{server:e.server})})]})]})},gt=(r(217),function(e){var t=Object(a.useContext)(xt).searchResults,r=Object(a.useContext)(xt).saveSelectedInstrument,c=t.map((function(e){return Object(x.jsxs)("tr",{onDoubleClick:function(){return s(e.id)},children:[Object(x.jsx)("td",{className:"table-row",children:e.instrument_name}),Object(x.jsx)("td",{className:"table-row",children:e.inst_code}),Object(x.jsx)("td",{className:"table-row",children:e.instrument_type}),Object(x.jsx)("td",{className:"table-row",children:e.currency}),Object(x.jsx)("td",{className:"table-row",children:e.source}),Object(x.jsx)("td",{className:"table-row",children:e.source_code})]},e.id)})),s=function(t){m.a.get(e.server+"instruments/get_instruments/",{params:{id:t}}).then((function(e){return r(e.data)})).catch((function(e){console.error("Error Message:",e)}))};return Object(x.jsxs)(b.a,{className:"card main-layout",children:[Object(x.jsx)(b.a.Title,{className:"card-header-first",children:"Available Instruments"}),Object(x.jsx)("div",{style:{height:"100%",overflowY:"scroll",overflowX:"hidden"},children:Object(x.jsxs)(v.a,{children:[Object(x.jsx)("thead",{className:"table-header-row",children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"table-header-row",children:"Name"}),Object(x.jsx)("td",{className:"table-header-row",children:"Internal Code"}),Object(x.jsx)("td",{className:"table-header-row",children:"Instrument Type"}),Object(x.jsx)("td",{className:"table-header-row",children:"Currency"}),Object(x.jsx)("td",{className:"table-header-row",children:"Broker"}),Object(x.jsx)("td",{className:"table-header-row",children:"Broker Ticker"})]})}),Object(x.jsx)("tbody",{style:{height:"100%",overflow:"scroll"},children:c})]})})]})}),vt=r(150),yt=r(91),wt=function(e){return Object(x.jsx)(p.a,{onClick:function(){m.a.post(e.server+"instruments/delete_instrument/",{id:e.instrumentID}).then((function(e){return alert(e.data)})).catch((function(e){console.error("Error Message:",e)}))},children:"Delete"})},Ct=function(e){var t=Object(a.useRef)(),r=Object(a.useRef)(),c=Object(a.useRef)(),s=Object(a.useRef)(),n=Object(a.useRef)();return Object(x.jsxs)("div",{children:[Object(x.jsxs)(O.a,{children:[Object(x.jsxs)(O.a.Group,{as:j.a,className:"form-group",children:[Object(x.jsx)(d.a,{className:"search-parameter",sm:4,children:Object(x.jsx)(O.a.Label,{children:"Name"})}),Object(x.jsx)(d.a,{sm:8,children:Object(x.jsx)(O.a.Control,{ref:t,size:"sm",defaultValue:e.data.instrument_name,type:"text"},e.data.instrument_name)})]}),Object(x.jsxs)(O.a.Group,{as:j.a,className:"form-group",children:[Object(x.jsx)(d.a,{className:"search-parameter",sm:4,children:Object(x.jsx)(O.a.Label,{children:"Instrument Code"})}),Object(x.jsx)(d.a,{sm:8,children:Object(x.jsx)(O.a.Control,{ref:r,size:"sm",defaultValue:e.data.inst_code,type:"text"},e.data.inst_code)})]}),Object(x.jsxs)(O.a.Group,{as:j.a,className:"form-group",children:[Object(x.jsx)(d.a,{className:"search-parameter",sm:4,children:Object(x.jsx)(O.a.Label,{children:"Currency"})}),Object(x.jsx)(d.a,{sm:8,children:Object(x.jsxs)(O.a.Control,{ref:c,size:"sm",as:"select",children:[Object(x.jsx)("option",{hidden:!0,children:"Please select a currency"}),Object(x.jsx)("option",{value:"USD",children:"USD"}),Object(x.jsx)("option",{value:"EUR",children:"EUR"}),Object(x.jsx)("option",{value:"HUF",children:"HUF"})]})})]}),Object(x.jsxs)(O.a.Group,{as:j.a,className:"form-group",children:[Object(x.jsx)(d.a,{className:"search-parameter",sm:4,children:Object(x.jsx)(O.a.Label,{children:"Broker Ticker"})}),Object(x.jsx)(d.a,{sm:8,children:Object(x.jsx)(O.a.Control,{ref:s,size:"sm",defaultValue:e.data.source_code,type:"text"},e.data.source_code)})]}),Object(x.jsxs)(O.a.Group,{as:j.a,className:"form-group",children:[Object(x.jsx)(d.a,{className:"search-parameter",sm:4,children:Object(x.jsx)(O.a.Label,{children:"Instrument Type"})}),Object(x.jsx)(d.a,{sm:8,children:Object(x.jsxs)(O.a.Control,{ref:n,size:"sm",as:"select",children:[Object(x.jsx)("option",{hidden:!0,children:"Please select an instrument type"}),Object(x.jsx)("option",{value:"Cash",children:"Cash"}),Object(x.jsx)("option",{value:"Commodity",children:"Commodity"}),Object(x.jsx)("option",{value:"CFD",children:"CFD"}),Object(x.jsx)("option",{value:"Equity",children:"Equity"}),Object(x.jsx)("option",{value:"Fixed Income",children:"Fixed Income"}),Object(x.jsx)("option",{value:"Futures",children:"Futures"}),Object(x.jsx)("option",{value:"Mutual Fund",children:"Mutual Fund"}),Object(x.jsx)("option",{value:"Robot",children:"Robot"})]})})]})]}),Object(x.jsx)(p.a,{onClick:function(){m.a.post(e.server+"instruments/update_instrument/",{id:e.data.id,inst_code:r.current.value,currency:c.current.value,instrument_name:t.current.value,source_code:s.current.value,instrument_type:n.current.value}).then((function(e){return console.log(e.data)})).catch((function(e){console.error("Error Message:",e)}))},children:"Save"}),Object(x.jsx)(wt,{server:e.server,instrumentID:e.data.id})]})},St=(r(218),r(219),function(e){var t=Object(a.useContext)(xt).selectedInstrument,r=Object(a.useContext)(pt).brokerData,c=Object(a.useContext)(de).currentDate,s=Object(a.useState)(!1),n=Object(i.a)(s,2),l=n[0],o=n[1],j=Object(a.useRef)(),d=Object(a.useRef)(),b=Object(a.useState)("ffm_system"),h=Object(i.a)(b,2),u=h[0],f=h[1],g=r.map((function(e){return Object(x.jsx)("option",{value:e.broker_code,children:e.broker},e.id)})),v=function(){o(!1)},y=function(r){r.preventDefault(),console.log(u),m.a.post(e.server+"instruments/new/price/",{inst_code:t[0].id,price:j.current.value,date:d.current.value,source:u}).then((function(t){"New Portfolio is created!"==t.data?(alert("New portfolio is created!"),e.hide()):alert(t.data)})).catch((function(e){console.error("Error Message:",e)}))};return Object(x.jsxs)("div",{children:[Object(x.jsx)(p.a,{className:"operation-button",onClick:function(){return o(!0)},children:"New"}),Object(x.jsxs)(L.a,{show:l,onHide:v,children:[Object(x.jsx)(L.a.Header,{closeButton:!0,children:Object(x.jsx)(L.a.Title,{children:"New Price"})}),Object(x.jsx)(L.a.Body,{children:Object(x.jsxs)(O.a,{onSubmit:y,style:{width:"100%"},children:[Object(x.jsxs)(O.a.Group,{children:[Object(x.jsx)(O.a.Label,{children:"Name"}),Object(x.jsx)(O.a.Control,{type:"text",placeHolder:t[0].instrument_name,disabled:!0})]}),Object(x.jsxs)(O.a.Group,{children:[Object(x.jsx)(O.a.Label,{children:"Internal Code"}),Object(x.jsx)(O.a.Control,{type:"text",placeHolder:t[0].id,disabled:!0})]}),Object(x.jsxs)(O.a.Group,{children:[Object(x.jsx)(O.a.Label,{children:"Price"}),Object(x.jsx)(O.a.Control,{ref:j,type:"text"})]}),Object(x.jsxs)(O.a.Group,{children:[Object(x.jsx)(O.a.Label,{children:"Dater"}),Object(x.jsx)(O.a.Control,{ref:d,type:"date",defaultValue:c,required:!0})]}),Object(x.jsxs)(O.a.Group,{children:[Object(x.jsx)(O.a.Label,{children:"Source"}),Object(x.jsx)(O.a.Control,{onChange:function(e){return f(e.target.value)},type:"text",required:!0,as:"select",children:g})]})]})}),Object(x.jsxs)(L.a.Footer,{children:[Object(x.jsx)(p.a,{variant:"secondary",onClick:v,children:"Close"}),Object(x.jsx)(p.a,{variant:"primary",onClick:y,children:"Save"})]})]})]})}),Nt=function(e){var t=Object(a.useState)([]),r=Object(i.a)(t,2),c=r[0],s=r[1],n=Object(a.useContext)(xt).selectedInstrument,l=Object(a.useContext)(de).currentDate,o=Object(a.useRef)(),h=c.map((function(e){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"table-row",children:e.price}),Object(x.jsx)("td",{className:"table-row",children:e.date}),Object(x.jsx)("td",{className:"table-row",children:e.source})]},e.id)})),u=function(){m.a.get(e.server+"instruments/get/prices/by_date",{params:{date:o.current.value,inst_code:n[0].id,source:n[0].source}}).then((function(e){return s(e.data)})).catch((function(e){console.error("Error Message:",e)}))};return Object(a.useEffect)((function(){u()}),[e]),Object(x.jsxs)(b.a,{className:"card main-layout",children:[Object(x.jsx)(b.a.Title,{className:"card-header-first",children:Object(x.jsxs)(j.a,{children:[Object(x.jsx)(d.a,{children:"Prices"}),Object(x.jsx)(d.a,{children:Object(x.jsx)(O.a.Control,{ref:o,onChange:u,type:"date",defaultValue:l,required:!0})}),Object(x.jsx)(d.a,{children:Object(x.jsx)(St,{server:e.server})}),Object(x.jsx)(d.a,{children:Object(x.jsx)(p.a,{className:"operation-button",children:"Delete"})}),Object(x.jsx)(d.a,{children:Object(x.jsx)(p.a,{className:"operation-button",children:"Import"})})]})}),Object(x.jsx)("div",{style:{height:"100%",overflowY:"scroll",overflowX:"hidden"},children:Object(x.jsxs)(v.a,{children:[Object(x.jsx)("thead",{className:"table-header-row",children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"table-header-row",children:"Price"}),Object(x.jsx)("td",{className:"table-header-row",children:"Date"}),Object(x.jsx)("td",{className:"table-header-row",children:"Source"})]})}),Object(x.jsx)("tbody",{style:{height:"100%",overflow:"scroll"},children:h})]})})]})},_t=(r(220),function(e){var t=Object(a.useContext)(C).server;return Object(x.jsx)(j.a,{className:"main-container",children:Object(x.jsx)(Nt,{server:t})})}),kt=(r(221),function(e){return Object(x.jsx)(b.a,{className:"card main-layout",children:Object(x.jsxs)(vt.a,{style:{width:"100%",margin:"0px",padding:"10px"},defaultActiveKey:"general",id:"fill-tab-example",className:"mb-3",fill:!0,children:[Object(x.jsx)(yt.a,{eventKey:"general",title:"General",style:{margin:"5px"},children:Object(x.jsx)(Ct,{data:e.data})}),Object(x.jsx)(yt.a,{eventKey:"fixed",title:"Fixed Income"}),Object(x.jsx)(yt.a,{eventKey:"settings",title:"Settings"}),Object(x.jsx)(yt.a,{className:"tab-body",eventKey:"prices",title:"Prices",children:Object(x.jsx)(_t,{data:e.data})})]})})}),Et=(r(222),function(){var e=Object(a.useState)([{id:"",instrument_name:"",currency:"",inst_code:"",instrument_type:"",source:""}]),t=Object(i.a)(e,2),r=t[0],c=t[1],s=Object(a.useState)([{inst_code:""}]),n=Object(i.a)(s,2),l=n[0],b=n[1],h=Object(a.useContext)(C).server;Object(a.useContext)(u).environment;return Object(x.jsx)(xt.Provider,{value:{searchResults:r,saveInstrumentSearchResults:c,selectedInstrument:l,saveSelectedInstrument:b},children:Object(x.jsx)(o.a,{style:{background:"#FBFAFA",width:"100%",height:window.innerHeight,padding:"0px"},fluid:!0,children:Object(x.jsxs)(j.a,{className:"row",style:{height:"90%",width:"100%"},children:[Object(x.jsxs)(d.a,{style:{height:"100%"},sm:4,children:[Object(x.jsx)(j.a,{style:{height:"50%"},children:Object(x.jsx)(mt,{server:h})}),Object(x.jsx)(j.a,{style:{height:"50%"},children:Object(x.jsx)(kt,{server:h,data:l[0]})})]}),Object(x.jsx)(d.a,{style:{height:"100%"},sm:8,children:Object(x.jsx)(gt,{server:h})})]})})})});r(223);var Dt=function(){var e=Object(a.useState)("live"),t=Object(i.a)(e,2),r=t[0],c=t[1],s=Object(a.useState)([]),n=Object(i.a)(s,2),o=n[0],j=n[1],d=Object(a.useState)([]),b=Object(i.a)(d,2),h=b[0],O=b[1],p=Object(a.useState)([{id:1,broker:"System",broker_code:"ffm_system"}]),f=Object(i.a)(p,2),g=f[0],v=f[1],y="https://pavliati.pythonanywhere.com/",w=new Date,N=new Date(w.getFullYear(),w.getMonth(),2),_=Object(a.useState)(N.toISOString().substr(0,10)),k=Object(i.a)(_,2),E=k[0],D=k[1],L=Object(a.useState)(w.toISOString().substr(0,10)),F=Object(i.a)(L,2),M=F[0],A=F[1],I=w.toISOString().substr(0,10);return Object(a.useEffect)((function(){m.a.get(y+"portfolios/get_portfolio_data/all").then((function(e){return j(e.data)})).catch((function(e){console.error("Error Message:",e)})),m.a.get(y+"accounts/get_brokers/").then((function(e){return v(e.data)})).catch((function(e){console.error("Error Message:",e)}))}),[]),Object(a.useEffect)((function(){m.a.get(y+"robots/get_robots/"+r).then((function(e){return O(e.data)})).catch((function(e){console.error("Error Message:",e)}))}),[]),Object(x.jsx)(C.Provider,{value:{server:y},children:Object(x.jsx)(u.Provider,{value:{environment:r},children:Object(x.jsx)(T.Provider,{value:{robots:h},children:Object(x.jsx)(re.Provider,{value:{portfolioData:o},children:Object(x.jsx)(de.Provider,{value:{startDate:E,endDate:M,saveStartDate:D,saveEndDate:A,currentDate:I},children:Object(x.jsxs)(pt.Provider,{value:{brokerData:g},children:[Object(x.jsx)(Me.a,{}),Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)(Be,{onEnvChange:function(e){c(e)},env:r}),Object(x.jsxs)(l.c,{children:[Object(x.jsx)(l.a,{path:"/risk",children:Object(x.jsx)(S,{})}),Object(x.jsx)(l.a,{path:"/home",children:Object(x.jsx)(q,{})}),Object(x.jsx)(l.a,{path:"/trade",children:Object(x.jsx)(Ne,{})}),Object(x.jsx)(l.a,{path:"/portfolio",children:Object(x.jsx)(ye,{})}),Object(x.jsx)(l.a,{path:"/instruments",children:Object(x.jsx)(Et,{})}),Object(x.jsx)(l.a,{path:"/robot",children:Object(x.jsx)(Ot,{})})]})]})]})})})})})})},Tt=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,246)).then((function(t){var r=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,n=t.getTTFB;r(e),a(e),c(e),s(e),n(e)}))};n.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(V.a,{children:Object(x.jsx)(Dt,{})})}),document.getElementById("root")),Tt()},36:function(e,t,r){}},[[224,1,2]]]);
//# sourceMappingURL=main.c95a951c.chunk.js.map